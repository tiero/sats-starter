(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{66598:function(e,t,r){"use strict";r.d(t,{CH:function(){return K}});var i,n,o,a,s=r(84434);r(46272);var u=r(57654),l=r(21876).Buffer;function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(u){s=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var n,o,a,s,u=Object.create((t&&t.prototype instanceof p?t:p).prototype),l=new P(i||[]);return u._invoke=(n=e,o=r,a=l,s="suspendedStart",function(e,t){if("executing"===s)throw Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return T()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){var i=_(r,a);if(i){if(i===h)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";var u=f(n,o,a);if("normal"===u.type){if(s=a.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s="completed",a.method="throw",a.arg=u.arg)}}),u}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(i){return{type:"throw",arg:i}}}e.wrap=l;var h={};function p(){}function d(){}function g(){}var b={};s(b,n,function(){return this});var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&r.call(m,n)&&(b=m);var v=g.prototype=p.prototype=Object.create(b);function w(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var i;function n(i,o,a,s){var u=f(e[i],e,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(c).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(u.arg)}this._invoke=function(e,r){function o(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(o,o):o()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return h;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return h}var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var n=i.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):n:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=g,s(v,"constructor",g),s(g,"constructor",d),d.displayName=s(g,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(E.prototype),s(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var a=new E(l(t,r,i,n),o);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(v),s(v,a,"Generator"),s(v,n,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=k,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=void 0),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;I(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function f(e,t,r,i,n,o,a){try{var s=e[o](a),u=s.value}catch(l){r(l);return}s.done?t(u):Promise.resolve(u).then(i,n)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var o=e.apply(t,r);function a(e){f(o,i,n,a,s,"next",e)}function s(e){f(o,i,n,a,s,"throw",e)}a(void 0)})}}function p(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,m(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function w(e,t,r){return(w=v()?Reflect.construct.bind():function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&m(n,r.prototype),n}).apply(null,arguments)}function E(e){return -1!==Function.toString.call(e).indexOf("[native code]")}function _(e){var t="function"==typeof Map?new Map:void 0;return(_=function(e){if(null===e||!E(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return w(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)})(e)}function S(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function P(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=S(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var k=function(e){return Object.keys(e).includes("signTransaction")},T=function(){function e(e){this.value=e}return e.fromSatoshis=function(t){return new e(s.confidential.satoshiToConfidentialValue(t))},e.fromBytes=function(t){return new e(t)},d(e,[{key:"satoshis",get:function(){return s.confidential.confidentialValueToSatoshi(this.value)}},{key:"bytes",get:function(){return this.value}}]),e}();function O(e,t){switch(t){case o.Bytes:if("string"==typeof e&&e.startsWith("0x")&&(e=l.from(e.slice(2),"hex")),!l.isBuffer(e))throw new A(typeof e,t);return e;case o.Number:if("number"!=typeof e)throw new A(typeof e,t);return s.script.number.encode(e);case o.XOnlyPublicKey:if("string"==typeof e&&e.startsWith("0x")&&(e=l.from(e.slice(2),"hex")),!l.isBuffer(e))throw new A(typeof e,t);if(32!==e.length)throw Error("Invalid x-only public key length");return e;case o.PublicKey:if("string"==typeof e&&e.startsWith("0x")&&(e=l.from(e.slice(2),"hex")),!l.isBuffer(e))throw new A(typeof e,t);if(33!==e.length)throw Error("Invalid public key length");return e;case o.Boolean:if("boolean"!=typeof e)throw new A(typeof e,t);return s.script.number.encode(e?1:0);case o.Asset:if("string"!=typeof e)throw new A(typeof e,t);return l.from(e,"hex").reverse();case o.Value:if("number"!=typeof e)throw new A(typeof e,t);return T.fromSatoshis(e).bytes.slice(1).reverse();case o.Signature:if(!k(e))throw new A(typeof e,t);return e;case o.DataSignature:if("string"==typeof e&&e.startsWith("0x")&&(e=l.from(e.slice(2),"hex")),!l.isBuffer(e))throw new A(typeof e,t);return e;default:throw Error("Unsupported type "+t)}}(i=o||(o={})).Number="number",i.Bytes="bytes",i.Boolean="bool",i.Asset="asset",i.Value="value",i.Signature="sig",i.DataSignature="datasig",i.PublicKey="pubkey",i.XOnlyPublicKey="xonlypubkey";var A=function(e){function t(t,r){return e.call(this,"Found type '"+t+"' where type '"+r.toString()+"' was expected")||this}return b(t,e),t}(_(Error));function x(e){return Object.keys(e).includes("newName")}function N(e,t){if(!["contractName","functions","constructorInputs"].every(function(t){return t in e}))throw Error("Invalid or incomplete artifact provided");if(e.constructorInputs.length!==t.length)throw Error("Incorrect number of arguments passed to "+e.contractName+" constructor");t.forEach(function(t,r){x(t)||O(t,e.constructorInputs[r].type)})}var R=l.from("0250929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0","hex"),B=196;function C(e,t,r){if(e.startsWith("$")){var i=e.slice(1),n=t.findIndex(function(e){return e.name===i});if(-1===n)throw Error(i+" not found in constructorInputs");return O(r[n],t[n].type).toString("hex")}return e.startsWith("0x")?e.slice(2):e}var U=function(){function e(e,t,r,i){this.atIndex=e,this.type=t,this.constructorInputs=r,this.constructorArgs=i}var t=e.prototype;return t.checkOutputScript=function(e,t){var r=l.from(C(e.program,this.constructorInputs,this.constructorArgs),"hex"),i=e.version<0?t:t.slice(2);if(!r.equals(i))throw Error("required "+this.type+" script does not match the transaction "+this.type+" index "+this.atIndex)},t.checkOutputValue=function(e,t){var r=l.from(C(e,this.constructorInputs,this.constructorArgs),"hex"),i=l.from(t).slice(1).reverse();if(!r.equals(i))throw Error("required "+this.type+" value does not match the transaction "+this.type+" index "+this.atIndex)},t.checkOutputAsset=function(e,t){var r=l.from(C(e,this.constructorInputs,this.constructorArgs),"hex"),i=l.from(t).slice(1);if(!r.equals(i))throw Error("required "+this.type+" asset does not match the transaction "+this.type+" index "+this.atIndex)},t.checkOutputNonce=function(e,t){if(!(""===e&&t.equals(l.of(0)))){var r=l.from(C(e,this.constructorInputs,this.constructorArgs),"hex"),i=l.from(t);if(!r.equals(i))throw Error("required "+this.type+" nonce does not match the transaction "+this.type+" index "+this.atIndex)}},e}();function M(e){for(var t,r=function(){var e=t.value,r=e.type,i=e.atIndex,n=e.expected,o=function(){if(void 0===i)throw Error("atIndex field is required for requirement of type "+r)},a=function(){if(!n)throw Error("expected field of type "+r+" is required at index "+i)};switch(r){case"input":case"inputscript":case"inputvalue":case"inputasset":case"inputhash":case"inputindex":case"outputscript":case"outputvalue":case"outputasset":case"outputnonce":o(),a();break;case"output":if(o(),a(),!["script","value","asset","nonce"].every(function(e){return(e in n)})||!["version","program"].every(function(e){return(e in n.script)}))throw Error("Invalid or incomplete artifact provided");break;case"after":case"older":a()}},i=P(e);!(t=i()).done;)r()}(n=a||(a={})).After="after",n.Older="older",n.Input="input",n.Output="output",n.InputValue="inputvalue",n.InputScript="inputscript",n.InputAsset="inputasset",n.InputHash="inputhash",n.InputIndex="inputindex",n.OutputValue="outputvalue",n.OutputScript="outputscript",n.OutputAsset="outputasset",n.OutputNonce="outputnonce";var j=function(){function e(e,t,r,i,n,o,u,c,f,h,p){var d,b=this;if(this.constructorInputs=e,this.constructorArgs=t,this.artifactFunction=r,this.functionArgs=i,this.selector=n,this.fundingUtxo=o,this.taprootData=c,this.network=f,this.ecclib=h,this.zkplib=p,this.fundingUtxoIndex=0,this.unblindedInputs=[],this.pset=s.Creator.newPset(),this.fundingUtxo){var y=this.taprootData.leaves[this.selector],m=y.version||B,v=s.bip341.tapLeafHash(y),w=s.bip341.toHashTree(this.taprootData.leaves),E=s.bip341.findScriptPath(w,v),_=l.of(m+this.taprootData.parity),S=l.concat([_,R.slice(1)].concat(E));this.artifactFunction.require.forEach(function(e){if(e.type===a.After){var t=l.from(C(e.expected,b.constructorInputs,b.constructorArgs),"hex");b.pset=s.Creator.newPset({locktime:s.script.number.decode(t)}),d=4294967294;return}if(e.type===a.Older){var r=l.from(C(e.expected,b.constructorInputs,b.constructorArgs),"hex");d=s.script.number.decode(r);return}});var I=new s.Updater(this.pset);I.addInputs([{txid:this.fundingUtxo.txid,txIndex:this.fundingUtxo.vout,sequence:d,witnessUtxo:this.fundingUtxo.prevout,tapLeafScript:{controlBlock:S,leafVersion:m,script:l.from(y.scriptHex,"hex")},sighashType:s.Transaction.SIGHASH_DEFAULT}]),u&&this.unblindedInputs.push(g({index:this.fundingUtxoIndex},u))}}var t,r=e.prototype;return r.withUtxo=function(e){new s.Updater(this.pset).addInputs([{txid:e.txid,txIndex:e.vout,witnessUtxo:e.prevout,sighashType:s.Transaction.SIGHASH_ALL}]);var t=this.pset.inputs.length-1;return e&&(0,u.isUnblindedOutput)(e)&&(0,u.isConfidentialOutput)(e.prevout)&&this.unblindedInputs.push(g({index:t},e.unblindData)),this},r.withRecipient=function(e,t,r,i){void 0===r&&(r=this.network.assetHash),void 0===i&&(i=0);var n=s.address.toOutputScript(e),o=s.address.isConfidential(e)?s.address.fromConfidential(e).blindingKey:void 0;return new s.Updater(this.pset).addOutputs([{script:n,asset:r,amount:t,blinderIndex:i,blindingPublicKey:o}]),this},r.withOpReturn=function(e,t,r,i,n){void 0===e&&(e=0),void 0===t&&(t=this.network.assetHash),void 0===r&&(r=[]),void 0===n&&(n=0);var o=s.script.compile([s.script.OPS.OP_RETURN].concat(r.map(function(e){return l.from(e,"hex")}))),a=i?l.from(i,"hex"):void 0;return new s.Updater(this.pset).addOutputs([{script:o,asset:t,amount:e,blinderIndex:n,blindingPublicKey:a}]),this},r.withFeeOutput=function(e){return new s.Updater(this.pset).addOutputs([{asset:this.network.assetHash,amount:e}]),this},r.unlock=(t=h(c().mark(function e(){var t,r,i,n,o,a,u,l,f,h,p,d,g,b,y,m,v,w,E,_,S,I=this;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],r=function(){var e=n.value,t=e.type,r=e.atIndex,i=e.expected,o=function(){if(r>=I.pset.inputs.length)throw Error(t+" is required at index "+r)},a=function(){if(r>=I.pset.outputs.length)throw Error(t+" is required at index "+r)},s=new U(r,t,I.constructorInputs,I.constructorArgs);switch(t){case"input":o();break;case"outputscript":a();var u=I.pset.unsignedTx().outs[r],l=i;s.checkOutputScript(l,u.script);break;case"outputvalue":a();var c=I.pset.unsignedTx().outs[r],f=i;s.checkOutputValue(f,c.value);break;case"outputasset":a();var h=I.pset.unsignedTx().outs[r],p=i;s.checkOutputValue(p,h.asset);break;case"outputnonce":a();var d=I.pset.unsignedTx().outs[r],g=i;s.checkOutputNonce(g,d.nonce);break;case"output":a();var b=I.pset.unsignedTx().outs[r],y=i.script,m=i.value,v=i.nonce,w=i.asset;s.checkOutputValue(m,b.value),s.checkOutputScript(y,b.script),s.checkOutputAsset(w,b.asset),s.checkOutputNonce(v,b.nonce)}},i=P(this.artifactFunction.require);!(n=i()).done;)r();if(!(this.unblindedInputs.length>0)){e.next=11;break}if(this.pset.needsBlinding()){e.next=6;break}throw Error("if one confidential input is spent, at least one of the outputs must be blinded");case 6:o=new s.ZKPGenerator(this.zkplib,s.ZKPGenerator.WithOwnedInputs(this.unblindedInputs)),a=new s.ZKPValidator(this.zkplib),u=o.blindOutputs(this.pset,s.Pset.ECCKeysGenerator(this.ecclib)),new s.Blinder(this.pset,this.unblindedInputs,a,o).blindLast({outputBlindingArgs:u});case 11:l=P(this.functionArgs.entries());case 12:if((f=l()).done){e.next=27;break}if(p=(h=f.value)[0],k(d=h[1])){e.next=18;break}return g=O(d,this.artifactFunction.functionInputs[p].type),t.push(g),e.abrupt("continue",25);case 18:return e.next=20,d.signTransaction(this.pset.toBase64());case 20:if(b=e.sent,y=s.Pset.fromBase64(b),this.pset=y,v=(m=this.pset.inputs[this.fundingUtxoIndex]).tapKeySig,(w=m.tapScriptSig)&&w.length>0)for(E=P(w);!(_=E()).done;)S=_.value,t.push(S.signature);else v&&(t=[v].concat(t));case 25:e.next=12;break;case 27:return new s.Finalizer(this.pset).finalizeInput(this.fundingUtxoIndex,function(e,r){var i=r.inputs[e].tapLeafScript[0];return{finalScriptSig:void 0,finalScriptWitness:(0,s.witnessStackToScriptWitness)([].concat(t.reverse(),[i.script,i.controlBlock]))}}),e.abrupt("return",this);case 30:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),r.toHex=function(){return s.Extractor.extract(this.pset).toHex()},e}();function L(e,t,r){var i=e.slice(1,33),n=l.concat([i,t]),o=s.crypto.taggedHash("TapTweak/elements",n),a=r.xOnlyPointAddTweak(i,o);if(!a)throw Error("Invalid tweaked key");return a}var K=function(){function e(e,t,r,i){var n=this;this.artifact=e,this.constructorArgs=t,this.network=r,this.secp256libs=i,this.bytesize=0,N(e,t),this.leaves=[],this.functions={},this.artifact.functions.forEach(function(r,i){if(!["name","functionInputs","require","asm"].every(function(e){return e in r}))throw Error("Invalid or incomplete function provided at index "+i);n.functions[r.name]=n.createFunction(r,i);var o=r.asm.map(function(r){return C(r,e.constructorInputs,t)});n.leaves.push({scriptHex:s.script.fromASM(o.join(" ")).toString("hex")})}),this.name=e.contractName;var o=s.bip341.BIP341Factory(this.secp256libs.ecc),a=s.bip341.toHashTree(this.leaves);this.scriptPubKey=o.taprootOutputScript(R,a),this.address=s.address.fromOutputScript(this.scriptPubKey,this.network);var u=L(R,a.hash,this.secp256libs.ecc).parity;this.parity=u}var t=e.prototype;return t.getTaprootTree=function(){return s.bip341.toHashTree(this.leaves,!0)},t.from=function(e,t,r,i){if(!r.script.equals(this.scriptPubKey))throw Error("given prevout script does not match contract scriptPubKey");return this.fundingUtxo={txid:e,vout:t,prevout:r},i&&(this.unblindDataFundingUtxo=i),this},t.createFunction=function(e,t){var r=this;return function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];if(e.functionInputs.length!==n.length)throw Error("Incorrect number of arguments passed to function "+e.name);return n.forEach(function(t,r){k(t)||O(t,e.functionInputs[r].type)}),M(e.require),new j(r.artifact.constructorInputs,r.constructorArgs,e,n,t,r.fundingUtxo,r.unblindDataFundingUtxo,{leaves:r.leaves,parity:r.parity},r.network,r.secp256libs.ecc,r.secp256libs.zkp)}},e}()},35617:function(e,t,r){var i=r(21876).Buffer;let n=r(45079),o=r(43720);e.exports=()=>new Promise(e=>{n().then(t=>{let r=[];function n(e){let i=t._malloc(e);return r.push(i),i}function a(){for(let e of r)t._free(e);r=[]}function s(e,r){let o=n(32),s=t.ccall("ecdh","number",["number","number","number"],[o,I(e),I(r)]);if(1===s){let u=new Uint8Array(t.HEAPU8.subarray(o,o+32));return a(),i.from(u)}throw a(),Error("secp256k1_ecdh",s)}function u(e){if(!e||!i.isBuffer(e)||32!==e.length)throw TypeError("seed must be a Buffer of 32 bytes");let r=n(64),o=t.ccall("generator_generate","number",["number","number"],[r,I(e)]);if(1===o){let s=new Uint8Array(t.HEAPU8.subarray(r,r+64));return a(),i.from(s)}throw a(),Error("secp256k1_generator_generate",o)}function l(e,r){if(!e||!i.isBuffer(e)||32!==e.length)throw TypeError("key must be a Buffer of 32 bytes");if(!r||!i.isBuffer(r)||32!==r.length)throw TypeError("blind must be a Buffer of 32 bytes");let o=n(64),s=t.ccall("generator_generate_blinded","number",["number","number","number"],[o,I(e),I(r)]);if(1===s){let u=new Uint8Array(t.HEAPU8.subarray(o,o+64));return a(),i.from(u)}throw a(),Error("secp256k1_generator_generate_blinded",s)}function c(e){if(!e||!i.isBuffer(e)||33!==e.length)throw TypeError("input must be a Buffer of 32 bytes");let r=n(64),o=t.ccall("generator_parse","number",["number","number"],[r,I(e)]);if(1===o){let s=new Uint8Array(t.HEAPU8.subarray(r,r+64));return a(),i.from(s)}throw a(),Error("secp256k1_generator_parse",o)}function f(e){if(!e||!i.isBuffer(e)||64!==e.length)throw TypeError("generator must be a Buffer of 32 bytes");let r=n(33),o=t.ccall("generator_serialize","number",["number","number"],[r,I(e)]);if(1===o){let s=new Uint8Array(t.HEAPU8.subarray(r,r+33));return a(),i.from(s)}throw a(),Error("secp256k1_generator_parse",o)}function h(e,r,s){if(!e||!i.isBuffer(e)||32!==e.length)throw TypeError("blindFactor must be a Buffer of 32 bytes");if(!s||!i.isBuffer(s)||64!==s.length)throw TypeError("generator must be a Buffer of 64 bytes");let u=n(64),l=o.fromString(r,!0),c=t.ccall("pedersen_commit","number",["number","number","number","number"],[u,I(e),l.low,l.high,I(s)]);if(1===c){let f=new Uint8Array(t.HEAPU8.subarray(u,u+64));return a(),i.from(f)}throw a(),Error("secp256k1_pedersen_commit",c)}function p(e){if(!e||!i.isBuffer(e)||64!==e.length)throw TypeError("commitment must be a Buffer of 64 bytes");let r=n(33),o=t.ccall("pedersen_commitment_serialize","number",["number","number"],[r,I(e)]);if(1===o){let s=new Uint8Array(t.HEAPU8.subarray(r,r+33));return a(),i.from(s)}throw a(),Error("secp256k1_pedersen_commitment_serialize",o)}function d(e){if(!e||!i.isBuffer(e)||33!==e.length)throw TypeError("input must be a Buffer of 33 bytes");let r=n(64),o=t.ccall("pedersen_commitment_parse","number",["number","number"],[r,I(e)]);if(1===o){let s=new Uint8Array(t.HEAPU8.subarray(r,r+64));return a(),i.from(s)}throw a(),Error("secp256k1_pedersen_commitment_parse",o)}function g(e,r,s,u){if(!s||!Array.isArray(s)||!s.length)throw TypeError("blindGenerators must be a non empty array of Buffers");if(!u||!Array.isArray(u))throw TypeError("blindFactors must be an array of Buffers");let l=e.map(e=>o.fromString(e,!0)),c=n(32),f=t.ccall("pedersen_blind_generator_blind_sum","number",["number","number","number","number","number","number"],[k(l),P(s),P(u),s.length,r,c]);if(1===f){let h=new Uint8Array(t.HEAPU8.subarray(c,c+32));return a(),i.from(h)}throw a(),Error("secp256k1_pedersen_blind_generator_blind_sum",f)}function b(e,r=0){if(!e||!Array.isArray(e)||!e.length)throw TypeError("blinds must be a non empty array of Buffers");let o=n(32),s=t.ccall("pedersen_blind_sum","number",["number","number","number","number"],[o,P(e),e.length,e.length-r]);if(1===s){let u=new Uint8Array(t.HEAPU8.subarray(o,o+32));return a(),i.from(u)}throw a(),Error("secp256k1_pedersen_blind_sum",s)}function y(e,r){if(!e||!Array.isArray(e)||!e.every(e=>33===e.length))throw TypeError("commits must be a non empty array of Buffers of 33 bytes");if(!r||!Array.isArray(r)||!r.every(e=>33===e.length))throw TypeError("negativeCommits must be a non empty array of Buffers of 33 bytes");let i=t.ccall("pedersen_verify_tally","number",["number","number","number","number"],[P(e),e.length,P(r),r.length]);return a(),1===i}function m(e,r,s,u,l,c="0",f=0,h=0,p=i.alloc(0),d=i.alloc(0)){if(!e||!i.isBuffer(e)||!e.length)throw TypeError("commit must be a non empty Buffer");if(!r||!i.isBuffer(r)||32!==r.length)throw TypeError("blind must be a Buffer of 32 bytes");if(!s||!i.isBuffer(s)||!s.length)throw TypeError("nonce must be a non empty Buffer");if(!l||!i.isBuffer(l)||64!==l.length)throw TypeError("generator must be a Buffer of 64 bytes");if(!i.isBuffer(p))throw TypeError("message must be a Buffer");if(!i.isBuffer(d))throw TypeError("extraCommit must be a Buffer");let g=n(5134),b=n(8);t.setValue(b,5134,"i64");let y=o.fromString(c,!0),m=o.fromString(u,!0),v=t.ccall("rangeproof_sign","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[g,b,y.low,y.high,I(e),I(r),I(s),f,h,m.low,m.high,I(p),p.length,I(d),d.length,I(l)]);if(1===v){let w=new Uint8Array(t.HEAPU8.subarray(g,g+t.getValue(b,"i64")));return a(),i.from(w)}throw a(),Error("secp256k1_rangeproof_sign",v)}function v(e){if(!e||!i.isBuffer(e)||!e.length)throw TypeError("proof must be a non empty Buffer");let r=I(4),n=I(4),o=I(8),s=I(8),u=t.ccall("rangeproof_info","number",["number","number","number","number","number","number"],[r,n,o,s,I(e),e.length]);if(1===u){let l={exp:t.getValue(r,"i32"),mantissa:t.getValue(n,"i32"),minValue:_(o).toString(),maxValue:_(s).toString()};return a(),l}throw a(),Error("secp256k1_rangeproof_info decode failed",u)}function w(e,r,n,o=i.alloc(0)){if(!e||!i.isBuffer(e)||64!==e.length)throw TypeError("commitment must be a Buffer of 64 bytes");if(!r||!i.isBuffer(r)||!r.length)throw TypeError("proof must be a non empty Buffer");if(!n||!i.isBuffer(n)||64!==n.length)throw TypeError("generator must be a Buffer of 64 bytes");if(!o||!i.isBuffer(o))throw TypeError("extraCommit must be a Buffer");let s=I(8),u=I(8),l=t.ccall("rangeproof_verify","number",["number","number","number","number","number","number","number","number"],[s,u,I(e),I(r),r.length,I(o),o.length,I(n)]);return a(),1===l}function E(e,r,o,s,u=[]){if(!e||!i.isBuffer(e)||!e.length)throw TypeError("commit must be a non empty Buffer");if(!r||!i.isBuffer(r)||!r.length)throw TypeError("proof must be a non empty Buffer");if(!o||!i.isBuffer(o)||!o.length)throw TypeError("nonce must be a non empty Buffer");if(!s||!i.isBuffer(s)||64!==s.length)throw TypeError("generator must be a Buffer of 64 bytes");if(!u||!i.isBuffer(u))throw TypeError("extraCommit must be a Buffer");let l=n(32),c=n(8),f=n(64),h=n(8),p=n(8),d=n(8);t.setValue(h,64,"i64");let g=t.ccall("rangeproof_rewind","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"],[l,c,f,h,I(o),p,d,I(e),I(r),r.length,I(u),u.length,I(s)]);if(1===g){let b=new Uint8Array(t.HEAPU8.subarray(l,l+32)),y=new Uint8Array(t.HEAPU8.subarray(f,f+t.getValue(h,"i64"))),m={value:_(c).toString(),minValue:_(p).toString(),maxValue:_(d).toString(),blindFactor:i.from(b),message:i.from(y)};return a(),m}throw a(),Error("secp256k1_rangeproof_rewind",g)}function _(e){return new o(t.getValue(e,"i32"),t.getValue(e+4,"i32"),!0)}function S(e){let r=n(4);return t.setValue(r,e,"i32"),r}function I(e){let r=n(e.length);for(let i=0;i<e.length;i++)t.setValue(r+i,e[i],"i8");return r}function P(e){let r=n(4*e.length);for(let i=0;i<e.length;i++){let o=I(e[i]);t.setValue(r+4*i,o,"i32")}return r}function k(e){let r=n(8*e.length);for(let i=0;i<e.length;i++)t.setValue(r+8*i,e[i].low,"i32"),t.setValue(r+8*i+4,e[i].high,"i32");return r}e({ecdh:s,ec:{prvkeyNegate:function(e){if(!e||!i.isBuffer(e)||32!==e.length)throw TypeError("key must be a non-empty Buffer of 32 bytes");let r=I(e),n=t.ccall("ec_seckey_negate","number",["number"],[r]);if(1===n){let o=new Uint8Array(t.HEAPU8.subarray(r,r+32));return a(),i.from(o)}throw a(),Error("ec_seckey_negate",n)},prvkeyTweakAdd:function(e,r){if(!e||!i.isBuffer(e)||32!==e.length)throw TypeError("key must be a non-empty Buffer of 32 bytes");if(!r||!i.isBuffer(r)||32!==r.length)throw TypeError("tweak must be a non-empty Buffer of 32 bytes");let n=I(e),o=t.ccall("ec_seckey_tweak_add","number",["number","number"],[n,I(r)]);if(1===o){let s=new Uint8Array(t.HEAPU8.subarray(n,n+32));return a(),i.from(s)}throw a(),Error("ec_seckey_tweak_add",o)},prvkeyTweakMul:function(e,r){if(!e||!i.isBuffer(e)||32!==e.length)throw TypeError("key must be a non-empty Buffer of 32 bytes");if(!r||!i.isBuffer(r)||32!==r.length)throw TypeError("tweak must be a non-empty Buffer of 32 bytes");let n=I(e),o=t.ccall("ec_seckey_tweak_mul","number",["number","number"],[n,I(r)]);if(1===o){let s=new Uint8Array(t.HEAPU8.subarray(n,n+32));return a(),i.from(s)}throw a(),Error("ec_seckey_tweak_mul",o)}},pedersen:{commit:h,commitSerialize:p,commitParse:d,blindGeneratorBlindSum:g,blindSum:b,verifySum:y},generator:{generate:u,generateBlinded:l,parse:c,serialize:f},rangeproof:{sign:m,info:v,verify:w,rewind:E},surjectionproof:{serialize:function(e){if(!e||void 0===e.nInputs||null===e.nInputs||!e.usedInputs||!i.isBuffer(e.usedInputs)||32!=e.usedInputs.length||!e.data||!i.isBuffer(e.data))throw TypeError("proof must be an object with nInputs of type number and data,usedInputs of type Buffer");let r=n(8258),o=n(8);t.setValue(o,8258,"i64");let s=t.ccall("surjectionproof_serialize","number",["number","number","number","number","number"],[r,o,S(e.nInputs),I(e.usedInputs),I(e.data)]);if(1===s){let u=new Uint8Array(t.HEAPU8.subarray(r,r+t.getValue(o,"i64")));return a(),i.from(u)}throw a(),Error("secp256k1_surjectionproof_serialize",s)},parse:function(e){if(!e||!i.isBuffer(e))throw TypeError("proof must be a non empty Buffer");let r=n(4),o=n(32),s=n(8224),u=t.ccall("surjectionproof_parse","number",["number","number","number","number","number"],[r,o,s,I(e),e.length]);if(u>0){let l=new Uint8Array(t.HEAPU8.subarray(o,o+32)),c=new Uint8Array(t.HEAPU8.subarray(s,s+8224)),f={nInputs:t.getValue(r,"i32"),usedInputs:i.from(l),data:i.from(c)};return a(),f}throw a(),Error("secp256k1_surjectionproof_proof",u)},initialize:function(e,r,o,s,u){if(!e||!Array.isArray(e)||!e.length||!e.every(e=>32===e.length))throw TypeError("inputTags must be a non empty array of Buffers of 32 bytes");if(!o||!i.isBuffer(o)||32!==o.length)throw TypeError("outputTag must be a Buffer of 32 bytes");if(!u||!i.isBuffer(u)||32!==u.length)throw TypeError("seed must be a Buffer of 32 bytes");let l=n(4),c=n(32),f=n(8224),h=n(4),p=t.ccall("surjectionproof_initialize","number",["number","number","number","number","number","number","number","number","number","number"],[l,c,f,h,P(e),e.length,r,I(o),s,I(u)]);if(p>0){let d=new Uint8Array(t.HEAPU8.subarray(c,c+32)),g=new Uint8Array(t.HEAPU8.subarray(f,f+8224)),b={proof:{nInputs:t.getValue(l,"i32"),usedInputs:i.from(d),data:i.from(g)},inputIndex:t.getValue(h,"i32")};return a(),b}throw a(),Error("secp256k1_surjectionproof_initialize",p)},generate:function(e,r,n,o,s,u){if(!e||void 0===e.nInputs||null===e.nInputs||!e.usedInputs||!i.isBuffer(e.usedInputs)||32!=e.usedInputs.length||!e.data||!i.isBuffer(e.data))throw TypeError("proof must be an object with nInputs of type number and data,usedInputs of type Buffer");if(!r||!Array.isArray(r)||!r.length||!r.every(e=>64===e.length))throw TypeError("inputTags must be a non empty array of Buffers of 64 bytes");if(!n||!i.isBuffer(n)||64!==n.length)throw TypeError("ouputTag must be a Buffer of 64 bytes");if(!s||!i.isBuffer(s)||32!==s.length)throw TypeError("inputBlindingKey must be a Buffer of 32 bytes");if(!u||!i.isBuffer(u)||32!==u.length)throw TypeError("outputBlindingKey must be a Buffer of 32 bytes");if(o<0||o>r.length)throw TypeError("inputIndex must be a number into range [0, "+r.length+"]");let l=S(e.nInputs),c=I(e.usedInputs),f=I(e.data),h=t.ccall("surjectionproof_generate","number",["number","number","number","number","number","number","number","number","number"],[l,c,f,P(r),r.length,I(n),o,I(s),I(u)]);if(1===h){let p=new Uint8Array(t.HEAPU8.subarray(c,c+32)),d=new Uint8Array(t.HEAPU8.subarray(f,f+8224)),g={nInputs:r.length,usedInputs:i.from(p),data:i.from(d)};return a(),g}throw a(),Error("secp256k1_surjectionproof_generate",h)},verify:function(e,r,n){if(!r||!Array.isArray(r)||!r.length||!r.every(e=>64===e.length))throw TypeError("inputTags must be a non empty array of Buffers of 64 bytes");if(!n||!i.isBuffer(n)||64!==n.length)throw TypeError("ouputTag must be a Buffer of 64 bytes");let o=t.ccall("surjectionproof_verify","number",["number","number","number","number","number","number"],[S(e.nInputs),I(e.usedInputs),I(e.data),P(r),r.length,I(n)]);return a(),1===o}}})})})},9669:function(e,t,r){r(51609)},55448:function(e,t,r){"use strict";var i=r(64867),n=r(36026),o=r(4372),a=r(15327),s=r(94097),u=r(84109),l=r(67985),c=r(85061);e.exports=function(e){return new Promise(function(t,r){var f=e.data,h=e.headers,p=e.responseType;i.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(g+":"+b)}var y=s(e.baseURL,e.url);function m(){if(d){var i="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:p&&"text"!==p&&"json"!==p?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:i,config:e,request:d};n(t,r,o),d=null}}if(d.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(m)},d.onabort=function(){d&&(r(c("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var v=(e.withCredentials||l(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}"setRequestHeader"in d&&i.forEach(h,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),i.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),p&&"json"!==p&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),r(e),d=null)}),f||(f=null),d.send(f)})}},51609:function(e,t,r){"use strict";var i=r(64867),n=r(91849),o=r(30321),a=r(47185);function s(e){var t=new o(e),r=n(o.prototype.request,t);return i.extend(r,o.prototype,t),i.extend(r,t),r}var u=s(r(45655));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=r(65263),u.CancelToken=r(14972),u.isCancel=r(26502),u.all=function(e){return Promise.all(e)},u.spread=r(8713),u.isAxiosError=r(16268),e.exports=u,e.exports.default=u},65263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:function(e,t,r){"use strict";var i=r(65263);function n(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,r=this;e(function(e){r.reason||(r.reason=new i(e),t(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},26502:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},30321:function(e,t,r){"use strict";var i=r(64867),n=r(15327),o=r(80782),a=r(13572),s=r(47185),u=r(54875),l=u.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,r=e.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var i=[],n=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(n=n&&t.synchronous,i.unshift(t.fulfilled,t.rejected))});var o=[];if(this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)}),!n){var c=[a,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),t=Promise.resolve(e);c.length;)t=t.then(c.shift(),c.shift());return t}for(var f=e;i.length;){var h=i.shift(),p=i.shift();try{f=h(f)}catch(d){p(d);break}}try{t=a(f)}catch(g){return Promise.reject(g)}for(;o.length;)t=t.then(o.shift(),o.shift());return t},c.prototype.getUri=function(e){return n((e=s(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}}),i.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,r,i){return this.request(s(i||{},{method:e,url:t,data:r}))}}),e.exports=c},80782:function(e,t,r){"use strict";var i=r(64867);function n(){this.handlers=[]}n.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},94097:function(e,t,r){"use strict";var i=r(91793),n=r(7303);e.exports=function(e,t){return e&&!i(t)?n(e,t):t}},85061:function(e,t,r){"use strict";var i=r(80481);e.exports=function(e,t,r,n,o){return i(Error(e),t,r,n,o)}},13572:function(e,t,r){"use strict";var i=r(64867),n=r(18527),o=r(26502),a=r(45655);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return s(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!o(t)&&(s(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},80481:function(e){"use strict";e.exports=function(e,t,r,i,n){return e.config=t,r&&(e.code=r),e.request=i,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},47185:function(e,t,r){"use strict";var i=r(64867);e.exports=function(e,t){t=t||{};var r={},n=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function l(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(r[n]=u(void 0,e[n])):r[n]=u(e[n],t[n])}i.forEach(n,function(e){i.isUndefined(t[e])||(r[e]=u(void 0,t[e]))}),i.forEach(o,l),i.forEach(a,function(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(r[n]=u(void 0,e[n])):r[n]=u(void 0,t[n])}),i.forEach(s,function(i){i in t?r[i]=u(e[i],t[i]):i in e&&(r[i]=u(void 0,e[i]))});var c=n.concat(o).concat(a).concat(s),f=Object.keys(e).concat(Object.keys(t)).filter(function(e){return -1===c.indexOf(e)});return i.forEach(f,l),r}},36026:function(e,t,r){"use strict";var i=r(85061);e.exports=function(e,t,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(i("Request failed with status code "+r.status,r.config,null,r.request,r))}},18527:function(e,t,r){"use strict";var i=r(64867),n=r(45655);e.exports=function(e,t,r){var o=this||n;return i.forEach(r,function(r){e=r.call(o,e,t)}),e}},45655:function(e,t,r){"use strict";var i,n=r(83454),o=r(64867),a=r(16016),s=r(80481),u={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c(e,t,r){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(r||JSON.stringify)(e)}var f={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?i=r(55448):void 0!==n&&"[object process]"===Object.prototype.toString.call(n)&&(i=r(55448)),i),transformRequest:[function(e,t){return(a(t,"Accept"),a(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),c(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,n=!r&&"json"===this.responseType;if(n||i&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(n){if("SyntaxError"===a.name)throw s(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};f.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){f.headers[e]={}}),o.forEach(["post","put","patch"],function(e){f.headers[e]=o.merge(u)}),e.exports=f},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(t,r)}}},15327:function(e,t,r){"use strict";var i=r(64867);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;if(r)o=r(t);else if(i.isURLSearchParams(t))o=t.toString();else{var o,a=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(n(t)+"="+n(e))}))}),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,r){"use strict";var i=r(64867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,r,n,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),i.isString(n)&&s.push("path="+n),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},16268:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},67985:function(e,t,r){"use strict";var i=r(64867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var i=e;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=i.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},16016:function(e,t,r){"use strict";var i=r(64867);e.exports=function(e,t){i.forEach(e,function(r,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[i])})}},84109:function(e,t,r){"use strict";var i=r(64867),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e&&i.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),r=i.trim(e.substr(o+1)),t&&!(a[t]&&n.indexOf(t)>=0)&&("set-cookie"===t?a[t]=(a[t]?a[t]:[]).concat([r]):a[t]=a[t]?a[t]+", "+r:r)}),a}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:function(e,t,r){"use strict";var i=r(88593),n={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){n[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var o={},a=i.version.split(".");function s(e,t){for(var r=t?t.split("."):a,i=e.split("."),n=0;n<3;n++){if(r[n]>i[n])return!0;if(r[n]<i[n])break}return!1}function u(e,t,r){if("object"!=typeof e)throw TypeError("options must be an object");for(var i=Object.keys(e),n=i.length;n-- >0;){var o=i[n],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw TypeError("option "+o+" must be "+u);continue}if(!0!==r)throw Error("Unknown option "+o)}}n.transitional=function(e,t,r){var n=t&&s(t);function a(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,s){if(!1===e)throw Error(a(i," has been removed in "+t));return n&&!o[i]&&(o[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},e.exports={isOlderVersion:s,assertOptions:u,validators:n}},64867:function(e,t,r){"use strict";var i=r(91849),n=Object.prototype.toString;function o(e){return"[object Array]"===n.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function u(e){return"[object ArrayBuffer]"===n.call(e)}function l(e){return"undefined"!=typeof FormData&&e instanceof FormData}function c(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function f(e){return"string"==typeof e}function h(e){return"number"==typeof e}function p(e){return null!==e&&"object"==typeof e}function d(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e){return"[object Date]"===n.call(e)}function b(e){return"[object File]"===n.call(e)}function y(e){return"[object Blob]"===n.call(e)}function m(e){return"[object Function]"===n.call(e)}function v(e){return p(e)&&m(e.pipe)}function w(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function E(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function _(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function S(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}}function I(){var e={};function t(t,r){d(e[r])&&d(t)?e[r]=I(e[r],t):d(t)?e[r]=I({},t):o(t)?e[r]=t.slice():e[r]=t}for(var r=0,i=arguments.length;r<i;r++)S(arguments[r],t);return e}function P(e,t,r){return S(t,function(t,n){r&&"function"==typeof t?e[n]=i(t,r):e[n]=t}),e}function k(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:o,isArrayBuffer:u,isBuffer:s,isFormData:l,isArrayBufferView:c,isString:f,isNumber:h,isObject:p,isPlainObject:d,isUndefined:a,isDate:g,isFile:b,isBlob:y,isFunction:m,isStream:v,isURLSearchParams:w,isStandardBrowserEnv:_,forEach:S,merge:I,extend:P,trim:E,stripBOM:k}},58162:function(e,t,r){"use strict";var i=r(89509).Buffer;function n(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),a=o.charCodeAt(0);if(255!==t[a])throw TypeError(o+" is ambiguous");t[a]=n}var s=e.length,u=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return i.alloc(0);for(var r=0,n=0,o=0;e[r]===u;)n++,r++;for(var a=(e.length-r)*l+1>>>0,c=new Uint8Array(a);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var h=0,p=a-1;(0!==f||h<o)&&-1!==p;p--,h++)f+=s*c[p]>>>0,c[p]=f%256>>>0,f=f/256>>>0;if(0!==f)throw Error("Non-zero carry");o=h,r++}for(var d=a-o;d!==a&&0===c[d];)d++;var g=i.allocUnsafe(n+(a-d));g.fill(0,0,n);for(var b=n;d!==a;)g[b++]=c[d++];return g}function h(e){var t=f(e);if(t)return t;throw Error("Non-base"+s+" character")}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,o=0,a=t.length;o!==a&&0===t[o];)o++,r++;for(var l=(a-o)*c+1>>>0,f=new Uint8Array(l);o!==a;){for(var h=t[o],p=0,d=l-1;(0!==h||p<n)&&-1!==d;d--,p++)h+=256*f[d]>>>0,f[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=p,o++}for(var g=l-n;g!==l&&0===f[g];)g++;for(var b=u.repeat(r);g<l;++g)b+=e.charAt(f[g]);return b},decodeUnsafe:f,decode:h}}e.exports=n},27715:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;let r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={};for(let n=0;n<r.length;n++){let o=r.charAt(n);i[o]=n}function a(e){let t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){let t=1;for(let r=0;r<e.length;++r){let i=e.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+e+")";t=a(t)^i>>5}t=a(t);for(let n=0;n<e.length;++n){let o=e.charCodeAt(n);t=a(t)^31&o}return t}function u(e,t,r,i){let n=0,o=0,a=(1<<r)-1,s=[];for(let u=0;u<e.length;++u)for(n=n<<t|e[u],o+=t;o>=r;)s.push(n>>(o-=r)&a);if(i)o>0&&s.push(n<<r-o&a);else{if(o>=t)return"Excess padding";if(n<<r-o&a)return"Non-zero padding"}return s}function l(e){return u(e,8,5,!0)}function c(e){let t=u(e,5,8,!1);if(Array.isArray(t))return t}function f(e){let t=u(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}function h(e){let t;function n(e,i,n){if(n=n||90,e.length+7+i.length>n)throw TypeError("Exceeds length limit");let o=s(e=e.toLowerCase());if("string"==typeof o)throw Error(o);let u=e+"1";for(let l=0;l<i.length;++l){let c=i[l];if(c>>5!=0)throw Error("Non 5-bit word");o=a(o)^c,u+=r.charAt(c)}for(let f=0;f<6;++f)o=a(o);o^=t;for(let h=0;h<6;++h){let p=o>>(5-h)*5&31;u+=r.charAt(p)}return u}function o(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";let n=e.toLowerCase(),o=e.toUpperCase();if(e!==n&&e!==o)return"Mixed-case string "+e;e=n;let u=e.lastIndexOf("1");if(-1===u)return"No separator character for "+e;if(0===u)return"Missing prefix for "+e;let l=e.slice(0,u),c=e.slice(u+1);if(c.length<6)return"Data too short";let f=s(l);if("string"==typeof f)return f;let h=[];for(let p=0;p<c.length;++p){let d=c.charAt(p),g=i[d];if(void 0===g)return"Unknown character "+d;f=a(f)^g,p+6>=c.length||h.push(g)}return f!==t?"Invalid checksum for "+e:{prefix:l,words:h}}function u(e,t){let r=o(e,t);if("object"==typeof r)return r}function h(e,t){let r=o(e,t);if("object"==typeof r)return r;throw Error(r)}return t="bech32"===e?1:734539939,{decodeUnsafe:u,decode:h,encode:n,toWords:l,fromWordsUnsafe:c,fromWords:f}}t.bech32=h("bech32"),t.bech32m=h("bech32m")},58181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(67138);function n(e){let t=e[0],r=i.psbtToKeyVals(t),n=e.slice(1);if(0===n.length)throw Error("Combine: Nothing to combine");let u=a(t);if(void 0===u)throw Error("Combine: Self missing transaction");let l=s(r.globalKeyVals),c=r.inputKeyVals.map(s),f=r.outputKeyVals.map(s);for(let h of n){let p=a(h);if(void 0===p||!p.toBuffer().equals(u.toBuffer()))throw Error("Combine: One of the Psbts does not have the same transaction.");let d=i.psbtToKeyVals(h),g=s(d.globalKeyVals);g.forEach(o(l,r.globalKeyVals,d.globalKeyVals));let b=d.inputKeyVals.map(s);b.forEach((e,t)=>e.forEach(o(c[t],r.inputKeyVals[t],d.inputKeyVals[t])));let y=d.outputKeyVals.map(s);y.forEach((e,t)=>e.forEach(o(f[t],r.outputKeyVals[t],d.outputKeyVals[t])))}return i.psbtFromKeyVals(u,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}function o(e,t,r){return i=>{if(e.has(i))return;let n=r.filter(e=>e.key.toString("hex")===i)[0];t.push(n),e.add(i)}}function a(e){return e.globalMap.unsignedTx}function s(e){let t=new Set;return e.forEach(e=>{let r=e.key.toString("hex");if(t.has(r))throw Error("Combine: KeyValue Map keys should be unique");t.add(r)}),t}t.combine=n},14212:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266),o=e=>[...Array(e).keys()];function a(e){if(e.key[0]!==n.GlobalTypes.GLOBAL_XPUB)throw Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(let i of o(e.value.length/4-1)){let a=e.value.readUInt32LE(4*i+4),s=!!(2147483648&a),u=2147483647&a;r.path+="/"+u.toString(10)+(s?"'":"")}return r}function s(e){let t=i.from([n.GlobalTypes.GLOBAL_XPUB]),r=i.concat([t,e.extendedPubkey]),o=e.path.split("/"),a=i.allocUnsafe(4*o.length);e.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach(e=>{let t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4}),{key:r,value:a}}function u(e){let t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return i.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&i.isBuffer(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)+$/)}function l(e,t,r){let i=t.extendedPubkey.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.extendedPubkey.equals(t.extendedPubkey)).length)}t.decode=a,t.encode=s,t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=u,t.canAddToArray=l},63044:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266);function o(e){return{key:i.from([n.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}t.encode=o},69921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(17266),n=r(14212),o=r(63044),a=r(17523),s=r(13317),u=r(80190),l=r(85508),c=r(18760),f=r(45610),h=r(79064),p=r(88950),d=r(50407),g=r(22781),b=r(80286),y={unsignedTx:o,globalXpub:n,checkPubkey:d.makeChecker([])};t.globals=y;let m={nonWitnessUtxo:u,partialSig:l,sighashType:f,finalScriptSig:a,finalScriptWitness:s,porCommitment:c,witnessUtxo:h,bip32Derivation:p.makeConverter(i.InputTypes.BIP32_DERIVATION),redeemScript:g.makeConverter(i.InputTypes.REDEEM_SCRIPT),witnessScript:b.makeConverter(i.InputTypes.WITNESS_SCRIPT),checkPubkey:d.makeChecker([i.InputTypes.PARTIAL_SIG,i.InputTypes.BIP32_DERIVATION])};t.inputs=m;let v={bip32Derivation:p.makeConverter(i.OutputTypes.BIP32_DERIVATION),redeemScript:g.makeConverter(i.OutputTypes.REDEEM_SCRIPT),witnessScript:b.makeConverter(i.OutputTypes.WITNESS_SCRIPT),checkPubkey:d.makeChecker([i.OutputTypes.BIP32_DERIVATION])};t.outputs=v},17523:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266);function o(e){if(e.key[0]!==n.InputTypes.FINAL_SCRIPTSIG)throw Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value}function a(e){let t=i.from([n.InputTypes.FINAL_SCRIPTSIG]);return{key:t,value:e}}function s(e){return i.isBuffer(e)}function u(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},13317:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266);function o(e){if(e.key[0]!==n.InputTypes.FINAL_SCRIPTWITNESS)throw Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value}function a(e){let t=i.from([n.InputTypes.FINAL_SCRIPTWITNESS]);return{key:t,value:e}}function s(e){return i.isBuffer(e)}function u(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},80190:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266);function o(e){if(e.key[0]!==n.InputTypes.NON_WITNESS_UTXO)throw Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value}function a(e){return{key:i.from([n.InputTypes.NON_WITNESS_UTXO]),value:e}}function s(e){return i.isBuffer(e)}function u(e,t){return!!e&&!!t&&void 0===e.witnessUtxo&&void 0===e.nonWitnessUtxo}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},85508:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266);function o(e){if(e.key[0]!==n.InputTypes.PARTIAL_SIG)throw Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(!(34===e.key.length||66===e.key.length)||![2,3,4].includes(e.key[1]))throw Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));let t=e.key.slice(1);return{pubkey:t,signature:e.value}}function a(e){let t=i.from([n.InputTypes.PARTIAL_SIG]);return{key:i.concat([t,e.pubkey]),value:e.signature}}function s(e){return i.isBuffer(e.pubkey)&&i.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&u(e.signature)}function u(e){if(!i.isBuffer(e)||e.length<9||48!==e[0]||e.length!==e[1]+3||2!==e[2])return!1;let t=e[3];if(t>33||t<1||2!==e[3+t+1])return!1;let r=e[3+t+2];return!(r>33)&&!(r<1)&&e.length===3+t+2+r+2}function l(e,t,r){let i=t.pubkey.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.pubkey.equals(t.pubkey)).length)}t.decode=o,t.encode=a,t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=s,t.canAddToArray=l},18760:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266);function o(e){if(e.key[0]!==n.InputTypes.POR_COMMITMENT)throw Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")}function a(e){let t=i.from([n.InputTypes.POR_COMMITMENT]);return{key:t,value:i.from(e,"utf8")}}function s(e){return"string"==typeof e}function u(e,t){return!!e&&!!t&&void 0===e.porCommitment}t.decode=o,t.encode=a,t.expected="string",t.check=s,t.canAdd=u},45610:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266);function o(e){if(e.key[0]!==n.InputTypes.SIGHASH_TYPE)throw Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)}function a(e){let t=i.from([n.InputTypes.SIGHASH_TYPE]),r=i.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}}function s(e){return"number"==typeof e}function u(e,t){return!!e&&!!t&&void 0===e.sighashType}t.decode=o,t.encode=a,t.expected="number",t.check=s,t.canAdd=u},79064:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(17266),o=r(64365);function a(e){let t,r;if(e.key[0]!==n.InputTypes.WITNESS_UTXO)throw Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));let a=0,s=33,u=e.value.slice(a,s);a=s,s+=1;let l=e.value.slice(a,s);a=s,s+=1===l[0]?8:32;let c=i.concat([l,e.value.slice(a,s)]);a=s,s+=1;let f=e.value.slice(a,s),h=f;0!==f[0]&&(a=s,s+=32,h=i.concat([h,e.value.slice(a,s)])),a=s,s+=1;let p=o.decode(e.value,a);a=s,s+=p;let d=e.value.slice(a,s);if(d.length!==p)throw Error("Decode Error: WITNESS_UTXO script is not proper length");if((a=s)<e.value.length){s+=1;let g=o.decode(e.value,a);a=s,s+=g,r=e.value.slice(a,s),a=s,s+=1;let b=o.decode(e.value,a);s+=o.encodingLength(b)-1,a=s,s+=b,t=e.value.slice(a,s),a=s}return{script:d,value:c,asset:u,nonce:h,rangeProof:t,surjectionProof:r}}function s(e){let{script:t,value:r,asset:a,nonce:s,rangeProof:u,surjectionProof:l}=e,c=33,f=1===r[0]?9:33,h=0===s[0]?1:33,p=o.encodingLength(t.length),d=u?u.length:0,g=1===h?0:o.encodingLength(d),b=l?l.length:0,y=1===h?0:o.encodingLength(b),m=i.allocUnsafe(c+f+h+p+t.length+g+d+y+b),v=0;return a.copy(m,v),v+=c,r.copy(m,v),v+=f,s.copy(m,v),v+=h,o.encode(t.length,m,v),v+=p,t.copy(m,v),h>1&&(v+=t.length,o.encode(b,m,v),v+=y,l&&l.copy(m,v),v+=b,o.encode(d,m,v),v+=g,u&&u.copy(m,v),v+=d),{key:i.from([n.InputTypes.WITNESS_UTXO]),value:m}}function u(e){return i.isBuffer(e.script)&&i.isBuffer(e.value)&&i.isBuffer(e.asset)&&i.isBuffer(e.nonce)&&(!e.rangeProof||i.isBuffer(e.rangeProof))&&(!e.surjectionProof||i.isBuffer(e.surjectionProof))}function l(e,t){return!!e&&!!t&&void 0===e.witnessUtxo&&void 0===e.nonWitnessUtxo}t.decode=a,t.encode=s,t.expected="{ script: Buffer; value: Buffer; asset: Buffer; nonce: Buffer; rangeProof?: Buffer; surjectionProof?: Buffer }",t.check=u,t.canAdd=l},88950:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=e=>[...Array(e).keys()];function o(e){function t(t){if(t.key[0]!==e)throw Error("Decode Error: could not decode bip32Derivation with key 0x"+t.key.toString("hex"));if(!(34===t.key.length||66===t.key.length)||![2,3,4].includes(t.key[1]))throw Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!=0)throw Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let r=t.key.slice(1),i={masterFingerprint:t.value.slice(0,4),pubkey:r,path:"m"};for(let o of n(t.value.length/4-1)){let a=t.value.readUInt32LE(4*o+4),s=!!(2147483648&a),u=2147483647&a;i.path+="/"+u.toString(10)+(s?"'":"")}return i}function r(t){let r=i.from([e]),n=i.concat([r,t.pubkey]),o=t.path.split("/"),a=i.allocUnsafe(4*o.length);t.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach(e=>{let t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4}),{key:n,value:a}}let o="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function a(e){return i.isBuffer(e.pubkey)&&i.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&4===e.masterFingerprint.length}function s(e,t,r){let i=t.pubkey.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.pubkey.equals(t.pubkey)).length)}return{decode:t,encode:r,check:a,expected:o,canAddToArray:s}}t.makeConverter=o},50407:function(e,t){"use strict";function r(e){return t;function t(t){let r;if(e.includes(t.key[0])&&(!(33===(r=t.key.slice(1)).length||65===r.length)||![2,3,4].includes(r[0])))throw Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=r},22781:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){function t(t){if(t.key[0]!==e)throw Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value}function r(t){let r=i.from([e]);return{key:r,value:t}}let n="Buffer";function o(e){return i.isBuffer(e)}function a(e,t){return!!e&&!!t&&void 0===e.redeemScript}return{decode:t,encode:r,check:o,expected:n,canAdd:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=n},80286:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){function t(t){if(t.key[0]!==e)throw Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value}function r(t){let r=i.from([e]);return{key:r,value:t}}let n="Buffer";function o(e){return i.isBuffer(e)}function a(e,t){return!!e&&!!t&&void 0===e.witnessScript}return{decode:t,encode:r,check:o,expected:n,canAdd:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=n},26547:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(64365);function o(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let i=0;i<e.length/2;i++)r=e[i],e[i]=e[t],e[t]=r,t--;return e}function a(e){let t=e.map(s);return t.push(i.from([0])),i.concat(t)}function s(e){let t=e.key.length,r=e.value.length,o=n.encodingLength(t),a=n.encodingLength(r),s=i.allocUnsafe(o+t+a+r);return n.encode(t,s,0),e.key.copy(s,o),n.encode(r,s,o+t),e.value.copy(s,o+t+a),s}function u(e,t){if("number"!=typeof e)throw Error("cannot write a non-number as a number");if(e<0)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("RangeError: value out of range");if(Math.floor(e)!==e)throw Error("value has a fractional component")}function l(e,t){let r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return u((i*=4294967296)+r,9007199254740991),i+r}function c(e,t,r){return u(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}t.range=e=>[...Array(e).keys()],t.reverseBuffer=o,t.keyValsToBuffer=a,t.keyValToBuffer=s,t.readUInt64LE=l,t.writeUInt64LE=c},64365:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=9007199254740991;function o(e){if(e<0||e>n||e%1!=0)throw RangeError("value out of range")}function a(e,t,r){if(o(e),t||(t=i.allocUnsafe(u(e))),!i.isBuffer(t))throw TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),Object.assign(a,{bytes:1})):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),Object.assign(a,{bytes:3})):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),Object.assign(a,{bytes:5})):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),Object.assign(a,{bytes:9})),t}function s(e,t){if(!i.isBuffer(e))throw TypeError("buffer must be a Buffer instance");t||(t=0);let r=e.readUInt8(t);if(r<253)return Object.assign(s,{bytes:1}),r;if(253===r)return Object.assign(s,{bytes:3}),e.readUInt16LE(t+1);if(254===r)return Object.assign(s,{bytes:5}),e.readUInt32LE(t+1);{Object.assign(s,{bytes:9});let n=e.readUInt32LE(t+1),a=e.readUInt32LE(t+5),u=4294967296*a+n;return o(u),u}}function u(e){return o(e),e<253?1:e<=65535?3:e<=4294967295?5:9}t.encode=a,t.decode=s,t.encodingLength=u},63863:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(69921),o=r(26547),a=r(64365),s=r(17266);function u(e,t){let r=0;function i(){let t=a.decode(e,r);r+=a.encodingLength(t);let i=e.slice(r,r+t);return r+=t,i}function n(){let t=e.readUInt8(r);return r+=1,t}function u(){let e=i(),t=i();return{key:e,value:t}}function l(){if(r>=e.length)throw Error("Format Error: Unexpected End of PSBT");let t=0===e.readUInt8(r);return t&&r++,t}if(1886610804!==function(){let t=e.readUInt32BE(r);return r+=4,t}())throw Error("Format Error: Invalid Magic Number");if(255!==n())throw Error("Format Error: Magic Number must be followed by 0xff separator");let f=[],h={};for(;!l();){let p=u(),d=p.key.toString("hex");if(h[d])throw Error("Format Error: Keys must be unique for global keymap: key "+d);h[d]=1,f.push(p)}let g=f.filter(e=>e.key[0]===s.GlobalTypes.UNSIGNED_TX);if(1!==g.length)throw Error("Format Error: Only one UNSIGNED_TX allowed");let b=t(g[0].value),{inputCount:y,outputCount:m}=b.getInputOutputCounts(),v=[],w=[];for(let E of o.range(y)){let _={},S=[];for(;!l();){let I=u(),P=I.key.toString("hex");if(_[P])throw Error("Format Error: Keys must be unique for each input: input index "+E+" key "+P);_[P]=1,S.push(I)}v.push(S)}for(let k of o.range(m)){let T={},O=[];for(;!l();){let A=u(),x=A.key.toString("hex");if(T[x])throw Error("Format Error: Keys must be unique for each output: output index "+k+" key "+x);T[x]=1,O.push(A)}w.push(O)}return c(b,{globalMapKeyVals:f,inputKeyVals:v,outputKeyVals:w})}function l(e,t,r){if(!t.equals(i.from([r])))throw Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function c(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:i}){let a={unsignedTx:e},u=0;for(let c of t)switch(c.key[0]){case s.GlobalTypes.UNSIGNED_TX:if(l("global",c.key,s.GlobalTypes.UNSIGNED_TX),u>0)throw Error("Format Error: GlobalMap has multiple UNSIGNED_TX");u++;break;case s.GlobalTypes.GLOBAL_XPUB:void 0===a.globalXpub&&(a.globalXpub=[]),a.globalXpub.push(n.globals.globalXpub.decode(c));break;default:a.unknownKeyVals||(a.unknownKeyVals=[]),a.unknownKeyVals.push(c)}let f=r.length,h=i.length,p=[],d=[];for(let g of o.range(f)){let b={};for(let y of r[g])switch(n.inputs.checkPubkey(y),y.key[0]){case s.InputTypes.NON_WITNESS_UTXO:if(l("input",y.key,s.InputTypes.NON_WITNESS_UTXO),void 0!==b.nonWitnessUtxo||void 0!==b.witnessUtxo)throw Error("Format Error: Input has multiple [NON_]WITNESS_UTXO");b.nonWitnessUtxo=n.inputs.nonWitnessUtxo.decode(y);break;case s.InputTypes.WITNESS_UTXO:if(l("input",y.key,s.InputTypes.WITNESS_UTXO),void 0!==b.nonWitnessUtxo||void 0!==b.witnessUtxo)throw Error("Format Error: Input has multiple [NON_]WITNESS_UTXO");b.witnessUtxo=n.inputs.witnessUtxo.decode(y);break;case s.InputTypes.PARTIAL_SIG:void 0===b.partialSig&&(b.partialSig=[]),b.partialSig.push(n.inputs.partialSig.decode(y));break;case s.InputTypes.SIGHASH_TYPE:if(l("input",y.key,s.InputTypes.SIGHASH_TYPE),void 0!==b.sighashType)throw Error("Format Error: Input has multiple SIGHASH_TYPE");b.sighashType=n.inputs.sighashType.decode(y);break;case s.InputTypes.REDEEM_SCRIPT:if(l("input",y.key,s.InputTypes.REDEEM_SCRIPT),void 0!==b.redeemScript)throw Error("Format Error: Input has multiple REDEEM_SCRIPT");b.redeemScript=n.inputs.redeemScript.decode(y);break;case s.InputTypes.WITNESS_SCRIPT:if(l("input",y.key,s.InputTypes.WITNESS_SCRIPT),void 0!==b.witnessScript)throw Error("Format Error: Input has multiple WITNESS_SCRIPT");b.witnessScript=n.inputs.witnessScript.decode(y);break;case s.InputTypes.BIP32_DERIVATION:void 0===b.bip32Derivation&&(b.bip32Derivation=[]),b.bip32Derivation.push(n.inputs.bip32Derivation.decode(y));break;case s.InputTypes.FINAL_SCRIPTSIG:l("input",y.key,s.InputTypes.FINAL_SCRIPTSIG),b.finalScriptSig=n.inputs.finalScriptSig.decode(y);break;case s.InputTypes.FINAL_SCRIPTWITNESS:l("input",y.key,s.InputTypes.FINAL_SCRIPTWITNESS),b.finalScriptWitness=n.inputs.finalScriptWitness.decode(y);break;case s.InputTypes.POR_COMMITMENT:l("input",y.key,s.InputTypes.POR_COMMITMENT),b.porCommitment=n.inputs.porCommitment.decode(y);break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(y)}p.push(b)}for(let m of o.range(h)){let v={};for(let w of i[m])switch(n.outputs.checkPubkey(w),w.key[0]){case s.OutputTypes.REDEEM_SCRIPT:if(l("output",w.key,s.OutputTypes.REDEEM_SCRIPT),void 0!==v.redeemScript)throw Error("Format Error: Output has multiple REDEEM_SCRIPT");v.redeemScript=n.outputs.redeemScript.decode(w);break;case s.OutputTypes.WITNESS_SCRIPT:if(l("output",w.key,s.OutputTypes.WITNESS_SCRIPT),void 0!==v.witnessScript)throw Error("Format Error: Output has multiple WITNESS_SCRIPT");v.witnessScript=n.outputs.witnessScript.decode(w);break;case s.OutputTypes.BIP32_DERIVATION:void 0===v.bip32Derivation&&(v.bip32Derivation=[]),v.bip32Derivation.push(n.outputs.bip32Derivation.decode(w));break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(w)}d.push(v)}return{globalMap:a,inputs:p,outputs:d}}t.psbtFromBuffer=u,t.checkKeyBuffer=l,t.psbtFromKeyVals=c},67138:function(e,t,r){"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),i(r(63863)),i(r(31454))},31454:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(69921),o=r(26547);function a({globalMap:e,inputs:t,outputs:r}){let{globalKeyVals:n,inputKeyVals:a,outputKeyVals:s}=l({globalMap:e,inputs:t,outputs:r}),u=o.keyValsToBuffer(n),c=e=>0===e.length?[i.from([0])]:e.map(o.keyValsToBuffer),f=c(a),h=c(s),p=i.allocUnsafe(5);return p.writeUIntBE(482972366079,0,5),i.concat([p,u].concat(f,h))}t.psbtToBuffer=a;let s=(e,t)=>e.key.compare(t.key);function u(e,t){let r=new Set,i=Object.entries(e).reduce((e,[i,n])=>{if("unknownKeyVals"===i)return e;let o=t[i];if(void 0===o)return e;let a=(Array.isArray(n)?n:[n]).map(o.encode),s=a.map(e=>e.key.toString("hex"));return s.forEach(e=>{if(r.has(e))throw Error("Serialize Error: Duplicate key: "+e);r.add(e)}),e.concat(a)},[]),n=e.unknownKeyVals?e.unknownKeyVals.filter(e=>!r.has(e.key.toString("hex"))):[];return i.concat(n).sort(s)}function l({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:u(e,n.globals),inputKeyVals:t.map(e=>u(e,n.inputs)),outputKeyVals:r.map(e=>u(e,n.outputs))}}t.psbtToKeyVals=l},37834:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(58181),o=r(67138),a=r(17266),s=r(17991);class u{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){let r=i.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){let r=i.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){let r=o.psbtFromBuffer(e,t),i=new this(r.globalMap.unsignedTx);return Object.assign(i,r),i}toBase64(){let e=this.toBuffer();return e.toString("base64")}toHex(){let e=this.toBuffer();return e.toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(e){return s.updateGlobal(e,this.globalMap),this}updateInput(e,t){let r=s.checkForInput(this.inputs,e);return s.updateInput(t,r),this}updateOutput(e,t){let r=s.checkForOutput(this.outputs,e);return s.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return s.checkHasKey(e,this.globalMap.unknownKeyVals,s.getEnumLength(a.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){let r=s.checkForInput(this.inputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){let r=s.checkForOutput(this.outputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw Error("unknownKeyVals must be an Array");return t.forEach(e=>this.addUnknownKeyValToInput(r,e)),s.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw Error("unknownKeyVals must be an Array");return t.forEach(e=>this.addUnknownKeyValToInput(r,e)),s.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let t=s.checkForInput(this.inputs,e);for(let r of(s.inputCheckUncleanFinalized(e,t),Object.keys(t)))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete t[r];return this}combine(...e){let t=n.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}t.Psbt=u},17266:function(e,t){"use strict";var r,i,n,o,a,s;Object.defineProperty(t,"__esModule",{value:!0}),(o=r=t.GlobalTypes||(t.GlobalTypes={}))[o.UNSIGNED_TX=0]="UNSIGNED_TX",o[o.GLOBAL_XPUB=1]="GLOBAL_XPUB",t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(a=i=t.InputTypes||(t.InputTypes={}))[a.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",a[a.WITNESS_UTXO=1]="WITNESS_UTXO",a[a.PARTIAL_SIG=2]="PARTIAL_SIG",a[a.SIGHASH_TYPE=3]="SIGHASH_TYPE",a[a.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",a[a.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",a[a.BIP32_DERIVATION=6]="BIP32_DERIVATION",a[a.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",a[a.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",a[a.POR_COMMITMENT=9]="POR_COMMITMENT",t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment"],(s=n=t.OutputTypes||(t.OutputTypes={}))[s.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",s[s.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",s[s.BIP32_DERIVATION=2]="BIP32_DERIVATION",t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation"]},17991:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(69921);function o(e,t){let r=e[t];if(void 0===r)throw Error(`No input #${t}`);return r}function a(e,t){let r=e[t];if(void 0===r)throw Error(`No output #${t}`);return r}function s(e,t,r){if(e.key[0]<r)throw Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter(t=>t.key.equals(e.key)).length)throw Error(`Duplicate Key: ${e.key.toString("hex")}`)}function u(e){let t=0;return Object.keys(e).forEach(e=>{Number(isNaN(Number(e)))&&t++}),t}function l(e,t){let r=!1;if(!t.nonWitnessUtxo!=!t.witnessUtxo){let i=!!t.redeemScript,n=!!t.witnessScript,o=!i||!!t.finalScriptSig,a=!n||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=o&&a&&s}if(!1===r)throw Error(`Input #${e} has too much or too little data to clean`)}function c(e,t,r,i){throw Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(i)}`)}function f(e){return(t,r)=>{for(let i of Object.keys(t)){let o=t[i],{canAdd:a,canAddToArray:s,check:u,expected:l}=n[e+"s"][i]||{},f=!!s;if(u){if(f){if(!Array.isArray(o)||r[i]&&!Array.isArray(r[i]))throw Error(`Key type ${i} must be an array`);o.every(u)||c(e,i,l,o);let h=r[i]||[],p=new Set;if(!o.every(e=>s(h,e,p)))throw Error("Can not add duplicate data to array");r[i]=h.concat(o)}else{if(u(o)||c(e,i,l,o),!a(r,o))throw Error(`Can not add duplicate data to ${e}`);r[i]=o}}}}}function h(e,r){let i=e.length-1,n=o(e,i);t.updateInput(r,n)}function p(e,r){let i=e.length-1,n=o(e,i);t.updateOutput(r,n)}function d(e,t){if(!i.isBuffer(t)||t.length<4)throw Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t}function g(e,t){if(!i.isBuffer(t)||t.length<4)throw Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}t.checkForInput=o,t.checkForOutput=a,t.checkHasKey=s,t.getEnumLength=u,t.inputCheckUncleanFinalized=l,t.updateGlobal=f("global"),t.updateInput=f("input"),t.updateOutput=f("output"),t.addInputAttributes=h,t.addOutputAttributes=p,t.defaultVersionSetter=d,t.defaultLocktimeSetter=g},82190:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(36574);function n(e){let t=e[0],r=i.psbtToKeyVals(t),n=e.slice(1);if(0===n.length)throw Error("Combine: Nothing to combine");let u=a(t);if(void 0===u)throw Error("Combine: Self missing transaction");let l=s(r.globalKeyVals),c=r.inputKeyVals.map(s),f=r.outputKeyVals.map(s);for(let h of n){let p=a(h);if(void 0===p||!p.toBuffer().equals(u.toBuffer()))throw Error("Combine: One of the Psbts does not have the same transaction.");let d=i.psbtToKeyVals(h),g=s(d.globalKeyVals);g.forEach(o(l,r.globalKeyVals,d.globalKeyVals));let b=d.inputKeyVals.map(s);b.forEach((e,t)=>e.forEach(o(c[t],r.inputKeyVals[t],d.inputKeyVals[t])));let y=d.outputKeyVals.map(s);y.forEach((e,t)=>e.forEach(o(f[t],r.outputKeyVals[t],d.outputKeyVals[t])))}return i.psbtFromKeyVals(u,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}function o(e,t,r){return i=>{if(e.has(i))return;let n=r.filter(e=>e.key.toString("hex")===i)[0];t.push(n),e.add(i)}}function a(e){return e.globalMap.unsignedTx}function s(e){let t=new Set;return e.forEach(e=>{let r=e.key.toString("hex");if(t.has(r))throw Error("Combine: KeyValue Map keys should be unique");t.add(r)}),t}t.combine=n},44041:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847),o=e=>[...Array(e).keys()];function a(e){if(e.key[0]!==n.GlobalTypes.GLOBAL_XPUB)throw Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(let i of o(e.value.length/4-1)){let a=e.value.readUInt32LE(4*i+4),s=!!(2147483648&a),u=2147483647&a;r.path+="/"+u.toString(10)+(s?"'":"")}return r}function s(e){let t=i.from([n.GlobalTypes.GLOBAL_XPUB]),r=i.concat([t,e.extendedPubkey]),o=e.path.split("/"),a=i.allocUnsafe(4*o.length);e.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach(e=>{let t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4}),{key:r,value:a}}function u(e){let t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return i.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&i.isBuffer(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)*$/)}function l(e,t,r){let i=t.extendedPubkey.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.extendedPubkey.equals(t.extendedPubkey)).length)}t.decode=a,t.encode=s,t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=u,t.canAddToArray=l},74480:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){return{key:i.from([n.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}t.encode=o},71528:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(1847),n=r(44041),o=r(74480),a=r(20859),s=r(8248),u=r(70537),l=r(61511),c=r(65896),f=r(91243),h=r(3530),p=r(49265),d=r(23934),g=r(50602),b=r(82954),y=r(6036),m=r(44799),v=r(99595),w=r(9705),E=r(17196),_=r(29375),S=r(66327),I={unsignedTx:o,globalXpub:n,checkPubkey:v.makeChecker([])};t.globals=I;let P={nonWitnessUtxo:u,partialSig:l,sighashType:f,finalScriptSig:a,finalScriptWitness:s,porCommitment:c,witnessUtxo:b,bip32Derivation:m.makeConverter(i.InputTypes.BIP32_DERIVATION),redeemScript:w.makeConverter(i.InputTypes.REDEEM_SCRIPT),witnessScript:S.makeConverter(i.InputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([i.InputTypes.PARTIAL_SIG,i.InputTypes.BIP32_DERIVATION]),tapKeySig:h,tapScriptSig:g,tapLeafScript:p,tapBip32Derivation:E.makeConverter(i.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:_.makeConverter(i.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:d};t.inputs=P;let k={bip32Derivation:m.makeConverter(i.OutputTypes.BIP32_DERIVATION),redeemScript:w.makeConverter(i.OutputTypes.REDEEM_SCRIPT),witnessScript:S.makeConverter(i.OutputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([i.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:E.makeConverter(i.OutputTypes.TAP_BIP32_DERIVATION),tapTree:y,tapInternalKey:_.makeConverter(i.OutputTypes.TAP_INTERNAL_KEY)};t.outputs=k},20859:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.FINAL_SCRIPTSIG)throw Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value}function a(e){let t=i.from([n.InputTypes.FINAL_SCRIPTSIG]);return{key:t,value:e}}function s(e){return i.isBuffer(e)}function u(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},8248:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.FINAL_SCRIPTWITNESS)throw Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value}function a(e){let t=i.from([n.InputTypes.FINAL_SCRIPTWITNESS]);return{key:t,value:e}}function s(e){return i.isBuffer(e)}function u(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},70537:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.NON_WITNESS_UTXO)throw Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value}function a(e){return{key:i.from([n.InputTypes.NON_WITNESS_UTXO]),value:e}}function s(e){return i.isBuffer(e)}function u(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},61511:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.PARTIAL_SIG)throw Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(!(34===e.key.length||66===e.key.length)||![2,3,4].includes(e.key[1]))throw Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));let t=e.key.slice(1);return{pubkey:t,signature:e.value}}function a(e){let t=i.from([n.InputTypes.PARTIAL_SIG]);return{key:i.concat([t,e.pubkey]),value:e.signature}}function s(e){return i.isBuffer(e.pubkey)&&i.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&u(e.signature)}function u(e){if(!i.isBuffer(e)||e.length<9||48!==e[0]||e.length!==e[1]+3||2!==e[2])return!1;let t=e[3];if(t>33||t<1||2!==e[3+t+1])return!1;let r=e[3+t+2];return!(r>33)&&!(r<1)&&e.length===3+t+2+r+2}function l(e,t,r){let i=t.pubkey.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.pubkey.equals(t.pubkey)).length)}t.decode=o,t.encode=a,t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=s,t.canAddToArray=l},65896:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.POR_COMMITMENT)throw Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")}function a(e){let t=i.from([n.InputTypes.POR_COMMITMENT]);return{key:t,value:i.from(e,"utf8")}}function s(e){return"string"==typeof e}function u(e,t){return!!e&&!!t&&void 0===e.porCommitment}t.decode=o,t.encode=a,t.expected="string",t.check=s,t.canAdd=u},91243:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.SIGHASH_TYPE)throw Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)}function a(e){let t=i.from([n.InputTypes.SIGHASH_TYPE]),r=i.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}}function s(e){return"number"==typeof e}function u(e,t){return!!e&&!!t&&void 0===e.sighashType}t.decode=o,t.encode=a,t.expected="number",t.check=s,t.canAdd=u},3530:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!s(e.value))throw Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}function a(e){let t=i.from([n.InputTypes.TAP_KEY_SIG]);return{key:t,value:e}}function s(e){return i.isBuffer(e)&&(64===e.length||65===e.length)}function u(e,t){return!!e&&!!t&&void 0===e.tapKeySig}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},49265:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.TAP_LEAF_SCRIPT)throw Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));let t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));let r=e.value.slice(0,-1),i=e.key.slice(1);return{controlBlock:i,script:r,leafVersion:t}}function a(e){let t=i.from([n.InputTypes.TAP_LEAF_SCRIPT]),r=i.from([e.leafVersion]);return{key:i.concat([t,e.controlBlock]),value:i.concat([e.script,r])}}function s(e){return i.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&i.isBuffer(e.script)}function u(e,t,r){let i=t.controlBlock.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.controlBlock.equals(t.controlBlock)).length)}t.decode=o,t.encode=a,t.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",t.check=s,t.canAddToArray=u},23934:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!s(e.value))throw Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}function a(e){let t=i.from([n.InputTypes.TAP_MERKLE_ROOT]);return{key:t,value:e}}function s(e){return i.isBuffer(e)&&32===e.length}function u(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot}t.decode=o,t.encode=a,t.expected="Buffer",t.check=s,t.canAdd=u},50602:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847);function o(e){if(e.key[0]!==n.InputTypes.TAP_SCRIPT_SIG)throw Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));let t=e.key.slice(1,33),r=e.key.slice(33);return{pubkey:t,leafHash:r,signature:e.value}}function a(e){let t=i.from([n.InputTypes.TAP_SCRIPT_SIG]);return{key:i.concat([t,e.pubkey,e.leafHash]),value:e.signature}}function s(e){return i.isBuffer(e.pubkey)&&i.isBuffer(e.leafHash)&&i.isBuffer(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)}function u(e,t,r){let i=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash)).length)}t.decode=o,t.encode=a,t.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",t.check=s,t.canAddToArray=u},82954:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847),o=r(19254),a=r(3493);function s(e){if(e.key[0]!==n.InputTypes.WITNESS_UTXO)throw Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));let t=o.readUInt64LE(e.value,0),r=8,i=a.decode(e.value,r);r+=a.encodingLength(i);let s=e.value.slice(r);if(s.length!==i)throw Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:s,value:t}}function u(e){let{script:t,value:r}=e,s=a.encodingLength(t.length),u=i.allocUnsafe(8+s+t.length);return o.writeUInt64LE(u,r,0),a.encode(t.length,u,8),t.copy(u,8+s),{key:i.from([n.InputTypes.WITNESS_UTXO]),value:u}}function l(e){return i.isBuffer(e.script)&&"number"==typeof e.value}function c(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}t.decode=s,t.encode=u,t.expected="{ script: Buffer; value: number; }",t.check=l,t.canAdd=c},6036:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(1847),o=r(3493);function a(e){if(e.key[0]!==n.OutputTypes.TAP_TREE||1!==e.key.length)throw Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0,r=[];for(;t<e.value.length;){let i=e.value[t++],a=e.value[t++],s=o.decode(e.value,t);t+=o.encodingLength(s),r.push({depth:i,leafVersion:a,script:e.value.slice(t,t+s)}),t+=s}return{leaves:r}}function s(e){let t=i.from([n.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map(e=>[i.of(e.depth,e.leafVersion),o.encode(e.script.length),e.script]));return{key:t,value:i.concat(r)}}function u(e){return Array.isArray(e.leaves)&&e.leaves.every(e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&i.isBuffer(e.script))}function l(e,t){return!!e&&!!t&&void 0===e.tapTree}t.decode=a,t.encode=s,t.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",t.check=u,t.canAdd=l},44799:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=e=>[...Array(e).keys()],o=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];function a(e,t=o){function r(r){if(r.key[0]!==e)throw Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));let i=r.key.slice(1);if(!t(i))throw Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let o={masterFingerprint:r.value.slice(0,4),pubkey:i,path:"m"};for(let a of n(r.value.length/4-1)){let s=r.value.readUInt32LE(4*a+4),u=!!(2147483648&s),l=2147483647&s;o.path+="/"+l.toString(10)+(u?"'":"")}return o}function a(t){let r=i.from([e]),n=i.concat([r,t.pubkey]),o=t.path.split("/"),a=i.allocUnsafe(4*o.length);t.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach(e=>{let t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4}),{key:n,value:a}}let s="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function u(e){return i.isBuffer(e.pubkey)&&i.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length}function l(e,t,r){let i=t.pubkey.toString("hex");return!r.has(i)&&(r.add(i),0===e.filter(e=>e.pubkey.equals(t.pubkey)).length)}return{decode:r,encode:a,check:u,expected:s,canAddToArray:l}}t.makeConverter=a},99595:function(e,t){"use strict";function r(e){return t;function t(t){let r;if(e.includes(t.key[0])&&(!(33===(r=t.key.slice(1)).length||65===r.length)||![2,3,4].includes(r[0])))throw Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=r},9705:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){function t(t){if(t.key[0]!==e)throw Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value}function r(t){let r=i.from([e]);return{key:r,value:t}}let n="Buffer";function o(e){return i.isBuffer(e)}function a(e,t){return!!e&&!!t&&void 0===e.redeemScript}return{decode:t,encode:r,check:o,expected:n,canAdd:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=n},17196:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(3493),o=r(44799),a=e=>32===e.length;function s(e){let t=o.makeConverter(e,a);function r(e){let r=n.decode(e.value),i=n.encodingLength(r),o=t.decode({key:e.key,value:e.value.slice(i+32*r)}),a=Array(r);for(let s=0,u=i;s<r;s++,u+=32)a[s]=e.value.slice(u,u+32);return Object.assign({},o,{leafHashes:a})}function s(e){let r=t.encode(e),o=n.encodingLength(e.leafHashes.length),a=i.allocUnsafe(o);n.encode(e.leafHashes.length,a);let s=i.concat([a,...e.leafHashes,r.value]);return Object.assign({},r,{value:s})}let u="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function l(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every(e=>i.isBuffer(e)&&32===e.length)&&t.check(e)}return{decode:r,encode:s,check:l,expected:u,canAddToArray:t.canAddToArray}}t.makeConverter=s},29375:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){function t(t){if(t.key[0]!==e||1!==t.key.length)throw Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value}function r(t){let r=i.from([e]);return{key:r,value:t}}let n="Buffer";function o(e){return i.isBuffer(e)&&32===e.length}function a(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}return{decode:t,encode:r,check:o,expected:n,canAdd:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=n},66327:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){function t(t){if(t.key[0]!==e)throw Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value}function r(t){let r=i.from([e]);return{key:r,value:t}}let n="Buffer";function o(e){return i.isBuffer(e)}function a(e,t){return!!e&&!!t&&void 0===e.witnessScript}return{decode:t,encode:r,check:o,expected:n,canAdd:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=n},19254:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(3493);function o(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let i=0;i<e.length/2;i++)r=e[i],e[i]=e[t],e[t]=r,t--;return e}function a(e){let t=e.map(s);return t.push(i.from([0])),i.concat(t)}function s(e){let t=e.key.length,r=e.value.length,o=n.encodingLength(t),a=n.encodingLength(r),s=i.allocUnsafe(o+t+a+r);return n.encode(t,s,0),e.key.copy(s,o),n.encode(r,s,o+t),e.value.copy(s,o+t+a),s}function u(e,t){if("number"!=typeof e)throw Error("cannot write a non-number as a number");if(e<0)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("RangeError: value out of range");if(Math.floor(e)!==e)throw Error("value has a fractional component")}function l(e,t){let r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return u((i*=4294967296)+r,9007199254740991),i+r}function c(e,t,r){return u(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}t.range=e=>[...Array(e).keys()],t.reverseBuffer=o,t.keyValsToBuffer=a,t.keyValToBuffer=s,t.readUInt64LE=l,t.writeUInt64LE=c},3493:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=9007199254740991;function o(e){if(e<0||e>n||e%1!=0)throw RangeError("value out of range")}function a(e,t,r){if(o(e),t||(t=i.allocUnsafe(u(e))),!i.isBuffer(t))throw TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),Object.assign(a,{bytes:1})):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),Object.assign(a,{bytes:3})):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),Object.assign(a,{bytes:5})):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),Object.assign(a,{bytes:9})),t}function s(e,t){if(!i.isBuffer(e))throw TypeError("buffer must be a Buffer instance");t||(t=0);let r=e.readUInt8(t);if(r<253)return Object.assign(s,{bytes:1}),r;if(253===r)return Object.assign(s,{bytes:3}),e.readUInt16LE(t+1);if(254===r)return Object.assign(s,{bytes:5}),e.readUInt32LE(t+1);{Object.assign(s,{bytes:9});let n=e.readUInt32LE(t+1),a=e.readUInt32LE(t+5),u=4294967296*a+n;return o(u),u}}function u(e){return o(e),e<253?1:e<=65535?3:e<=4294967295?5:9}t.encode=a,t.decode=s,t.encodingLength=u},12974:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(71528),o=r(19254),a=r(3493),s=r(1847);function u(e,t){let r=0;function i(){let t=a.decode(e,r);r+=a.encodingLength(t);let i=e.slice(r,r+t);return r+=t,i}function n(){let t=e.readUInt8(r);return r+=1,t}function u(){let e=i(),t=i();return{key:e,value:t}}function l(){if(r>=e.length)throw Error("Format Error: Unexpected End of PSBT");let t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){let t=e.readUInt32BE(r);return r+=4,t}())throw Error("Format Error: Invalid Magic Number");if(255!==n())throw Error("Format Error: Magic Number must be followed by 0xff separator");let f=[],h={};for(;!l();){let p=u(),d=p.key.toString("hex");if(h[d])throw Error("Format Error: Keys must be unique for global keymap: key "+d);h[d]=1,f.push(p)}let g=f.filter(e=>e.key[0]===s.GlobalTypes.UNSIGNED_TX);if(1!==g.length)throw Error("Format Error: Only one UNSIGNED_TX allowed");let b=t(g[0].value),{inputCount:y,outputCount:m}=b.getInputOutputCounts(),v=[],w=[];for(let E of o.range(y)){let _={},S=[];for(;!l();){let I=u(),P=I.key.toString("hex");if(_[P])throw Error("Format Error: Keys must be unique for each input: input index "+E+" key "+P);_[P]=1,S.push(I)}v.push(S)}for(let k of o.range(m)){let T={},O=[];for(;!l();){let A=u(),x=A.key.toString("hex");if(T[x])throw Error("Format Error: Keys must be unique for each output: output index "+k+" key "+x);T[x]=1,O.push(A)}w.push(O)}return c(b,{globalMapKeyVals:f,inputKeyVals:v,outputKeyVals:w})}function l(e,t,r){if(!t.equals(i.from([r])))throw Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function c(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:i}){let a={unsignedTx:e},u=0;for(let c of t)switch(c.key[0]){case s.GlobalTypes.UNSIGNED_TX:if(l("global",c.key,s.GlobalTypes.UNSIGNED_TX),u>0)throw Error("Format Error: GlobalMap has multiple UNSIGNED_TX");u++;break;case s.GlobalTypes.GLOBAL_XPUB:void 0===a.globalXpub&&(a.globalXpub=[]),a.globalXpub.push(n.globals.globalXpub.decode(c));break;default:a.unknownKeyVals||(a.unknownKeyVals=[]),a.unknownKeyVals.push(c)}let f=r.length,h=i.length,p=[],d=[];for(let g of o.range(f)){let b={};for(let y of r[g])switch(n.inputs.checkPubkey(y),y.key[0]){case s.InputTypes.NON_WITNESS_UTXO:if(l("input",y.key,s.InputTypes.NON_WITNESS_UTXO),void 0!==b.nonWitnessUtxo)throw Error("Format Error: Input has multiple NON_WITNESS_UTXO");b.nonWitnessUtxo=n.inputs.nonWitnessUtxo.decode(y);break;case s.InputTypes.WITNESS_UTXO:if(l("input",y.key,s.InputTypes.WITNESS_UTXO),void 0!==b.witnessUtxo)throw Error("Format Error: Input has multiple WITNESS_UTXO");b.witnessUtxo=n.inputs.witnessUtxo.decode(y);break;case s.InputTypes.PARTIAL_SIG:void 0===b.partialSig&&(b.partialSig=[]),b.partialSig.push(n.inputs.partialSig.decode(y));break;case s.InputTypes.SIGHASH_TYPE:if(l("input",y.key,s.InputTypes.SIGHASH_TYPE),void 0!==b.sighashType)throw Error("Format Error: Input has multiple SIGHASH_TYPE");b.sighashType=n.inputs.sighashType.decode(y);break;case s.InputTypes.REDEEM_SCRIPT:if(l("input",y.key,s.InputTypes.REDEEM_SCRIPT),void 0!==b.redeemScript)throw Error("Format Error: Input has multiple REDEEM_SCRIPT");b.redeemScript=n.inputs.redeemScript.decode(y);break;case s.InputTypes.WITNESS_SCRIPT:if(l("input",y.key,s.InputTypes.WITNESS_SCRIPT),void 0!==b.witnessScript)throw Error("Format Error: Input has multiple WITNESS_SCRIPT");b.witnessScript=n.inputs.witnessScript.decode(y);break;case s.InputTypes.BIP32_DERIVATION:void 0===b.bip32Derivation&&(b.bip32Derivation=[]),b.bip32Derivation.push(n.inputs.bip32Derivation.decode(y));break;case s.InputTypes.FINAL_SCRIPTSIG:l("input",y.key,s.InputTypes.FINAL_SCRIPTSIG),b.finalScriptSig=n.inputs.finalScriptSig.decode(y);break;case s.InputTypes.FINAL_SCRIPTWITNESS:l("input",y.key,s.InputTypes.FINAL_SCRIPTWITNESS),b.finalScriptWitness=n.inputs.finalScriptWitness.decode(y);break;case s.InputTypes.POR_COMMITMENT:l("input",y.key,s.InputTypes.POR_COMMITMENT),b.porCommitment=n.inputs.porCommitment.decode(y);break;case s.InputTypes.TAP_KEY_SIG:l("input",y.key,s.InputTypes.TAP_KEY_SIG),b.tapKeySig=n.inputs.tapKeySig.decode(y);break;case s.InputTypes.TAP_SCRIPT_SIG:void 0===b.tapScriptSig&&(b.tapScriptSig=[]),b.tapScriptSig.push(n.inputs.tapScriptSig.decode(y));break;case s.InputTypes.TAP_LEAF_SCRIPT:void 0===b.tapLeafScript&&(b.tapLeafScript=[]),b.tapLeafScript.push(n.inputs.tapLeafScript.decode(y));break;case s.InputTypes.TAP_BIP32_DERIVATION:void 0===b.tapBip32Derivation&&(b.tapBip32Derivation=[]),b.tapBip32Derivation.push(n.inputs.tapBip32Derivation.decode(y));break;case s.InputTypes.TAP_INTERNAL_KEY:l("input",y.key,s.InputTypes.TAP_INTERNAL_KEY),b.tapInternalKey=n.inputs.tapInternalKey.decode(y);break;case s.InputTypes.TAP_MERKLE_ROOT:l("input",y.key,s.InputTypes.TAP_MERKLE_ROOT),b.tapMerkleRoot=n.inputs.tapMerkleRoot.decode(y);break;default:b.unknownKeyVals||(b.unknownKeyVals=[]),b.unknownKeyVals.push(y)}p.push(b)}for(let m of o.range(h)){let v={};for(let w of i[m])switch(n.outputs.checkPubkey(w),w.key[0]){case s.OutputTypes.REDEEM_SCRIPT:if(l("output",w.key,s.OutputTypes.REDEEM_SCRIPT),void 0!==v.redeemScript)throw Error("Format Error: Output has multiple REDEEM_SCRIPT");v.redeemScript=n.outputs.redeemScript.decode(w);break;case s.OutputTypes.WITNESS_SCRIPT:if(l("output",w.key,s.OutputTypes.WITNESS_SCRIPT),void 0!==v.witnessScript)throw Error("Format Error: Output has multiple WITNESS_SCRIPT");v.witnessScript=n.outputs.witnessScript.decode(w);break;case s.OutputTypes.BIP32_DERIVATION:void 0===v.bip32Derivation&&(v.bip32Derivation=[]),v.bip32Derivation.push(n.outputs.bip32Derivation.decode(w));break;case s.OutputTypes.TAP_INTERNAL_KEY:l("output",w.key,s.OutputTypes.TAP_INTERNAL_KEY),v.tapInternalKey=n.outputs.tapInternalKey.decode(w);break;case s.OutputTypes.TAP_TREE:l("output",w.key,s.OutputTypes.TAP_TREE),v.tapTree=n.outputs.tapTree.decode(w);break;case s.OutputTypes.TAP_BIP32_DERIVATION:void 0===v.tapBip32Derivation&&(v.tapBip32Derivation=[]),v.tapBip32Derivation.push(n.outputs.tapBip32Derivation.decode(w));break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(w)}d.push(v)}return{globalMap:a,inputs:p,outputs:d}}t.psbtFromBuffer=u,t.checkKeyBuffer=l,t.psbtFromKeyVals=c},36574:function(e,t,r){"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),i(r(12974)),i(r(15312))},15312:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(71528),o=r(19254);function a({globalMap:e,inputs:t,outputs:r}){let{globalKeyVals:n,inputKeyVals:a,outputKeyVals:s}=l({globalMap:e,inputs:t,outputs:r}),u=o.keyValsToBuffer(n),c=e=>0===e.length?[i.from([0])]:e.map(o.keyValsToBuffer),f=c(a),h=c(s),p=i.allocUnsafe(5);return p.writeUIntBE(482972169471,0,5),i.concat([p,u].concat(f,h))}t.psbtToBuffer=a;let s=(e,t)=>e.key.compare(t.key);function u(e,t){let r=new Set,i=Object.entries(e).reduce((e,[i,n])=>{if("unknownKeyVals"===i)return e;let o=t[i];if(void 0===o)return e;let a=(Array.isArray(n)?n:[n]).map(o.encode),s=a.map(e=>e.key.toString("hex"));return s.forEach(e=>{if(r.has(e))throw Error("Serialize Error: Duplicate key: "+e);r.add(e)}),e.concat(a)},[]),n=e.unknownKeyVals?e.unknownKeyVals.filter(e=>!r.has(e.key.toString("hex"))):[];return i.concat(n).sort(s)}function l({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:u(e,n.globals),inputKeyVals:t.map(e=>u(e,n.inputs)),outputKeyVals:r.map(e=>u(e,n.outputs))}}t.psbtToKeyVals=l},95011:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(82190),o=r(36574),a=r(1847),s=r(96403);class u{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){let r=i.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){let r=i.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){let r=o.psbtFromBuffer(e,t),i=new this(r.globalMap.unsignedTx);return Object.assign(i,r),i}toBase64(){let e=this.toBuffer();return e.toString("base64")}toHex(){let e=this.toBuffer();return e.toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(e){return s.updateGlobal(e,this.globalMap),this}updateInput(e,t){let r=s.checkForInput(this.inputs,e);return s.updateInput(t,r),this}updateOutput(e,t){let r=s.checkForOutput(this.outputs,e);return s.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return s.checkHasKey(e,this.globalMap.unknownKeyVals,s.getEnumLength(a.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){let r=s.checkForInput(this.inputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){let r=s.checkForOutput(this.outputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw Error("unknownKeyVals must be an Array");return t.forEach(e=>this.addUnknownKeyValToInput(r,e)),s.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw Error("unknownKeyVals must be an Array");return t.forEach(e=>this.addUnknownKeyValToInput(r,e)),s.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let t=s.checkForInput(this.inputs,e);for(let r of(s.inputCheckUncleanFinalized(e,t),Object.keys(t)))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete t[r];return this}combine(...e){let t=n.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}t.Psbt=u},1847:function(e,t){"use strict";var r,i,n,o,a,s;Object.defineProperty(t,"__esModule",{value:!0}),(o=r=t.GlobalTypes||(t.GlobalTypes={}))[o.UNSIGNED_TX=0]="UNSIGNED_TX",o[o.GLOBAL_XPUB=1]="GLOBAL_XPUB",t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(a=i=t.InputTypes||(t.InputTypes={}))[a.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",a[a.WITNESS_UTXO=1]="WITNESS_UTXO",a[a.PARTIAL_SIG=2]="PARTIAL_SIG",a[a.SIGHASH_TYPE=3]="SIGHASH_TYPE",a[a.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",a[a.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",a[a.BIP32_DERIVATION=6]="BIP32_DERIVATION",a[a.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",a[a.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",a[a.POR_COMMITMENT=9]="POR_COMMITMENT",a[a.TAP_KEY_SIG=19]="TAP_KEY_SIG",a[a.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",a[a.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",a[a.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",a[a.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",a[a.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],(s=n=t.OutputTypes||(t.OutputTypes={}))[s.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",s[s.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",s[s.BIP32_DERIVATION=2]="BIP32_DERIVATION",s[s.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",s[s.TAP_TREE=6]="TAP_TREE",s[s.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},96403:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(71528);function o(e,t){let r=e[t];if(void 0===r)throw Error(`No input #${t}`);return r}function a(e,t){let r=e[t];if(void 0===r)throw Error(`No output #${t}`);return r}function s(e,t,r){if(e.key[0]<r)throw Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter(t=>t.key.equals(e.key)).length)throw Error(`Duplicate Key: ${e.key.toString("hex")}`)}function u(e){let t=0;return Object.keys(e).forEach(e=>{Number(isNaN(Number(e)))&&t++}),t}function l(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){let i=!!t.redeemScript,n=!!t.witnessScript,o=!i||!!t.finalScriptSig,a=!n||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=o&&a&&s}if(!1===r)throw Error(`Input #${e} has too much or too little data to clean`)}function c(e,t,r,i){throw Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(i)}`)}function f(e){return(t,r)=>{for(let i of Object.keys(t)){let o=t[i],{canAdd:a,canAddToArray:s,check:u,expected:l}=n[e+"s"][i]||{},f=!!s;if(u){if(f){if(!Array.isArray(o)||r[i]&&!Array.isArray(r[i]))throw Error(`Key type ${i} must be an array`);o.every(u)||c(e,i,l,o);let h=r[i]||[],p=new Set;if(!o.every(e=>s(h,e,p)))throw Error("Can not add duplicate data to array");r[i]=h.concat(o)}else{if(u(o)||c(e,i,l,o),!a(r,o))throw Error(`Can not add duplicate data to ${e}`);r[i]=o}}}}}function h(e,r){let i=e.length-1,n=o(e,i);t.updateInput(r,n)}function p(e,r){let i=e.length-1,n=a(e,i);t.updateOutput(r,n)}function d(e,t){if(!i.isBuffer(t)||t.length<4)throw Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t}function g(e,t){if(!i.isBuffer(t)||t.length<4)throw Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}t.checkForInput=o,t.checkForOutput=a,t.checkHasKey=s,t.getEnumLength=u,t.inputCheckUncleanFinalized=l,t.updateGlobal=f("global"),t.updateInput=f("input"),t.updateOutput=f("output"),t.addInputAttributes=h,t.addOutputAttributes=p,t.defaultVersionSetter=d,t.defaultLocktimeSetter=g},84090:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=r(56903),o=r(32871),a=r(58334),s=r(2401),u=r(37174);function l(e){o.testEcc(e);let t=s.BufferN(32),r=s.compile({wif:s.UInt8,bip32:{public:s.UInt32,private:s.UInt32}}),l={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},c=2147483648,f=2147483647;function h(e){return s.String(e)&&null!==e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function p(e){return s.UInt32(e)&&e<=f}function d(e){return 32===e.length?e:e.slice(1,33)}class g{constructor(e,t){this.__D=e,this.__Q=t,this.lowR=!1}get publicKey(){return void 0===this.__Q&&(this.__Q=i.from(e.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}sign(t,r){if(!this.privateKey)throw Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return i.from(e.sign(t,this.privateKey));{let n=i.from(e.sign(t,this.privateKey)),o=i.alloc(32,0),a=0;for(;n[0]>127;)a++,o.writeUIntLE(a,0,6),n=i.from(e.sign(t,this.privateKey,o));return n}}signSchnorr(t){if(!this.privateKey)throw Error("Missing private key");if(!e.signSchnorr)throw Error("signSchnorr not supported by ecc library");return i.from(e.signSchnorr(t,this.privateKey))}verify(t,r){return e.verify(t,this.publicKey,r)}verifySchnorr(t,r){if(!e.verifySchnorr)throw Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),r)}}class b extends g{constructor(e,t,i,n,o=0,a=0,u=0){super(e,t),this.chainCode=i,this.network=n,this.__DEPTH=o,this.__INDEX=a,this.__PARENT_FINGERPRINT=u,s(r,n)}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get identifier(){return n.hash160(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return void 0===this.__D}neutered(){return E(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){let e=this.network,t=this.isNeutered()?e.bip32.public:e.bip32.private,r=i.allocUnsafe(78);return r.writeUInt32BE(t,0),r.writeUInt8(this.depth,4),r.writeUInt32BE(this.parentFingerprint,5),r.writeUInt32BE(this.index,9),this.chainCode.copy(r,13),this.isNeutered()?this.publicKey.copy(r,45):(r.writeUInt8(0,45),this.privateKey.copy(r,46)),a.encode(r)}toWIF(){if(!this.privateKey)throw TypeError("Missing private key");return u.encode(this.network.wif,this.privateKey,!0)}derive(t){let r;s(s.UInt32,t);let o=t>=c,a=i.allocUnsafe(37);if(o){if(this.isNeutered())throw TypeError("Missing private key for hardened child key");a[0]=0,this.privateKey.copy(a,1),a.writeUInt32BE(t,33)}else this.publicKey.copy(a,0),a.writeUInt32BE(t,33);let u=n.hmacSHA512(this.chainCode,a),l=u.slice(0,32),f=u.slice(32);if(!e.isPrivate(l))return this.derive(t+1);if(this.isNeutered()){let h=i.from(e.pointAddScalar(this.publicKey,l,!0));if(null===h)return this.derive(t+1);r=E(h,f,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}else{let p=i.from(e.privateAdd(this.privateKey,l));if(null==p)return this.derive(t+1);r=v(p,f,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}return r}deriveHardened(e){return s(p,e),this.derive(e+c)}derivePath(e){s(h,e);let t=e.split("/");if("m"===t[0]){if(this.parentFingerprint)throw TypeError("Expected master, got child");t=t.slice(1)}return t.reduce((e,t)=>{let r;return"'"===t.slice(-1)?(r=parseInt(t.slice(0,-1),10),e.deriveHardened(r)):(r=parseInt(t,10),e.derive(r))},this)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}tweakFromPublicKey(t){let r=d(this.publicKey),n=e.xOnlyPointAddTweak(r,t);if(!n||null===n.xOnlyPubkey)throw Error("Cannot tweak public key!");let o=i.from([0===n.parity?2:3]),a=i.concat([o,n.xOnlyPubkey]);return new g(void 0,a)}tweakFromPrivateKey(t){let r=3===this.publicKey[0]||4===this.publicKey[0]&&(1&this.publicKey[64])==1,n=r?e.privateNegate(this.privateKey):this.privateKey,o=e.privateAdd(n,t);if(!o)throw Error("Invalid tweaked private key!");return new g(i.from(o),void 0)}}function y(e,t){let r;let i=a.decode(e);if(78!==i.length)throw TypeError("Invalid buffer length");t=t||l;let n=i.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw TypeError("Invalid network version");let o=i[4],s=i.readUInt32BE(5);if(0===o&&0!==s)throw TypeError("Invalid parent fingerprint");let u=i.readUInt32BE(9);if(0===o&&0!==u)throw TypeError("Invalid index");let c=i.slice(13,45);if(n===t.bip32.private){if(0!==i.readUInt8(45))throw TypeError("Invalid private key");let f=i.slice(46,78);r=v(f,c,t,o,u,s)}else{let h=i.slice(45,78);r=E(h,c,t,o,u,s)}return r}function m(e,t,r){return v(e,t,r)}function v(r,i,n,o,a,u){if(s({privateKey:t,chainCode:t},{privateKey:r,chainCode:i}),n=n||l,!e.isPrivate(r))throw TypeError("Private key not in range [1, n)");return new b(r,void 0,i,n,o,a,u)}function w(e,t,r){return E(e,t,r)}function E(r,i,n,o,a,u){if(s({publicKey:s.BufferN(33),chainCode:t},{publicKey:r,chainCode:i}),n=n||l,!e.isPoint(r))throw TypeError("Point is not on the curve");return new b(void 0,r,i,n,o,a,u)}function _(e,t){if(s(s.Buffer,e),e.length<16)throw TypeError("Seed should be at least 128 bits");if(e.length>64)throw TypeError("Seed should be at most 512 bits");t=t||l;let r=n.hmacSHA512(i.from("Bitcoin seed","utf8"),e),o=r.slice(0,32),a=r.slice(32);return m(o,a,t)}return{fromSeed:_,fromBase58:y,fromPublicKey:w,fromPrivateKey:m}}t.BIP32Factory=l},56903:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(79785),n=r(23482),o=r(58355);function a(e){let t=n("sha256").update(e).digest();try{return n("rmd160").update(t).digest()}catch(o){try{return n("ripemd160").update(t).digest()}catch(r){return new i().update(t).digest()}}}function s(e,t){return o("sha512",e).update(t).digest()}t.hash160=a,t.hmacSHA512=s},37786:function(e,t,r){"use strict";var i,n=r(84090);t.ZP=n.BIP32Factory,i=n.BIP32Factory},32871:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});let n=e=>i.from(e,"hex");function o(e){a(e.isPoint(n("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),a(!e.isPoint(n("030000000000000000000000000000000000000000000000000000000000000005"))),a(e.isPrivate(n("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),a(e.isPrivate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),a(!e.isPrivate(n("0000000000000000000000000000000000000000000000000000000000000000"))),a(!e.isPrivate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),a(!e.isPrivate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),a(i.from(e.pointFromScalar(n("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(n("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),a(null===e.xOnlyPointAddTweak(n("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(n("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),n("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));a(i.from(t.xOnlyPubkey).equals(n("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(n("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),n("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),a(i.from(e.pointAddScalar(n("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),n("0000000000000000000000000000000000000000000000000000000000000003"))).equals(n("02c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5"))),a(i.from(e.privateAdd(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),n("0000000000000000000000000000000000000000000000000000000000000002"))).equals(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),a(i.from(e.privateNegate(n("0000000000000000000000000000000000000000000000000000000000000001"))).equals(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),a(i.from(e.privateNegate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(n("0000000000000000000000000000000000000000000000000000000000000003"))),a(i.from(e.privateNegate(n("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(n("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),a(i.from(e.sign(n("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(n("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),a(e.verify(n("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),n("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),n("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&a(i.from(e.signSchnorr(n("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),n("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),n("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(n("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&a(e.verifySchnorr(n("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),n("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),n("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}function a(e){if(!e)throw Error("ecc library invalid")}t.testEcc=o},42314:function(e,t,r){"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0});let n={};t.wordlists=n,t._default=i;try{t._default=i=r(40032),n.czech=i}catch(o){}try{t._default=i=r(46996),n.chinese_simplified=i}catch(a){}try{t._default=i=r(4262),n.chinese_traditional=i}catch(s){}try{t._default=i=r(8013),n.korean=i}catch(u){}try{t._default=i=r(11848),n.french=i}catch(l){}try{t._default=i=r(72841),n.italian=i}catch(c){}try{t._default=i=r(80659),n.spanish=i}catch(f){}try{t._default=i=r(94472),n.japanese=i,n.JA=i}catch(h){}try{t._default=i=r(71945),n.portuguese=i}catch(p){}try{t._default=i=r(24573),n.english=i,n.EN=i}catch(d){}},2153:function(e,t,r){"use strict";var i,n=r(21876).Buffer;let o=r(23482),a=r(25632),s=(r(61798),r(42314));s._default;function u(e){return(e||"").normalize("NFKD")}function l(e,t,r){for(;e.length<r;)e=t+e;return e}function c(e){return e.map(e=>l(e.toString(2),"0",8)).join("")}function f(e){return"mnemonic"+(e||"")}function h(e,t){let r=n.from(u(e),"utf8"),i=n.from(f(u(t)),"utf8");return a.pbkdf2Sync(r,i,2048,64,"sha512")}t.Z1=h,i=r(42314).wordlists},36477:function(e,t,r){"use strict";r.d(t,{cs:function(){return m}});var i,n,o,a,s=r(96740),u=r.n(s),l=r(29887),c=r(63144),f=r.n(c);function h(e,t,r,i,n,o,a){try{var s=e[o](a),u=s.value}catch(l){r(l);return}s.done?t(u):Promise.resolve(u).then(i,n)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var o=e.apply(t,r);function a(e){h(o,i,n,a,s,"next",e)}function s(e){h(o,i,n,a,s,"throw",e)}a(void 0)})}}var d=(function(e){var t=function(e){var t,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(l){u=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var n=Object.create((t&&t.prototype instanceof y?t:y).prototype),o=new x(i||[]);return n._invoke=k(e,r,o),n}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(i){return{type:"throw",arg:i}}}e.wrap=c;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",b={};function y(){}function m(){}function v(){}var w={};w[o]=function(){return this};var E=Object.getPrototypeOf,_=E&&E(E(N([])));_&&_!==r&&i.call(_,o)&&(w=_);var S=v.prototype=y.prototype=Object.create(w);function I(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function P(e,t){var r;function n(r,o,a,s){var u=f(e[r],e,o);if("throw"===u.type)s(u.arg);else{var l=u.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(c).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}}function o(e,i){function o(){return new t(function(t,r){n(e,i,t,r)})}return r=r?r.then(o,o):o()}this._invoke=o}function k(e,t,r){var i=h;return function(n,o){if(i===d)throw Error("Generator is already running");if(i===g){if("throw"===n)throw o;return R()}for(r.method=n,r.arg=o;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var u=f(e,t,r);if("normal"===u.type){if(i=r.done?g:p,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function T(e,r){var i=e.iterator[r.method];if(i===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return b;r.method="throw",r.arg=TypeError("The iterator does not provide a 'throw' method")}return b}var n=f(i,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,b;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):o:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,b)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return m.prototype=S.constructor=v,v.constructor=m,m.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},I(P.prototype),P.prototype[a]=function(){return this},e.AsyncIterator=P,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var a=new P(c(t,r,i,n),o);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},I(S),u(S,s,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return s.type="throw",s.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else if(l){if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return(a.type=e,a.arg=t,o)?(this.method="next",this.next=o.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;A(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:N(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}}(i={exports:{}},i.exports),i.exports),g=1e8,b=function(e){return new l.Decimal(e).mul(g).toNumber()},y=(n=p(d.mark(function e(t,r){var i,n,o;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new l.Decimal(t),e.next=3,v(r);case 3:return n=e.sent,o=new l.Decimal(n),e.abrupt("return",i.div(o).toNumber());case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),m=(o=p(d.mark(function e(t,r){var i;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,r);case 2:return i=e.sent,e.abrupt("return",b(i));case 4:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)}),v=(a=p(d.mark(function e(t){var r,i;return d.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()("https://api.coindesk.com/v1/bpi/currentprice/"+t.toLowerCase()+".json");case 2:if(!(200!==(r=e.sent).status)){e.next=8;break}return e.next=6,r.json();case 6:throw Error(e.sent);case 8:return e.next=10,r.json();case 10:return i=e.sent,e.abrupt("return",u()(i.bpi[t].rate,{separator:"",symbol:""}).format());case 12:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},95488:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;let n=r(74378),o=r(84972),a=r(73357),s=r(41838),u=r(27715),l=r(58334),{typeforce:c}=s,f=40,h=2,p=16,d=1,g=80,b="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function y(e,t){let r=e.slice(2);if(r.length<h||r.length>f)throw TypeError("Invalid program length for segwit address");let i=e[0]-g;if(i<d||i>p)throw TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw TypeError("Invalid script for segwit address");return console.warn(b),E(r,i,t.bech32)}function m(e){let t=l.decode(e);if(t.length<21)throw TypeError(e+" is too short");if(t.length>21)throw TypeError(e+" is too long");let r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}function v(e){let t,r;try{t=u.bech32.decode(e)}catch(n){}if(t){if(0!==(r=t.words[0]))throw TypeError(e+" uses wrong encoding")}else if(0===(r=(t=u.bech32m.decode(e)).words[0]))throw TypeError(e+" uses wrong encoding");let o=u.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:i.from(o)}}function w(e,t){c(s.tuple(s.Hash160bit,s.UInt8),arguments);let r=i.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),l.encode(r)}function E(e,t,r){let i=u.bech32.toWords(e);return i.unshift(t),0===t?u.bech32.encode(r,i):u.bech32m.encode(r,i)}function _(e,t){t=t||n.bitcoin;try{return o.p2pkh({output:e,network:t}).address}catch(r){}try{return o.p2sh({output:e,network:t}).address}catch(i){}try{return o.p2wpkh({output:e,network:t}).address}catch(s){}try{return o.p2wsh({output:e,network:t}).address}catch(u){}try{return y(e,t)}catch(l){}throw Error(a.toASM(e)+" has no matching Address")}function S(e,t){let r,i;t=t||n.bitcoin;try{r=m(e)}catch(s){}if(r){if(r.version===t.pubKeyHash)return o.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return o.p2sh({hash:r.hash}).output}else{try{i=v(e)}catch(u){}if(i){if(i.prefix!==t.bech32)throw Error(e+" has an invalid prefix");if(0===i.version){if(20===i.data.length)return o.p2wpkh({hash:i.data}).output;if(32===i.data.length)return o.p2wsh({hash:i.data}).output}else if(i.version>=d&&i.version<=p&&i.data.length>=h&&i.data.length<=f)return console.warn(b),a.compile([i.version+g,i.data])}}throw Error(e+" has no matching Script")}t.fromBase58Check=m,t.fromBech32=v,t.toBase58Check=w,t.toBech32=E,t.fromOutputScript=_,t.toOutputScript=S},77617:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){if(e.length<8||e.length>72||48!==e[0]||e[1]!==e.length-2||2!==e[2])return!1;let t=e[3];if(0===t||5+t>=e.length||2!==e[4+t])return!1;let r=e[5+t];return 0!==r&&6+t+r===e.length&&!(128&e[4])&&(!(t>1)||0!==e[4]||!!(128&e[5]))&&!(128&e[t+6])&&(!(r>1)||0!==e[t+6]||!!(128&e[t+7]))}function o(e){if(e.length<8)throw Error("DER sequence length is too short");if(e.length>72)throw Error("DER sequence length is too long");if(48!==e[0])throw Error("Expected DER sequence");if(e[1]!==e.length-2)throw Error("DER sequence length is invalid");if(2!==e[2])throw Error("Expected DER integer");let t=e[3];if(0===t)throw Error("R length is zero");if(5+t>=e.length)throw Error("R length is too long");if(2!==e[4+t])throw Error("Expected DER integer (2)");let r=e[5+t];if(0===r)throw Error("S length is zero");if(6+t+r!==e.length)throw Error("S length is invalid");if(128&e[4])throw Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw Error("R value excessively padded");if(128&e[t+6])throw Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}function a(e,t){let r=e.length,n=t.length;if(0===r)throw Error("R length is zero");if(0===n)throw Error("S length is zero");if(r>33)throw Error("R length is too long");if(n>33)throw Error("S length is too long");if(128&e[0])throw Error("R value is negative");if(128&t[0])throw Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw Error("S value excessively padded");let o=i.allocUnsafe(6+r+n);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=n,t.decode=o,t.encode=a},87949:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;let n=r(9357),o=r(5525),a=r(298),s=r(82737),u=r(41838),{typeforce:l}=u,c=TypeError("Cannot compute merkle root for zero transactions"),f=TypeError("Cannot compute witness commit for non-segwit block");class h{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw Error("Buffer too small (< 80 bytes)");let t=new n.BufferReader(e),r=new h;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;let i=()=>{let e=s.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},o=t.readVarInt();r.transactions=[];for(let a=0;a<o;++a){let u=i();r.transactions.push(u)}let l=r.getWitnessCommit();return l&&(r.witnessCommit=l),r}static fromHex(e){return h.fromBuffer(i.from(e,"hex"))}static calculateTarget(e){let t=((4278190080&e)>>24)-3,r=8388607&e,n=i.alloc(32,0);return n.writeUIntBE(r,29-t,3),n}static calculateMerkleRoot(e,t){if(l([{getHash:u.Function}],e),0===e.length)throw c;if(t&&!p(e))throw f;let r=e.map(e=>e.getHash(t)),n=(0,a.fastMerkleRoot)(r,o.hash256);return t?o.hash256(i.concat([n,e[0].ins[0].witness[0]])):n}getWitnessCommit(){if(!p(this.transactions))return null;let e=this.transactions[0].outs.filter(e=>e.script.slice(0,6).equals(i.from("6a24aa21a9ed","hex"))).map(e=>e.script.slice(6,38));if(0===e.length)return null;let t=e[e.length-1];return t instanceof i&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof i&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return d(this.transactions)}weight(){let e=this.byteLength(!1,!1),t=this.byteLength(!1,!0);return 3*e+t}byteLength(e,t=!0){return e||!this.transactions?80:80+n.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((e,r)=>e+r.byteLength(t),0)}getHash(){return o.hash256(this.toBuffer(!0))}getId(){return(0,n.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let t=i.allocUnsafe(this.byteLength(e)),r=new n.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(n.varuint.encode(this.transactions.length,t,r.offset),r.offset+=n.varuint.encode.bytes,this.transactions.forEach(e=>{let i=e.byteLength();e.toBuffer(t,r.offset),r.offset+=i})),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit())}checkProofOfWork(){let e=(0,n.reverseBuffer)(this.getHash()),t=h.calculateTarget(this.bits);return 0>=e.compare(t)}__checkMerkleRoot(){if(!this.transactions)throw c;let e=h.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw c;if(!this.hasWitnessCommit())throw f;let e=h.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function p(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}function d(e){return e instanceof Array&&e.some(e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some(e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))}t.Block=h},9357:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;let n=r(41838),{typeforce:o}=n,a=r(57795);function s(e,t){if("number"!=typeof e)throw Error("cannot write a non-number as a number");if(e<0)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("RangeError: value out of range");if(Math.floor(e)!==e)throw Error("value has a fractional component")}function u(e,t){let r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return s((i*=4294967296)+r,9007199254740991),i+r}function l(e,t,r){return s(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}function c(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let i=0;i<e.length/2;i++)r=e[i],e[i]=e[t],e[t]=r,t--;return e}function f(e){let t=i.allocUnsafe(e.length);return e.copy(t),t}t.varuint=a,t.readUInt64LE=u,t.writeUInt64LE=l,t.reverseBuffer=c,t.cloneBuffer=f;class h{constructor(e,t=0){this.buffer=e,this.offset=t,o(n.tuple(n.Buffer,n.UInt32),[e,t])}static withCapacity(e){return new h(i.alloc(e))}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=l(this.buffer,e,this.offset)}writeVarInt(e){a.encode(e,this.buffer,this.offset),this.offset+=a.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(e=>this.writeVarSlice(e))}end(){if(this.buffer.length===this.offset)return this.buffer;throw Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=h;class p{constructor(e,t=0){this.buffer=e,this.offset=t,o(n.tuple(n.Buffer,n.UInt32),[e,t])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=u(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=a.decode(this.buffer,this.offset);return this.offset+=a.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw Error("Cannot read slice out of bounds");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}t.BufferReader=p},5525:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;let n=r(23482),o=r(79785);function a(e){try{return n("rmd160").update(e).digest()}catch(r){try{return n("ripemd160").update(e).digest()}catch(t){return new o().update(e).digest()}}}function s(e){return n("sha1").update(e).digest()}function u(e){return n("sha256").update(e).digest()}function l(e){return a(u(e))}function c(e){return u(u(e))}t.ripemd160=a,t.sha1=s,t.sha256=u,t.hash160=l,t.hash256=c;let f=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],h=Object.fromEntries(f.map(e=>{let t=u(i.from(e));return[e,i.concat([t,t])]}));function p(e,t){return u(i.concat([h[e],t]))}t.taggedHash=p},17656:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;let i=r(95488);t.address=i;let n=r(5525);t.crypto=n;let o=r(74378);t.networks=o;let a=r(84972);t.payments=a;let s=r(73357);t.script=s;var u=r(87949);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return u.Block}});var l=r(99930);Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return l.Psbt}});var c=r(47334);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return c.OPS}});var f=r(82737);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return f.Transaction}})},298:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let r=e.length,n=e.concat();for(;r>1;){let o=0;for(let a=0;a<r;a+=2,++o){let s=n[a],u=a+1===r?s:n[a+1],l=i.concat([s,u]);n[o]=t(l)}r=o}return n[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=n},74378:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},47334:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;let r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;let i={};for(let n of(t.REVERSE_OPS=i,Object.keys(r))){let o=r[n];i[o]=n}},36648:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;let i=r(74378),n=r(73357),o=r(41838),a=r(52691),s=n.OPS;function u(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function l(e,t){if(!e.data&&!e.output)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);let r=e.network||i.bitcoin,l={name:"embed",network:r};if(a.prop(l,"output",()=>{if(e.data)return n.compile([s.OP_RETURN].concat(e.data))}),a.prop(l,"data",()=>{if(e.output)return n.decompile(e.output).slice(1)}),t.validate&&e.output){let c=n.decompile(e.output);if(c[0]!==s.OP_RETURN||!c.slice(1).every(o.typeforce.Buffer))throw TypeError("Output is invalid");if(e.data&&!u(e.data,l.data))throw TypeError("Data mismatch")}return Object.assign(l,e)}t.p2data=l},84972:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;let i=r(36648);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return i.p2data}});let n=r(98793);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return n.p2ms}});let o=r(97759);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});let a=r(44483);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});let s=r(21160);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});let u=r(18810);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});let l=r(82401);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return l.p2wsh}})},52691:function(e,t){"use strict";function r(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})}function i(e){let t;return()=>void 0!==t?t:t=e()}Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=r,t.value=i},98793:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;let i=r(74378),n=r(73357),o=r(41838),a=r(52691),s=n.OPS,u=s.OP_RESERVED;function l(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function c(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&void 0!==e.m)&&!e.signatures)throw TypeError("Not enough data");function r(e){return n.isCanonicalScriptSignature(e)||(t.allowIncomplete&&e===s.OP_0)!==void 0}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(r)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);let c=e.network||i.bitcoin,f={network:c},h=[],p=!1;function d(e){p||(p=!0,h=n.decompile(e),f.m=h[0]-u,f.n=h[h.length-2]-u,f.pubkeys=h.slice(1,-2))}if(a.prop(f,"output",()=>{if(e.m&&f.n&&e.pubkeys)return n.compile([].concat(u+e.m,e.pubkeys,u+f.n,s.OP_CHECKMULTISIG))}),a.prop(f,"m",()=>{if(f.output)return d(f.output),f.m}),a.prop(f,"n",()=>{if(f.pubkeys)return f.pubkeys.length}),a.prop(f,"pubkeys",()=>{if(e.output)return d(e.output),f.pubkeys}),a.prop(f,"signatures",()=>{if(e.input)return n.decompile(e.input).slice(1)}),a.prop(f,"input",()=>{if(e.signatures)return n.compile([s.OP_0].concat(e.signatures))}),a.prop(f,"witness",()=>{if(f.input)return[]}),a.prop(f,"name",()=>{if(f.m&&f.n)return`p2ms(${f.m} of ${f.n})`}),t.validate){if(e.output){if(d(e.output),!o.typeforce.Number(h[0])||!o.typeforce.Number(h[h.length-2])||h[h.length-1]!==s.OP_CHECKMULTISIG||f.m<=0||f.n>16||f.m>f.n||f.n!==h.length-3||!f.pubkeys.every(e=>(0,o.isPoint)(e)))throw TypeError("Output is invalid");if(void 0!==e.m&&e.m!==f.m)throw TypeError("m mismatch");if(void 0!==e.n&&e.n!==f.n)throw TypeError("n mismatch");if(e.pubkeys&&!l(e.pubkeys,f.pubkeys))throw TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw TypeError("Pubkey count mismatch");if(f.n=e.pubkeys.length,f.n<f.m)throw TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<f.m)throw TypeError("Not enough signatures provided");if(e.signatures.length>f.m)throw TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==s.OP_0)throw TypeError("Input is invalid");if(0===f.signatures.length||!f.signatures.every(r))throw TypeError("Input has invalid signature(s)");if(e.signatures&&!l(e.signatures,f.signatures))throw TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw TypeError("Signature count mismatch")}}return Object.assign(f,e)}t.p2ms=c},97759:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;let i=r(74378),n=r(73357),o=r(41838),a=r(52691),s=n.OPS;function u(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(n.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);let r=a.value(()=>n.decompile(e.input)),u=e.network||i.bitcoin,l={name:"p2pk",network:u};if(a.prop(l,"output",()=>{if(e.pubkey)return n.compile([e.pubkey,s.OP_CHECKSIG])}),a.prop(l,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),a.prop(l,"signature",()=>{if(e.input)return r()[0]}),a.prop(l,"input",()=>{if(e.signature)return n.compile([e.signature])}),a.prop(l,"witness",()=>{if(l.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==s.OP_CHECKSIG)throw TypeError("Output is invalid");if(!(0,o.isPoint)(l.pubkey))throw TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(l.pubkey))throw TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(l.input))throw TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw TypeError("Input is invalid");if(!n.isCanonicalScriptSignature(l.signature))throw TypeError("Input has invalid signature")}}return Object.assign(l,e)}t.p2pk=u},44483:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;let n=r(5525),o=r(74378),a=r(73357),s=r(41838),u=r(52691),l=r(58334),c=a.OPS;function f(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),output:s.typeforce.maybe(s.typeforce.BufferN(25)),pubkey:s.typeforce.maybe(s.isPoint),signature:s.typeforce.maybe(a.isCanonicalScriptSignature),input:s.typeforce.maybe(s.typeforce.Buffer)},e);let r=u.value(()=>{let t=l.decode(e.address),r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}),f=u.value(()=>a.decompile(e.input)),h=e.network||o.bitcoin,p={name:"p2pkh",network:h};if(u.prop(p,"address",()=>{if(!p.hash)return;let e=i.allocUnsafe(21);return e.writeUInt8(h.pubKeyHash,0),p.hash.copy(e,1),l.encode(e)}),u.prop(p,"hash",()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||p.pubkey?n.hash160(e.pubkey||p.pubkey):void 0),u.prop(p,"output",()=>{if(p.hash)return a.compile([c.OP_DUP,c.OP_HASH160,p.hash,c.OP_EQUALVERIFY,c.OP_CHECKSIG])}),u.prop(p,"pubkey",()=>{if(e.input)return f()[1]}),u.prop(p,"signature",()=>{if(e.input)return f()[0]}),u.prop(p,"input",()=>{if(e.pubkey&&e.signature)return a.compile([e.signature,e.pubkey])}),u.prop(p,"witness",()=>{if(p.input)return[]}),t.validate){let d=i.from([]);if(e.address){if(r().version!==h.pubKeyHash)throw TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw TypeError("Invalid address");d=r().hash}if(e.hash){if(d.length>0&&!d.equals(e.hash))throw TypeError("Hash mismatch");d=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==c.OP_DUP||e.output[1]!==c.OP_HASH160||20!==e.output[2]||e.output[23]!==c.OP_EQUALVERIFY||e.output[24]!==c.OP_CHECKSIG)throw TypeError("Output is invalid");let g=e.output.slice(3,23);if(d.length>0&&!d.equals(g))throw TypeError("Hash mismatch");d=g}if(e.pubkey){let b=n.hash160(e.pubkey);if(d.length>0&&!d.equals(b))throw TypeError("Hash mismatch");d=b}if(e.input){let y=f();if(2!==y.length)throw TypeError("Input is invalid");if(!a.isCanonicalScriptSignature(y[0]))throw TypeError("Input has invalid signature");if(!(0,s.isPoint)(y[1]))throw TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(y[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(y[1]))throw TypeError("Pubkey mismatch");let m=n.hash160(y[1]);if(d.length>0&&!d.equals(m))throw TypeError("Hash mismatch")}}return Object.assign(p,e)}t.p2pkh=f},21160:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;let n=r(5525),o=r(74378),a=r(73357),s=r(41838),u=r(52691),l=r(58334),c=a.OPS;function f(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function h(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),output:s.typeforce.maybe(s.typeforce.BufferN(23)),redeem:s.typeforce.maybe({network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.Buffer),input:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),input:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||o.bitcoin);let h={network:r},p=u.value(()=>{let t=l.decode(e.address),r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}),d=u.value(()=>a.decompile(e.input)),g=u.value(()=>{let t=d(),n=t[t.length-1];return{network:r,output:n===c.OP_FALSE?i.from([]):n,input:a.compile(t.slice(0,-1)),witness:e.witness||[]}});if(u.prop(h,"address",()=>{if(!h.hash)return;let e=i.allocUnsafe(21);return e.writeUInt8(h.network.scriptHash,0),h.hash.copy(e,1),l.encode(e)}),u.prop(h,"hash",()=>e.output?e.output.slice(2,22):e.address?p().hash:h.redeem&&h.redeem.output?n.hash160(h.redeem.output):void 0),u.prop(h,"output",()=>{if(h.hash)return a.compile([c.OP_HASH160,h.hash,c.OP_EQUAL])}),u.prop(h,"redeem",()=>{if(e.input)return g()}),u.prop(h,"input",()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return a.compile([].concat(a.decompile(e.redeem.input),e.redeem.output))}),u.prop(h,"witness",()=>h.redeem&&h.redeem.witness?h.redeem.witness:h.input?[]:void 0),u.prop(h,"name",()=>{let e=["p2sh"];return void 0!==h.redeem&&void 0!==h.redeem.name&&e.push(h.redeem.name),e.join("-")}),t.validate){let b=i.from([]);if(e.address){if(p().version!==r.scriptHash)throw TypeError("Invalid version or Network mismatch");if(20!==p().hash.length)throw TypeError("Invalid address");b=p().hash}if(e.hash){if(b.length>0&&!b.equals(e.hash))throw TypeError("Hash mismatch");b=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==c.OP_HASH160||20!==e.output[1]||e.output[22]!==c.OP_EQUAL)throw TypeError("Output is invalid");let y=e.output.slice(2,22);if(b.length>0&&!b.equals(y))throw TypeError("Hash mismatch");b=y}let m=e=>{if(e.output){let t=a.decompile(e.output);if(!t||t.length<1)throw TypeError("Redeem.output too short");let r=n.hash160(e.output);if(b.length>0&&!b.equals(r))throw TypeError("Hash mismatch");b=r}if(e.input){let i=e.input.length>0,o=e.witness&&e.witness.length>0;if(!i&&!o)throw TypeError("Empty input");if(i&&o)throw TypeError("Input and witness provided");if(i){let s=a.decompile(e.input);if(!a.isPushOnly(s))throw TypeError("Non push-only scriptSig")}}};if(e.input){let v=d();if(!v||v.length<1)throw TypeError("Input too short");if(!i.isBuffer(g().output))throw TypeError("Input is invalid");m(g())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw TypeError("Network mismatch");if(e.input){let w=g();if(e.redeem.output&&!e.redeem.output.equals(w.output))throw TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(w.input))throw TypeError("Redeem.input mismatch")}m(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!f(e.redeem.witness,e.witness))throw TypeError("Witness and redeem.witness mismatch")}return Object.assign(h,e)}t.p2sh=h},18810:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;let n=r(5525),o=r(74378),a=r(73357),s=r(41838),u=r(52691),l=r(27715),c=a.OPS,f=i.alloc(0);function h(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),input:s.typeforce.maybe(s.typeforce.BufferN(0)),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.BufferN(22)),pubkey:s.typeforce.maybe(s.isPoint),signature:s.typeforce.maybe(a.isCanonicalScriptSignature),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);let r=u.value(()=>{let t=l.bech32.decode(e.address),r=t.words.shift(),n=l.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:i.from(n)}}),h=e.network||o.bitcoin,p={name:"p2wpkh",network:h};if(u.prop(p,"address",()=>{if(!p.hash)return;let e=l.bech32.toWords(p.hash);return e.unshift(0),l.bech32.encode(h.bech32,e)}),u.prop(p,"hash",()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||p.pubkey?n.hash160(e.pubkey||p.pubkey):void 0),u.prop(p,"output",()=>{if(p.hash)return a.compile([c.OP_0,p.hash])}),u.prop(p,"pubkey",()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0),u.prop(p,"signature",()=>{if(e.witness)return e.witness[0]}),u.prop(p,"input",()=>{if(p.witness)return f}),u.prop(p,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),t.validate){let d=i.from([]);if(e.address){if(h&&h.bech32!==r().prefix)throw TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw TypeError("Invalid address version");if(20!==r().data.length)throw TypeError("Invalid address data");d=r().data}if(e.hash){if(d.length>0&&!d.equals(e.hash))throw TypeError("Hash mismatch");d=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==c.OP_0||20!==e.output[1])throw TypeError("Output is invalid");if(d.length>0&&!d.equals(e.output.slice(2)))throw TypeError("Hash mismatch");d=e.output.slice(2)}if(e.pubkey){let g=n.hash160(e.pubkey);if(d.length>0&&!d.equals(g))throw TypeError("Hash mismatch");if(d=g,!(0,s.isPoint)(e.pubkey)||33!==e.pubkey.length)throw TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw TypeError("Witness is invalid");if(!a.isCanonicalScriptSignature(e.witness[0]))throw TypeError("Witness has invalid signature");if(!(0,s.isPoint)(e.witness[1])||33!==e.witness[1].length)throw TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw TypeError("Pubkey mismatch");let b=n.hash160(e.witness[1]);if(d.length>0&&!d.equals(b))throw TypeError("Hash mismatch")}}return Object.assign(p,e)}t.p2wpkh=h},82401:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;let n=r(5525),o=r(74378),a=r(73357),s=r(41838),u=r(52691),l=r(27715),c=a.OPS,f=i.alloc(0);function h(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function p(e){return!!(i.isBuffer(e)&&65===e.length&&4===e[0]&&(0,s.isPoint)(e))}function d(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(32)),output:s.typeforce.maybe(s.typeforce.BufferN(34)),redeem:s.typeforce.maybe({input:s.typeforce.maybe(s.typeforce.Buffer),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),input:s.typeforce.maybe(s.typeforce.BufferN(0)),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);let r=u.value(()=>{let t=l.bech32.decode(e.address),r=t.words.shift(),n=l.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:i.from(n)}}),d=u.value(()=>a.decompile(e.redeem.input)),g=e.network;g||(g=e.redeem&&e.redeem.network||o.bitcoin);let b={network:g};if(u.prop(b,"address",()=>{if(!b.hash)return;let e=l.bech32.toWords(b.hash);return e.unshift(0),l.bech32.encode(g.bech32,e)}),u.prop(b,"hash",()=>e.output?e.output.slice(2):e.address?r().data:b.redeem&&b.redeem.output?n.sha256(b.redeem.output):void 0),u.prop(b,"output",()=>{if(b.hash)return a.compile([c.OP_0,b.hash])}),u.prop(b,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:f,witness:e.witness.slice(0,-1)}}),u.prop(b,"input",()=>{if(b.witness)return f}),u.prop(b,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){let t=a.toStack(d());return b.redeem=Object.assign({witness:t},e.redeem),b.redeem.input=f,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),u.prop(b,"name",()=>{let e=["p2wsh"];return void 0!==b.redeem&&void 0!==b.redeem.name&&e.push(b.redeem.name),e.join("-")}),t.validate){let y=i.from([]);if(e.address){if(r().prefix!==g.bech32)throw TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw TypeError("Invalid address version");if(32!==r().data.length)throw TypeError("Invalid address data");y=r().data}if(e.hash){if(y.length>0&&!y.equals(e.hash))throw TypeError("Hash mismatch");y=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==c.OP_0||32!==e.output[1])throw TypeError("Output is invalid");let m=e.output.slice(2);if(y.length>0&&!y.equals(m))throw TypeError("Hash mismatch");y=m}if(e.redeem){if(e.redeem.network&&e.redeem.network!==g)throw TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw TypeError("Ambiguous witness source");if(e.redeem.output){if(0===a.decompile(e.redeem.output).length)throw TypeError("Redeem.output is invalid");let v=n.sha256(e.redeem.output);if(y.length>0&&!y.equals(v))throw TypeError("Hash mismatch");y=v}if(e.redeem.input&&!a.isPushOnly(d()))throw TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!h(e.witness,e.redeem.witness))throw TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&d().some(p)||e.redeem.output&&(a.decompile(e.redeem.output)||[]).some(p))throw TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){let w=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(w))throw TypeError("Witness and redeem.output mismatch");if(e.witness.some(p)||(a.decompile(w)||[]).some(p))throw TypeError("Witness contains uncompressed pubkey")}}return Object.assign(b,e)}t.p2wsh=d},99930:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;let n=r(95011),o=r(3493),a=r(96403),s=r(95488),u=r(9357),l=r(5525),c=r(74378),f=r(84972),h=r(73357),p=r(82737),d={network:c.bitcoin,maximumFeeRate:5e3};class g{constructor(e={},t=new n.Psbt(new y)){this.data=t,this.opts=Object.assign({},d,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);let r=(e,t,r,i)=>Object.defineProperty(e,t,{enumerable:r,writable:i});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}static fromBase64(e,t={}){let r=i.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){let r=i.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){let r=n.Psbt.fromBuffer(e,b),i=new g(t,r);return M(i.__CACHE.__TX,i.__CACHE),i}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,u.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let t;try{t=(0,s.fromOutputScript)(e.script,this.opts.network)}catch(r){}return{script:(0,u.cloneBuffer)(e.script),value:e.value,address:t}})}combine(...e){return this.data.combine(...e.map(e=>e.data)),this}clone(){let e=g.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){x(e),this.opts.maximumFeeRate=e}setVersion(e){x(e),R(this.data.inputs,"setVersion");let t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){x(e),R(this.data.inputs,"setLocktime");let t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){x(t),R(this.data.inputs,"setInputSequence");let r=this.__CACHE;if(r.__TX.ins.length<=e)throw Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(e=>this.addInput(e)),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");R(this.data.inputs,"addInput"),e.witnessScript&&eh(e.witnessScript);let t=this.__CACHE;this.data.addInput(e);let r=t.__TX.ins[t.__TX.ins.length-1];j(t,r);let i=this.data.inputs.length-1,n=this.data.inputs[i];return n.nonWitnessUtxo&&ee(this.__CACHE,n,i),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(e=>this.addOutput(e)),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");R(this.data.inputs,"addOutput");let{address:t}=e;if("string"==typeof t){let{network:r}=this.opts,i=(0,s.toOutputScript)(t,r);e=Object.assign(e,{script:i})}let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(E))throw Error("Not finalized");let t=this.__CACHE;if(e||N(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;let r=t.__TX.clone();return et(this.data.inputs,r,t,!0),r}getFeeRate(){return H("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return H("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,a.checkForInput)(this.data.inputs,0),eg(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,t=z){let r=(0,a.checkForInput)(this.data.inputs,e),{script:i,isP2SH:n,isP2WSH:o,isSegwit:s}=X(e,r,this.__CACHE);if(!i)throw Error(`No script found for input #${e}`);B(r);let{finalScriptSig:u,finalScriptWitness:l}=t(e,r,i,s,n,o);if(u&&this.data.updateInput(e,{finalScriptSig:u}),l&&this.data.updateInput(e,{finalScriptWitness:l}),!u&&!l)throw Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}getInputType(e){let t=(0,a.checkForInput)(this.data.inputs,e),r=ei(e,t,this.__CACHE),i=ef(r,e,"input",t.redeemScript||ea(t.finalScriptSig),t.witnessScript||es(t.finalScriptWitness)),n="raw"===i.type?"":i.type+"-",o=ed(i.meaningfulScript);return n+o}inputHasPubkey(e,t){let r=(0,a.checkForInput)(this.data.inputs,e);return en(t,r,e,this.__CACHE)}inputHasHDKey(e,t){let r=(0,a.checkForInput)(this.data.inputs,e),i=A(t);return!!r.bip32Derivation&&r.bip32Derivation.some(i)}outputHasPubkey(e,t){let r=(0,a.checkForOutput)(this.data.outputs,e);return eo(t,r,e,this.__CACHE)}outputHasHDKey(e,t){let r=(0,a.checkForOutput)(this.data.outputs,e),i=A(t);return!!r.bip32Derivation&&r.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){(0,a.checkForInput)(this.data.inputs,0);let t=eg(this.data.inputs.length).map(t=>this.validateSignaturesOfInput(t,e));return t.reduce((e,t)=>!0===t&&e,!0)}validateSignaturesOfInput(e,t,r){let i,n,o;let a=this.data.inputs[e],s=(a||{}).partialSig;if(!a||!s||s.length<1)throw Error("No signatures to validate");if("function"!=typeof t)throw Error("Need validator function to validate signatures");let u=r?s.filter(e=>e.pubkey.equals(r)):s;if(u.length<1)throw Error("No signatures for this pubkey");let l=[];for(let c of u){let f=h.signature.decode(c.signature),{hash:p,script:d}=o!==f.hashType?q(e,Object.assign({},a,{sighashType:f.hashType}),this.__CACHE,!0):{hash:i,script:n};o=f.hashType,i=p,n=d,C(c.pubkey,d,"verify"),l.push(t(c.pubkey,p,f.signature))}return l.every(e=>!0===e)}signAllInputsHD(e,t=[p.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw Error("Need HDSigner to sign input");let r=[];for(let i of eg(this.data.inputs.length))try{this.signInputHD(i,e,t),r.push(!0)}catch(n){r.push(!1)}if(r.every(e=>!1===e))throw Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[p.Transaction.SIGHASH_ALL]){return new Promise((r,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(Error("Need HDSigner to sign input"));let n=[],o=[];for(let a of eg(this.data.inputs.length))o.push(this.signInputHDAsync(a,e,t).then(()=>{n.push(!0)},()=>{n.push(!1)}));return Promise.all(o).then(()=>{if(n.every(e=>!1===e))return i(Error("No inputs were signed"));r()})})}signInputHD(e,t,r=[p.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw Error("Need HDSigner to sign input");let i=Y(e,this.data.inputs,t);return i.forEach(t=>this.signInput(e,t,r)),this}signInputHDAsync(e,t,r=[p.Transaction.SIGHASH_ALL]){return new Promise((i,n)=>{if(!t||!t.publicKey||!t.fingerprint)return n(Error("Need HDSigner to sign input"));let o=Y(e,this.data.inputs,t),a=o.map(t=>this.signInputAsync(e,t,r));return Promise.all(a).then(()=>{i()}).catch(n)})}signAllInputs(e,t=[p.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw Error("Need Signer to sign input");let r=[];for(let i of eg(this.data.inputs.length))try{this.signInput(i,e,t),r.push(!0)}catch(n){r.push(!1)}if(r.every(e=>!1===e))throw Error("No inputs were signed");return this}signAllInputsAsync(e,t=[p.Transaction.SIGHASH_ALL]){return new Promise((r,i)=>{if(!e||!e.publicKey)return i(Error("Need Signer to sign input"));let n=[],o=[];for(let[a]of this.data.inputs.entries())o.push(this.signInputAsync(a,e,t).then(()=>{n.push(!0)},()=>{n.push(!1)}));return Promise.all(o).then(()=>{if(n.every(e=>!1===e))return i(Error("No inputs were signed"));r()})})}signInput(e,t,r=[p.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey)throw Error("Need Signer to sign input");let{hash:i,sighashType:n}=V(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:h.signature.encode(t.sign(i),n)}];return this.data.updateInput(e,{partialSig:o}),this}signInputAsync(e,t,r=[p.Transaction.SIGHASH_ALL]){return Promise.resolve().then(()=>{if(!t||!t.publicKey)throw Error("Need Signer to sign input");let{hash:i,sighashType:n}=V(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(i)).then(r=>{let i=[{pubkey:t.publicKey,signature:h.signature.encode(r,n)}];this.data.updateInput(e,{partialSig:i})})})}toBuffer(){return v(this.__CACHE),this.data.toBuffer()}toHex(){return v(this.__CACHE),this.data.toHex()}toBase64(){return v(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&eh(t.witnessScript),this.data.updateInput(e,t),t.nonWitnessUtxo&&ee(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){return this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=g;let b=e=>new y(e);class y{constructor(e=i.from([2,0,0,0,0,0,0,0,0,0])){this.tx=p.Transaction.fromBuffer(e),U(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!i.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw Error("Error adding input.");let t="string"==typeof e.hash?(0,u.reverseBuffer)(i.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!i.isBuffer(e.script)||"number"!=typeof e.value)throw Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function m(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return w(1,e.partialSig);case"multisig":let i=f.p2ms({output:t});return w(i.m,e.partialSig,i.pubkeys);default:return!1}}function v(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw Error("Not BIP174 compliant, can not export")}function w(e,t,r){let i;if(!t)return!1;if((i=r?r.map(e=>{let r=eu(e);return t.find(e=>e.pubkey.equals(r))}).filter(e=>!!e):t).length>e)throw Error("Too many signatures");return i.length===e}function E(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function _(e){return t=>{try{return e({output:t}),!0}catch(r){return!1}}}let S=_(f.p2ms),I=_(f.p2pk),P=_(f.p2pkh),k=_(f.p2wpkh),T=_(f.p2wsh),O=_(f.p2sh);function A(e){return t=>!!(t.masterFingerprint.equals(e.fingerprint)&&e.derivePath(t.path).publicKey.equals(t.pubkey))}function x(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw Error("Invalid 32 bit integer")}function N(e,t,r){let i=t.__FEE_RATE||e.getFeeRate(),n=t.__EXTRACTED_TX.virtualSize(),o=i*n;if(i>=r.maximumFeeRate)throw Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${i} satoshi per byte for a transaction with a VSize of ${n} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function R(e,t){e.forEach(e=>{let r=!1,i=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;i=G(e)}else i=e.partialSig;if(i.forEach(e=>{let{hashType:i}=h.signature.decode(e.signature),n=[],o=i&p.Transaction.SIGHASH_ANYONECANPAY;o&&n.push("addInput");let a=31&i;switch(a){case p.Transaction.SIGHASH_ALL:break;case p.Transaction.SIGHASH_SINGLE:case p.Transaction.SIGHASH_NONE:n.push("addOutput"),n.push("setInputSequence")}-1===n.indexOf(t)&&(r=!0)}),r)throw Error("Can not modify transaction, signatures exist.")})}function B(e){if(!e.sighashType||!e.partialSig)return;let{partialSig:t,sighashType:r}=e;t.forEach(e=>{let{hashType:t}=h.signature.decode(e.signature);if(r!==t)throw Error("Signature sighash does not match input sighash type")})}function C(e,t,r){if(!ep(e,t))throw Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function U(e){let t=e.ins.every(e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length);if(!t)throw Error("Format Error: Transaction ScriptSigs are not empty")}function M(e,t){e.ins.forEach(e=>{j(t,e)})}function j(e,t){let r=(0,u.reverseBuffer)(i.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function L(e,t){return(r,i,n,o)=>{let a=e({redeem:{output:n}}).output;if(!i.equals(a))throw Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}let K=L(f.p2sh,"Redeem script"),D=L(f.p2wsh,"Witness script");function H(e,t,r,i){let n;if(!r.every(E))throw Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&i.__FEE_RATE)return i.__FEE_RATE;if("__FEE"===e&&i.__FEE)return i.__FEE;let o=!0;return(i.__EXTRACTED_TX?(n=i.__EXTRACTED_TX,o=!1):n=i.__TX.clone(),et(r,n,i,o),"__FEE_RATE"===e)?i.__FEE_RATE:"__FEE"===e?i.__FEE:void 0}function z(e,t,r,i,n,o){let a=ed(r);if(!m(t,r,a))throw Error(`Can not finalize input #${e}`);return F(r,a,t.partialSig,i,n,o)}function F(e,t,r,i,n,o){let a,s;let u=W(e,t,r),l=o?f.p2wsh({redeem:u}):null,c=n?f.p2sh({redeem:l||u}):null;return i?(s=l?Q(l.witness):Q(u.witness),c&&(a=c.input)):a=c?c.input:u.input,{finalScriptSig:a,finalScriptWitness:s}}function V(e,t,r,i,n){let o=(0,a.checkForInput)(e,t),{hash:s,sighashType:u,script:l}=q(t,o,i,!1,n);return C(r,l,"sign"),{hash:s,sighashType:u}}function q(e,t,r,i,n){let o,a;let s=r.__TX,u=t.sighashType||p.Transaction.SIGHASH_ALL;if(n&&0>n.indexOf(u)){let l=J(u);throw Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${l}`)}if(t.nonWitnessUtxo){let c=er(r,t,e),h=s.ins[e].hash,d=c.getHash();if(!h.equals(d))throw Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);let g=s.ins[e].index;a=c.outs[g]}else if(t.witnessUtxo)a=t.witnessUtxo;else throw Error("Need a Utxo input item for signing");let{meaningfulScript:b,type:y}=ef(a.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(y)>=0)o=s.hashForWitnessV0(e,b,a.value,u);else if(k(b)){let m=f.p2pkh({hash:b.slice(2)}).output;o=s.hashForWitnessV0(e,m,a.value,u)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw Error(`Input #${e} has witnessUtxo but non-segwit script: ${b.toString("hex")}`);i||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),o=s.hashForSignature(e,b,u)}return{script:b,sighashType:u,hash:o}}function W(e,t,r){let i;switch(t){case"multisig":let n=Z(e,r);i=f.p2ms({output:e,signatures:n});break;case"pubkey":i=f.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":i=f.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":i=f.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return i}function G(e){let t=e.finalScriptSig&&h.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&h.decompile(e.finalScriptWitness)||[];return t.concat(r).filter(e=>i.isBuffer(e)&&h.isCanonicalScriptSignature(e)).map(e=>({signature:e}))}function X(e,t,r){let i=r.__TX,n={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(n.isP2SH=!!t.redeemScript,n.isP2WSH=!!t.witnessScript,t.witnessScript)n.script=t.witnessScript;else if(t.redeemScript)n.script=t.redeemScript;else if(t.nonWitnessUtxo){let o=er(r,t,e),a=i.ins[e].index;n.script=o.outs[a].script}else t.witnessUtxo&&(n.script=t.witnessUtxo.script);return(t.witnessScript||k(n.script))&&(n.isSegwit=!0),n}function Y(e,t,r){let i=(0,a.checkForInput)(t,e);if(!i.bip32Derivation||0===i.bip32Derivation.length)throw Error("Need bip32Derivation to sign with HD");let n=i.bip32Derivation.map(e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0).filter(e=>!!e);if(0===n.length)throw Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");let o=n.map(e=>{let t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw Error("pubkey did not match bip32Derivation");return t});return o}function Z(e,t){let r=f.p2ms({output:e});return r.pubkeys.map(e=>(t.filter(t=>t.pubkey.equals(e))[0]||{}).signature).filter(e=>!!e)}function $(e){let t=0;function r(r){return t+=r,e.slice(t-r,t)}function i(){let r=o.decode(e,t);return t+=o.decode.bytes,r}function n(){return r(i())}return function(){let e=i(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function J(e){let t=e&p.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"",r=31&e;switch(r){case p.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case p.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case p.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}function Q(e){var t;let r=i.allocUnsafe(0);function n(e){r=i.concat([r,i.from(e)])}function a(e){let t=r.length,n=o.encodingLength(e);r=i.concat([r,i.allocUnsafe(n)]),o.encode(e,r,t)}function s(e){a(e.length),n(e)}return a((t=e).length),t.forEach(s),r}function ee(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;let i=p.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=i;let n=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){let e=n.__NON_WITNESS_UTXO_BUF_CACHE[o],t=n.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{let r=t.toBuffer();return n.__NON_WITNESS_UTXO_BUF_CACHE[o]=r,r}},set(e){n.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function et(e,t,r,i){let n=0;e.forEach((e,o)=>{if(i&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),i&&e.finalScriptWitness&&(t.ins[o].witness=$(e.finalScriptWitness)),e.witnessUtxo)n+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){let a=er(r,e,o),s=t.ins[o].index,u=a.outs[s];n+=u.value}});let o=t.outs.reduce((e,t)=>e+t.value,0),a=n-o;if(a<0)throw Error("Outputs are spending more than Inputs");let s=t.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(a/s)}function er(e,t,r){let i=e.__NON_WITNESS_UTXO_TX_CACHE;return i[r]||ee(e,t,r),i[r]}function ei(e,t,r){if(void 0!==t.witnessUtxo)return t.witnessUtxo.script;if(void 0!==t.nonWitnessUtxo){let i=er(r,t,e);return i.outs[r.__TX.ins[e].index].script}throw Error("Can't find pubkey in input without Utxo data")}function en(e,t,r,i){let n=ei(r,t,i),{meaningfulScript:o}=ef(n,r,"input",t.redeemScript,t.witnessScript);return ep(e,o)}function eo(e,t,r,i){let n=i.__TX.outs[r].script,{meaningfulScript:o}=ef(n,r,"output",t.redeemScript,t.witnessScript);return ep(e,o)}function ea(e){if(!e)return;let t=h.decompile(e);if(!t)return;let r=t[t.length-1];if(!i.isBuffer(r)||el(r)||ec(r))return;let n=h.decompile(r);if(n)return r}function es(e){if(!e)return;let t=$(e),r=t[t.length-1];if(el(r))return;let i=h.decompile(r);if(i)return r}function eu(e){if(65===e.length){let t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}function el(e){return 33===e.length&&h.isCanonicalPubKey(e)}function ec(e){return h.isCanonicalScriptSignature(e)}function ef(e,t,r,i,n){let o;let a=O(e),s=a&&i&&T(i),u=T(e);if(a&&void 0===i)throw Error("scriptPubkey is P2SH but redeemScript missing");if((u||s)&&void 0===n)throw Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");return s?(o=n,K(t,e,i,r),D(t,i,n,r),eh(o)):u?(o=n,D(t,e,n,r),eh(o)):a?(o=i,K(t,e,i,r)):o=e,{meaningfulScript:o,type:s?"p2sh-p2wsh":a?"p2sh":u?"p2wsh":"raw"}}function eh(e){if(k(e)||O(e))throw Error("P2WPKH or P2SH can not be contained within P2WSH")}function ep(e,t){let r=(0,l.hash160)(e),i=h.decompile(t);if(null===i)throw Error("Unknown script error");return i.some(t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)))}function ed(e){return k(e)?"witnesspubkeyhash":P(e)?"pubkeyhash":S(e)?"multisig":I(e)?"pubkey":"nonstandard"}function eg(e){return[...Array(e).keys()]}},79937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;let i=r(47334);function n(e){return e<i.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function o(e,t,r){let o=n(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(i.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(i.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(i.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o}function a(e,t){let r,n;let o=e.readUInt8(t);if(o<i.OPS.OP_PUSHDATA1)r=o,n=1;else if(o===i.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(o===i.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(o!==i.OPS.OP_PUSHDATA4)throw Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:o,number:r,size:n}}t.encodingLength=n,t.encode=o,t.decode=a},73357:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.isPushOnly=t.OPS=void 0;let n=r(77617),o=r(47334);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}});let a=r(79937),s=r(45815),u=r(24362),l=r(41838),{typeforce:c}=l,f=o.OPS.OP_RESERVED;function h(e){return l.Number(e)&&(e===o.OPS.OP_0||e>=o.OPS.OP_1&&e<=o.OPS.OP_16||e===o.OPS.OP_1NEGATE)}function p(e){return l.Buffer(e)||h(e)}function d(e){return l.Array(e)&&e.every(p)}function g(e){if(0===e.length)return o.OPS.OP_0;if(1===e.length){if(e[0]>=1&&e[0]<=16)return f+e[0];if(129===e[0])return o.OPS.OP_1NEGATE}}function b(e){return i.isBuffer(e)}function y(e){return l.Array(e)}function m(e){return i.isBuffer(e)}function v(e){if(b(e))return e;c(l.Array,e);let t=e.reduce((e,t)=>m(t)?1===t.length&&void 0!==g(t)?e+1:e+a.encodingLength(t.length)+t.length:e+1,0),r=i.allocUnsafe(t),n=0;if(e.forEach(e=>{if(m(e)){let t=g(e);if(void 0!==t){r.writeUInt8(t,n),n+=1;return}n+=a.encode(r,e.length,n),e.copy(r,n),n+=e.length}else r.writeUInt8(e,n),n+=1}),n!==r.length)throw Error("Could not decode chunks");return r}function w(e){if(y(e))return e;c(l.Buffer,e);let t=[],r=0;for(;r<e.length;){let i=e[r];if(i>o.OPS.OP_0&&i<=o.OPS.OP_PUSHDATA4){let n=a.decode(e,r);if(null===n||(r+=n.size)+n.number>e.length)return null;let s=e.slice(r,r+n.number);r+=n.number;let u=g(s);void 0!==u?t.push(u):t.push(s)}else t.push(i),r+=1}return t}function E(e){return b(e)&&(e=w(e)),e.map(e=>{if(m(e)){let t=g(e);if(void 0===t)return e.toString("hex");e=t}return o.REVERSE_OPS[e]}).join(" ")}function _(e){return c(l.String,e),v(e.split(" ").map(e=>void 0!==o.OPS[e]?o.OPS[e]:(c(l.Hex,e),i.from(e,"hex"))))}function S(e){return c(d,e=w(e)),e.map(e=>m(e)?e:e===o.OPS.OP_0?i.allocUnsafe(0):s.encode(e-f))}function I(e){return l.isPoint(e)}function P(e){let t=-129&e;return t>0&&t<4}function k(e){return!!(i.isBuffer(e)&&P(e[e.length-1]))&&n.check(e.slice(0,-1))}t.isPushOnly=d,t.compile=v,t.decompile=w,t.toASM=E,t.fromASM=_,t.toStack=S,t.isCanonicalPubKey=I,t.isDefinedHashType=P,t.isCanonicalScriptSignature=k,t.number=s,t.signature=u},45815:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e,t,r){t=t||4,r=void 0===r||r;let i=e.length;if(0===i)return 0;if(i>t)throw TypeError("Script number overflow");if(r&&(127&e[i-1])==0&&(i<=1||(128&e[i-2])==0))throw Error("Non-minimally encoded script number");if(5===i){let n=e.readUInt32LE(0),o=e.readUInt8(4);return 128&o?-((-129&o)*4294967296+n):4294967296*o+n}let a=0;for(let s=0;s<i;++s)a|=e[s]<<8*s;return 128&e[i-1]?-(a&~(128<<8*(i-1))):a}function o(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function a(e){let t=Math.abs(e),r=o(t),n=i.allocUnsafe(r),a=e<0;for(let s=0;s<r;++s)n.writeUInt8(255&t,s),t>>=8;return 128&n[r-1]?n.writeUInt8(a?128:0,r-1):a&&(n[r-1]|=128),n}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=n,t.encode=a},24362:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;let n=r(77617),o=r(41838),{typeforce:a}=o,s=i.alloc(1,0);function u(e){let t=0;for(;0===e[t];)++t;return t===e.length?s:128&(e=e.slice(t))[0]?i.concat([s,e],1+e.length):e}function l(e){0===e[0]&&(e=e.slice(1));let t=i.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}function c(e){let t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw Error("Invalid hashType "+t);let o=n.decode(e.slice(0,-1)),a=l(o.r),s=l(o.s),u=i.concat([a,s],64);return{signature:u,hashType:t}}function f(e,t){a({signature:o.BufferN(64),hashType:o.UInt8},{signature:e,hashType:t});let r=-129&t;if(r<=0||r>=4)throw Error("Invalid hashType "+t);let s=i.allocUnsafe(1);s.writeUInt8(t,0);let l=u(e.slice(0,32)),c=u(e.slice(32,64));return i.concat([n.encode(l,c),s])}t.decode=c,t.encode=f},82737:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;let n=r(9357),o=r(5525),a=r(73357),s=r(73357),u=r(41838),{typeforce:l}=u;function c(e){let t=e.length;return n.varuint.encodingLength(t)+t}function f(e){let t=e.length;return n.varuint.encodingLength(t)+e.reduce((e,t)=>e+c(t),0)}let h=i.allocUnsafe(0),p=[],d=i.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),g=i.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),b=i.from("ffffffffffffffff","hex"),y={script:h,valueBuffer:b};function m(e){return void 0!==e.value}class v{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){let r=new n.BufferReader(e),i=new v;i.version=r.readInt32();let o=r.readUInt8(),a=r.readUInt8(),s=!1;o===v.ADVANCED_TRANSACTION_MARKER&&a===v.ADVANCED_TRANSACTION_FLAG?s=!0:r.offset-=2;let u=r.readVarInt();for(let l=0;l<u;++l)i.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:p});let c=r.readVarInt();for(let f=0;f<c;++f)i.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(s){for(let h=0;h<u;++h)i.ins[h].witness=r.readVector();if(!i.hasWitnesses())throw Error("Transaction has superfluous witness data")}if(i.locktime=r.readUInt32(),t)return i;if(r.offset!==e.length)throw Error("Transaction has unexpected data");return i}static fromHex(e){return v.fromBuffer(i.from(e,"hex"),!1)}static isCoinbaseHash(e){l(u.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&v.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,i){return l(u.tuple(u.Hash256bit,u.UInt32,u.maybe(u.UInt32),u.maybe(u.Buffer)),arguments),u.Null(r)&&(r=v.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:i||h,sequence:r,witness:p})-1}addOutput(e,t){return l(u.tuple(u.Buffer,u.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some(e=>0!==e.witness.length)}weight(){let e=this.byteLength(!1),t=this.byteLength(!0);return 3*e+t}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let t=e&&this.hasWitnesses();return(t?10:8)+n.varuint.encodingLength(this.ins.length)+n.varuint.encodingLength(this.outs.length)+this.ins.reduce((e,t)=>e+40+c(t.script),0)+this.outs.reduce((e,t)=>e+8+c(t.script),0)+(t?this.ins.reduce((e,t)=>e+f(t.witness),0):0)}clone(){let e=new v;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness})),e.outs=this.outs.map(e=>({script:e.script,value:e.value})),e}hashForSignature(e,t,r){if(l(u.tuple(u.UInt32,u.Buffer,u.Number),arguments),e>=this.ins.length)return g;let n=a.compile(a.decompile(t).filter(e=>e!==s.OPS.OP_CODESEPARATOR)),c=this.clone();if((31&r)===v.SIGHASH_NONE)c.outs=[],c.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)});else if((31&r)===v.SIGHASH_SINGLE){if(e>=this.outs.length)return g;c.outs.length=e+1;for(let f=0;f<e;f++)c.outs[f]=y;c.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)})}r&v.SIGHASH_ANYONECANPAY?(c.ins=[c.ins[e]],c.ins[0].script=n):(c.ins.forEach(e=>{e.script=h}),c.ins[e].script=n);let p=i.allocUnsafe(c.byteLength(!1)+4);return p.writeInt32LE(r,p.length-4),c.__toBuffer(p,0,!1),o.hash256(p)}hashForWitnessV1(e,t,r,a,s,f){if(l(u.tuple(u.UInt32,l.arrayOf(u.Buffer),l.arrayOf(u.Satoshi),u.UInt32),arguments),r.length!==this.ins.length||t.length!==this.ins.length)throw Error("Must supply prevout script and value for all inputs");let p=a===v.SIGHASH_DEFAULT?v.SIGHASH_ALL:a&v.SIGHASH_OUTPUT_MASK,d=a&v.SIGHASH_INPUT_MASK,g=d===v.SIGHASH_ANYONECANPAY,b=p===v.SIGHASH_NONE,y=p===v.SIGHASH_SINGLE,m=h,w=h,E=h,_=h,S=h;if(!g){let I=n.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(e=>{I.writeSlice(e.hash),I.writeUInt32(e.index)}),m=o.sha256(I.end()),I=n.BufferWriter.withCapacity(8*this.ins.length),r.forEach(e=>I.writeUInt64(e)),w=o.sha256(I.end()),I=n.BufferWriter.withCapacity(t.map(c).reduce((e,t)=>e+t)),t.forEach(e=>I.writeVarSlice(e)),E=o.sha256(I.end()),I=n.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(e=>I.writeUInt32(e.sequence)),_=o.sha256(I.end())}if(b||y){if(y&&e<this.outs.length){let P=this.outs[e],k=n.BufferWriter.withCapacity(8+c(P.script));k.writeUInt64(P.value),k.writeVarSlice(P.script),S=o.sha256(k.end())}}else{let T=this.outs.map(e=>8+c(e.script)).reduce((e,t)=>e+t),O=n.BufferWriter.withCapacity(T);this.outs.forEach(e=>{O.writeUInt64(e.value),O.writeVarSlice(e.script)}),S=o.sha256(O.end())}let A=(s?2:0)+(f?1:0),x=174-(g?49:0)-(b?32:0)+(f?32:0)+(s?37:0),N=n.BufferWriter.withCapacity(x);if(N.writeUInt8(a),N.writeInt32(this.version),N.writeUInt32(this.locktime),N.writeSlice(m),N.writeSlice(w),N.writeSlice(E),N.writeSlice(_),b||y||N.writeSlice(S),N.writeUInt8(A),g){let R=this.ins[e];N.writeSlice(R.hash),N.writeUInt32(R.index),N.writeUInt64(r[e]),N.writeVarSlice(t[e]),N.writeUInt32(R.sequence)}else N.writeUInt32(e);if(f){let B=n.BufferWriter.withCapacity(c(f));B.writeVarSlice(f),N.writeSlice(o.sha256(B.end()))}return y&&N.writeSlice(S),s&&(N.writeSlice(s),N.writeUInt8(0),N.writeUInt32(4294967295)),o.taggedHash("TapSighash",i.concat([i.of(0),N.end()]))}hashForWitnessV0(e,t,r,a){let s;l(u.tuple(u.UInt32,u.Buffer,u.Satoshi,u.UInt32),arguments);let f=i.from([]),h=d,p=d,g=d;if(a&v.SIGHASH_ANYONECANPAY||(f=i.allocUnsafe(36*this.ins.length),s=new n.BufferWriter(f,0),this.ins.forEach(e=>{s.writeSlice(e.hash),s.writeUInt32(e.index)}),p=o.hash256(f)),a&v.SIGHASH_ANYONECANPAY||(31&a)===v.SIGHASH_SINGLE||(31&a)===v.SIGHASH_NONE||(f=i.allocUnsafe(4*this.ins.length),s=new n.BufferWriter(f,0),this.ins.forEach(e=>{s.writeUInt32(e.sequence)}),g=o.hash256(f)),(31&a)!==v.SIGHASH_SINGLE&&(31&a)!==v.SIGHASH_NONE){let b=this.outs.reduce((e,t)=>e+8+c(t.script),0);f=i.allocUnsafe(b),s=new n.BufferWriter(f,0),this.outs.forEach(e=>{s.writeUInt64(e.value),s.writeVarSlice(e.script)}),h=o.hash256(f)}else if((31&a)===v.SIGHASH_SINGLE&&e<this.outs.length){let y=this.outs[e];f=i.allocUnsafe(8+c(y.script)),(s=new n.BufferWriter(f,0)).writeUInt64(y.value),s.writeVarSlice(y.script),h=o.hash256(f)}f=i.allocUnsafe(156+c(t)),s=new n.BufferWriter(f,0);let m=this.ins[e];return s.writeInt32(this.version),s.writeSlice(p),s.writeSlice(g),s.writeSlice(m.hash),s.writeUInt32(m.index),s.writeVarSlice(t),s.writeUInt64(r),s.writeUInt32(m.sequence),s.writeSlice(h),s.writeUInt32(this.locktime),s.writeUInt32(a),o.hash256(f)}getHash(e){return e&&this.isCoinbase()?i.alloc(32,0):o.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,n.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){l(u.tuple(u.Number,u.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){l(u.tuple(u.Number,[u.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=i.allocUnsafe(this.byteLength(r)));let o=new n.BufferWriter(e,t||0);o.writeInt32(this.version);let a=r&&this.hasWitnesses();return(a&&(o.writeUInt8(v.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(v.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach(e=>{o.writeSlice(e.hash),o.writeUInt32(e.index),o.writeVarSlice(e.script),o.writeUInt32(e.sequence)}),o.writeVarInt(this.outs.length),this.outs.forEach(e=>{m(e)?o.writeUInt64(e.value):o.writeSlice(e.valueBuffer),o.writeVarSlice(e.script)}),a&&this.ins.forEach(e=>{o.writeVector(e.witness)}),o.writeUInt32(this.locktime),void 0!==t)?e.slice(t,o.offset):e}}t.Transaction=v,v.DEFAULT_SEQUENCE=4294967295,v.SIGHASH_DEFAULT=0,v.SIGHASH_ALL=1,v.SIGHASH_NONE=2,v.SIGHASH_SINGLE=3,v.SIGHASH_ANYONECANPAY=128,v.SIGHASH_OUTPUT_MASK=3,v.SIGHASH_INPUT_MASK=128,v.ADVANCED_TRANSACTION_MARKER=0,v.ADVANCED_TRANSACTION_FLAG=1},41838:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;let i=r(21876);t.typeforce=r(2401);let n=i.Buffer.alloc(32,0),o=i.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function a(e){if(!i.Buffer.isBuffer(e)||e.length<33)return!1;let t=e[0],r=e.slice(1,33);if(0===r.compare(n)||r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;let a=e.slice(33);return!(0===a.compare(n)||a.compare(o)>=0)&&4===t&&65===e.length}t.isPoint=a;let s=2147483647;function u(e){return t.typeforce.UInt32(e)&&e<=s}function l(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function c(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign}t.UInt31=u,t.BIP32Path=l,l.toJSON=()=>"BIP32 derivation path",t.Signer=c;let f=21*1e14;function h(e){return t.typeforce.UInt53(e)&&e<=f}t.Satoshi=h,t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},53288:function(e,t){var r; /**
 * @license BitSet.js v5.1.1 2/1/2020
 * http://www.xarg.org/2014/03/javascript-bit-array/
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/ !function(i){"use strict";var n=32,o=5;function a(e){return e-=e>>>1&1431655765,((e=(858993459&e)+(e>>>2&858993459))+(e>>>4)&252645135)*16843009>>>24}function s(e,t){for(var r=0,i=0;i<e.length;i++){r*=2;var n=(e[i]+r)/t|0;r=(e[i]+r)%t,e[i]=n}return r}function u(e,t){if(null==t){e.data=[0,0,0,0,0,0,0,0,0,0],e._=0;return}if(t instanceof l){e.data=t.data,e._=t._;return}switch(typeof t){case"number":e.data=[0|t],e._=0;break;case"string":var r=2,i=n;0===t.indexOf("0b")?t=t.substr(2):0===t.indexOf("0x")&&(t=t.substr(2),r=16,i=8),e.data=[],e._=0;for(var a=t.length-i,s=t.length;;){var u=parseInt(t.slice(a>0?a:0,s),r);if(isNaN(u))throw SyntaxError("Invalid param");if(e.data.push(0|u),a<=0)break;a-=i,s-=i}break;default:e.data=[0];var f=e.data;if(t instanceof Array){for(var h=t.length-1;h>=0;h--){var p=t[h];p===1/0?e._=-1:(c(e,p),f[p>>>o]|=1<<p)}break}if(Uint8Array&&t instanceof Uint8Array){var d=8;c(e,t.length*d);for(var h=0;h<t.length;h++)for(var g=t[h],b=0;b<d;b++){var y=h*d+b;f[y>>>o]|=(g>>b&1)<<y}break}throw SyntaxError("Invalid param")}}function l(e){if(!(this instanceof l))return new l(e);u(this,e),this.data=this.data.slice()}function c(e,t){for(var r=t>>>o,i=e.data,n=e._,a=i.length;r>=a;r--)i.push(n)}var f={data:[],_:0};l.prototype={data:[],_:0,set:function(e,t){return c(this,e|=0),void 0===t||t?this.data[e>>>o]|=1<<e:this.data[e>>>o]&=~(1<<e),this},get:function(e){e|=0;var t=this.data,r=e>>>o;return r>=t.length?1&this._:t[r]>>>e&1},not:function(){for(var e=this.clone(),t=e.data,r=0;r<t.length;r++)t[r]=~t[r];return e._=~e._,e},and:function(e){u(f,e);var t=this.clone(),r=t.data,i=f.data,o=i.length,a=f._;0!==t._&&c(t,o*n-1);for(var s=r.length,l=Math.min(o,s),h=0;h<l;h++)r[h]&=i[h];for(;h<s;h++)r[h]&=a;return t._&=a,t},or:function(e){u(f,e);for(var t=this.clone(),r=t.data,i=f.data,n=i.length-1,o=Math.min(r.length-1,n),a=n;a>o;a--)r[a]=i[a];for(;a>=0;a--)r[a]|=i[a];return t._|=f._,t},xor:function(e){u(f,e);var t=this.clone(),r=t.data,i=f.data,n=t._,o=f._,a=0,s=r.length-1,l=i.length-1;for(a=s;a>l;a--)r[a]^=o;for(a=l;a>s;a--)r[a]=n^i[a];for(;a>=0;a--)r[a]^=i[a];return t._^=o,t},andNot:function(e){return this.and(new l(e).flip())},flip:function(e,t){if(void 0===e){for(var r=this.data,i=0;i<r.length;i++)r[i]=~r[i];this._=~this._}else if(void 0===t)c(this,e),this.data[e>>>o]^=1<<e;else if(0<=e&&e<=t){c(this,t);for(var i=e;i<=t;i++)this.data[i>>>o]^=1<<i}return this},clear:function(e,t){var r=this.data;if(void 0===e){for(var i=r.length-1;i>=0;i--)r[i]=0;this._=0}else if(void 0===t)c(this,e|=0),r[e>>>o]&=~(1<<e);else if(e<=t){c(this,t);for(var i=e;i<=t;i++)r[i>>>o]&=~(1<<i)}return this},slice:function(e,t){if(void 0===e)return this.clone();if(void 0===t){t=this.data.length*n;var r=Object.create(l.prototype);r._=this._,r.data=[0];for(var i=e;i<=t;i++)r.set(i-e,this.get(i));return r}if(e<=t&&0<=e){var r=Object.create(l.prototype);r.data=[0];for(var i=e;i<=t;i++)r.set(i-e,this.get(i));return r}return null},setRange:function(e,t,r){for(var i=e;i<=t;i++)this.set(i,r);return this},clone:function(){var e=Object.create(l.prototype);return e.data=this.data.slice(),e._=this._,e},toArray:Math.clz32?function(){for(var e=[],t=this.data,r=t.length-1;r>=0;r--)for(var i=t[r];0!==i;){var o=31-Math.clz32(i);i^=1<<o,e.unshift(r*n+o)}return 0!==this._&&e.push(1/0),e}:function(){for(var e=[],t=this.data,r=0;r<t.length;r++)for(var i=t[r];0!==i;){var o=i&-i;i^=o,e.push(r*n+a(o-1))}return 0!==this._&&e.push(1/0),e},toString:function(e){var t=this.data;if(e||(e=2),(e&e-1)==0&&e<36){for(var r="",i=2+Math.log(4294967295)/Math.log(e)|0,o=t.length-1;o>=0;o--){var a=t[o];a<0&&(a+=4294967296);var u=a.toString(e);""!==r&&(r+="0".repeat(i-u.length-1)),r+=u}return 0===this._?(""===(r=r.replace(/^0+/,""))&&(r="0"),r):(r="1111"+r).replace(/^1+/,"...1111")}if(2>e||e>36)throw SyntaxError("Invalid base");for(var r=[],l=[],o=t.length;o--;)for(var c=n;c--;)l.push(t[o]>>>c&1);do r.unshift(s(l,e).toString(e));while(!l.every(function(e){return 0===e}));return r.join("")},isEmpty:function(){if(0!==this._)return!1;for(var e=this.data,t=e.length-1;t>=0;t--)if(0!==e[t])return!1;return!0},cardinality:function(){if(0!==this._)return 1/0;for(var e=0,t=this.data,r=0;r<t.length;r++){var i=t[r];0!==i&&(e+=a(i))}return e},msb:Math.clz32?function(){if(0!==this._)return 1/0;for(var e=this.data,t=e.length;t-- >0;){var r=Math.clz32(e[t]);if(r!==n)return t*n+n-1-r}return 1/0}:function(){if(0!==this._)return 1/0;for(var e=this.data,t=e.length;t-- >0;){var r=e[t],i=0;if(r){for(;(r>>>=1)>0;i++);return t*n+i}}return 1/0},ntz:function(){for(var e=this.data,t=0;t<e.length;t++){var r=e[t];if(0!==r)return t*n+a(r=(r^r-1)>>>1)}return 1/0},lsb:function(){for(var e=this.data,t=0;t<e.length;t++){var r=e[t],i=0;if(r){for(var o=r&-r;o>>>=1;i++);return n*t+i}}return 1&this._},equals:function(e){u(f,e);var t=this.data,r=f.data,i=this._,n=f._,o=t.length-1,a=r.length-1;if(n!==i)return!1;for(var s=o<a?o:a,l=0;l<=s;l++)if(t[l]!==r[l])return!1;for(l=o;l>a;l--)if(t[l]!==n)return!1;for(l=a;l>o;l--)if(r[l]!==i)return!1;return!0},[Symbol.iterator]:function(){var e=this.data,t=0;if(0!==this._)return{next:function(){var r=t>>>o;return{done:!1,value:r<e.length?e[r]>>>t++&1:1}}};for(var r=0,i=e.length-1;i>=0;i--)if(0!==e[i]){r=i;break}return{next:function(){var i=t>>>o;return{done:i>r||i===r&&e[i]>>>t==0,value:i>r?0:e[i]>>>t++&1}}}}},l.fromBinaryString=function(e){return new l("0b"+e)},l.fromHexString=function(e){return new l("0x"+e)},l.Random=function(e){(void 0===e||e<0)&&(e=n);for(var t=e%n,r=[],i=Math.ceil(e/n),o=Object.create(l.prototype),a=0;a<i;a++)r.push(4294967296*Math.random()|0);return t>0&&(r[i-1]&=(1<<t)-1),o.data=r,o._=0,o},void 0!==(r=(function(){return l}).apply(t,[]))&&(e.exports=r)}(0)},45982:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(43720))&&"object"==typeof n&&"default"in n?n.default:n;function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function s(e,t,r,i){if(t<1||t>8||r<1||t>8)throw Error("only bits groups between 1 and 8 are allowed");for(var n,o=[],s=0,u=0,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,void 0):void 0}}(e))){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(n=l()).done;)for(var c=n.value<<8-t,f=t;f>0;){var h=r-u,p=f;h<p&&(p=h),s=s<<p|c>>8-p,c=(c<<p)%256,f-=p,(u+=p)===r&&(o.push(s),u=0,s=0)}if(i&&u>0&&(o.push(s<<=r-u),u=0,s=0),u>0&&(u>4||0!==s))throw Error("invalid incomplete group of bits");return o}function u(e){if(e<0||e>16)throw Error("invalid witness version")}var l="qpzry9x8gf2tvdw0s3jn54khce6mua7l";function c(e){return o.fromString(e,!0,16)}var f=["7d52fba40bd886","5e8dbf1a03950c","1c3a3c74072a18","385d72fa0e5139","7093e5a608865b"].map(c);function h(e){if(u(e),0===e)return"blech32";if(1===e)return"blech32m";throw Error("Unsuported witness version ("+e+"), only 0 (blech32) or 1 (blech32m) are supported")}function p(e){if("blech32"===e)return o.fromNumber(1);if("blech32m"===e)return c("455972a3350f7a1");throw Error("Invalid encoding type")}function d(e){for(var t=o.fromNumber(1),r=0;r<e.length;++r){var i=t.shiftRight(55);t=t.and(c("7fffffffffffff")).shiftLeft(5).xor(e[r]);for(var n=0;n<5;n++)i.shiftRight(o.fromNumber(n)).and(1).equals(1)&&(t=t.xor(f[n]))}return t}function g(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)>>5);t.push(0);for(var i=0;i<e.length;++i)t.push(31&e.charCodeAt(i));return Uint8Array.from(t)}var b=[0,0,0,0,0,0,0,0,0,0,0,0];function y(e,t,r){for(var i=function(e,t,r){for(var i=d(Array.from(g(e)).concat(Array.from(t)).concat(b)).xor(p(r)),n=[],o=0;o<12;++o)n.push(i.shiftRight(5*(11-o)).and(31));return n.map(function(e){return e.toInt()})}(e,t,r),n=Array.from(t).concat(i),o=e+"1",a=0;a<n.length;++a)o+=l.charAt(n[a]);return o}function m(e,t){for(var r,i,n,o=!1,a=!1,s=0;s<e.length;++s){if(33>e.charCodeAt(s)||e.charCodeAt(s)>126)throw Error("Invalid charcode in blech32 string");e.charCodeAt(s)>=97&&122>=e.charCodeAt(s)&&(o=!0),e.charCodeAt(s)>=65&&90>=e.charCodeAt(s)&&(a=!0)}if(o&&a)throw Error("blech32 has lowercases AND uppercases");var u=(e=e.toLowerCase()).lastIndexOf("1");if(u<1||u+13>e.length)throw Error('Invalid index of "1"');for(var c=e.substring(0,u),f=[],h=u+1;h<e.length;++h){var b=l.indexOf(e.charAt(h));if(-1===b)throw Error('"'+e.charAt(h)+'" is not allowed in blech32 strings');f.push(b)}if(r=c,i=f,n=t,!d(Array.from(g(r)).concat(i)).equals(p(n)))throw Error("invalid "+t+' checksum "'+e+'"');return{hrp:c,data:Uint8Array.from(f.slice(0,f.length-12))}}var v=function(){function e(e){this.witness=e.witness,this.blindingPublicKey=e.blindingPublicKey,this.witnessVersion=e.witnessVersion,this.address=function(e){var t=e.witness,r=e.witnessVersion,n=e.blindingPublicKey,o=e.hrp;u(r);var a=i.concat([i.from(n,"hex"),i.from(t,"hex")]),l=a.length;if(0===r&&53!==l&&65!==l)throw Error("witness version 0 needs witness program length = 53 OR = 65");if(l<2||l>65)throw Error("witness program length should be >= 2 and <= 65");var c=[r].concat(s(Array.from(a),8,5,!0));return y(o,Uint8Array.from(c),h(c[0]))}(e)}return e.from=function(t,r,i,n){return new e({witness:t,witnessVersion:n,blindingPublicKey:r,hrp:i})},e.fromString=function(t,r){return new e(function(e,t){var r=m(e,t),n=r.hrp,o=r.data,a=o[0];if(u(a),0===o.length||o.length>1e3)throw Error("Invalid data length");var l=s(Array.from(o.slice(1)),5,8,!1);if(l.length<2||l.length>65)throw Error("Invalid witness data length");if(0===o[0]&&53!==l.length&&65!==l.length)throw Error("Invalid witness data length for witness version 0");var c=i.from(l.slice(0,33)).toString("hex");return{witness:i.from(l.slice(33)).toString("hex"),blindingPublicKey:c,witnessVersion:a,hrp:n}}(t,r))},e}();t.BLECH32="blech32",t.BLECH32M="blech32m",t.Blech32Address=v,t.MAX_LEN=1e3,t.decode=m,t.encode=y,t.getEncodingType=h},93726:function(e,t,r){"use strict";e.exports=r(45982)},13550:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{c="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(46601).Buffer}catch(a){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var i=s(e,r);return r-1>=t&&(i|=s(e,r-1)<<4),i}function l(e,t,r,i){for(var n=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;n*=i,s>=49?n+=s-49+10:s>=17?n+=s-17+10:n+=s}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return 0>e.cmp(t)?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var n,o,a=0;a<this.length;a++)this.words[a]=0;var s=0;if("be"===r)for(a=e.length-1,n=0;a>=0;a-=3)o=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[n]|=o<<s&67108863,this.words[n+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);else if("le"===r)for(a=0,n=0;a<e.length;a+=3)o=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[n]|=o<<s&67108863,this.words[n+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,n++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var i,n=0;n<this.length;n++)this.words[n]=0;var o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else{var s=e.length-t;for(n=s%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8}this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,a=o%i,s=Math.min(o,o-a)+r,u=0,c=r;c<s;c+=i)u=l(e,c,c+i,t),this.imuln(n),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c,f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}function g(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<i;l++){for(var c=u>>>26,f=67108863&u,h=Math.min(l,t.length-1),p=Math.max(0,l-e.length+1);p<=h;p++){var d=l-p|0;c+=(a=(n=0|e.words[d])*(o=0|t.words[p])+f)/67108864|0,f=67108863&a}r.words[l]=0|f,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=((s<<n|o)&16777215).toString(16);r=0!=(o=s>>>24-n&16777215)||a!==this.length-1?f[6-u.length]+u+r:u+r,(n+=2)>=26&&(n-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],c=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var g=d.modn(c).toString(e);r=(d=d.idivn(c)).isZero()?g+r:f[l-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==c),this.toArrayLike(c,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var n,o,a=this.byteLength(),s=r||Math.max(1,a);i(a<=s,"byte array longer than desired length"),i(s>0,"Requested array length <= 0"),this.strip();var u="le"===t,l=new e(s),c=this.clone();if(u){for(o=0;!c.isZero();o++)n=c.andln(255),c.iushrn(8),l[o]=n;for(;o<s;o++)l[o]=0}else{for(o=0;o<s-a;o++)l[o]=0;for(o=0;!c.isZero();o++)n=c.andln(255),c.iushrn(8),l[s-o-1]=n}return l},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i((this.negative|e.negative)==0),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i((this.negative|e.negative)==0),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i((this.negative|e.negative)==0),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<n:this.words[r]=this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var t,r,i,n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,i=this.iadd(e);return e.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(t=this,r=e):(t=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(i=(0|t.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&i;for(;0!==o&&a<t.length;a++)o=(i=(0|t.words[a])+o)>>26,this.words[a]=67108863&i;if(0===o&&a<t.length&&t!==this)for(;a<t.length;a++)this.words[a]=t.words[a];return this.length=Math.max(this.length,a),t!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var b=function(e,t,r){var i,n,o,a=e.words,s=t.words,u=r.words,l=0,c=0|a[0],f=8191&c,h=c>>>13,p=0|a[1],d=8191&p,g=p>>>13,b=0|a[2],y=8191&b,m=b>>>13,v=0|a[3],w=8191&v,E=v>>>13,_=0|a[4],S=8191&_,I=_>>>13,P=0|a[5],k=8191&P,T=P>>>13,O=0|a[6],A=8191&O,x=O>>>13,N=0|a[7],R=8191&N,B=N>>>13,C=0|a[8],U=8191&C,M=C>>>13,j=0|a[9],L=8191&j,K=j>>>13,D=0|s[0],H=8191&D,z=D>>>13,F=0|s[1],V=8191&F,q=F>>>13,W=0|s[2],G=8191&W,X=W>>>13,Y=0|s[3],Z=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,et=0|s[5],er=8191&et,ei=et>>>13,en=0|s[6],eo=8191&en,ea=en>>>13,es=0|s[7],eu=8191&es,el=es>>>13,ec=0|s[8],ef=8191&ec,eh=ec>>>13,ep=0|s[9],ed=8191&ep,eg=ep>>>13;r.negative=e.negative^t.negative,r.length=19;var eb=(l+(i=Math.imul(f,H))|0)+((8191&(n=(n=Math.imul(f,z))+Math.imul(h,H)|0))<<13)|0;l=((o=Math.imul(h,z))+(n>>>13)|0)+(eb>>>26)|0,eb&=67108863,i=Math.imul(d,H),n=(n=Math.imul(d,z))+Math.imul(g,H)|0,o=Math.imul(g,z);var ey=(l+(i=i+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,q)|0)+Math.imul(h,V)|0))<<13)|0;l=((o=o+Math.imul(h,q)|0)+(n>>>13)|0)+(ey>>>26)|0,ey&=67108863,i=Math.imul(y,H),n=(n=Math.imul(y,z))+Math.imul(m,H)|0,o=Math.imul(m,z),i=i+Math.imul(d,V)|0,n=(n=n+Math.imul(d,q)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,q)|0;var em=(l+(i=i+Math.imul(f,G)|0)|0)+((8191&(n=(n=n+Math.imul(f,X)|0)+Math.imul(h,G)|0))<<13)|0;l=((o=o+Math.imul(h,X)|0)+(n>>>13)|0)+(em>>>26)|0,em&=67108863,i=Math.imul(w,H),n=(n=Math.imul(w,z))+Math.imul(E,H)|0,o=Math.imul(E,z),i=i+Math.imul(y,V)|0,n=(n=n+Math.imul(y,q)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,q)|0,i=i+Math.imul(d,G)|0,n=(n=n+Math.imul(d,X)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,X)|0;var ev=(l+(i=i+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(h,Z)|0))<<13)|0;l=((o=o+Math.imul(h,$)|0)+(n>>>13)|0)+(ev>>>26)|0,ev&=67108863,i=Math.imul(S,H),n=(n=Math.imul(S,z))+Math.imul(I,H)|0,o=Math.imul(I,z),i=i+Math.imul(w,V)|0,n=(n=n+Math.imul(w,q)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,q)|0,i=i+Math.imul(y,G)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,X)|0,i=i+Math.imul(d,Z)|0,n=(n=n+Math.imul(d,$)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,$)|0;var ew=(l+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;l=((o=o+Math.imul(h,ee)|0)+(n>>>13)|0)+(ew>>>26)|0,ew&=67108863,i=Math.imul(k,H),n=(n=Math.imul(k,z))+Math.imul(T,H)|0,o=Math.imul(T,z),i=i+Math.imul(S,V)|0,n=(n=n+Math.imul(S,q)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,q)|0,i=i+Math.imul(w,G)|0,n=(n=n+Math.imul(w,X)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,$)|0,i=i+Math.imul(d,Q)|0,n=(n=n+Math.imul(d,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var eE=(l+(i=i+Math.imul(f,er)|0)|0)+((8191&(n=(n=n+Math.imul(f,ei)|0)+Math.imul(h,er)|0))<<13)|0;l=((o=o+Math.imul(h,ei)|0)+(n>>>13)|0)+(eE>>>26)|0,eE&=67108863,i=Math.imul(A,H),n=(n=Math.imul(A,z))+Math.imul(x,H)|0,o=Math.imul(x,z),i=i+Math.imul(k,V)|0,n=(n=n+Math.imul(k,q)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,q)|0,i=i+Math.imul(S,G)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,X)|0,i=i+Math.imul(w,Z)|0,n=(n=n+Math.imul(w,$)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,$)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0,i=i+Math.imul(d,er)|0,n=(n=n+Math.imul(d,ei)|0)+Math.imul(g,er)|0,o=o+Math.imul(g,ei)|0;var e_=(l+(i=i+Math.imul(f,eo)|0)|0)+((8191&(n=(n=n+Math.imul(f,ea)|0)+Math.imul(h,eo)|0))<<13)|0;l=((o=o+Math.imul(h,ea)|0)+(n>>>13)|0)+(e_>>>26)|0,e_&=67108863,i=Math.imul(R,H),n=(n=Math.imul(R,z))+Math.imul(B,H)|0,o=Math.imul(B,z),i=i+Math.imul(A,V)|0,n=(n=n+Math.imul(A,q)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,q)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,$)|0,i=i+Math.imul(w,Q)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(y,er)|0,n=(n=n+Math.imul(y,ei)|0)+Math.imul(m,er)|0,o=o+Math.imul(m,ei)|0,i=i+Math.imul(d,eo)|0,n=(n=n+Math.imul(d,ea)|0)+Math.imul(g,eo)|0,o=o+Math.imul(g,ea)|0;var eS=(l+(i=i+Math.imul(f,eu)|0)|0)+((8191&(n=(n=n+Math.imul(f,el)|0)+Math.imul(h,eu)|0))<<13)|0;l=((o=o+Math.imul(h,el)|0)+(n>>>13)|0)+(eS>>>26)|0,eS&=67108863,i=Math.imul(U,H),n=(n=Math.imul(U,z))+Math.imul(M,H)|0,o=Math.imul(M,z),i=i+Math.imul(R,V)|0,n=(n=n+Math.imul(R,q)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,q)|0,i=i+Math.imul(A,G)|0,n=(n=n+Math.imul(A,X)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,X)|0,i=i+Math.imul(k,Z)|0,n=(n=n+Math.imul(k,$)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,$)|0,i=i+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,i=i+Math.imul(w,er)|0,n=(n=n+Math.imul(w,ei)|0)+Math.imul(E,er)|0,o=o+Math.imul(E,ei)|0,i=i+Math.imul(y,eo)|0,n=(n=n+Math.imul(y,ea)|0)+Math.imul(m,eo)|0,o=o+Math.imul(m,ea)|0,i=i+Math.imul(d,eu)|0,n=(n=n+Math.imul(d,el)|0)+Math.imul(g,eu)|0,o=o+Math.imul(g,el)|0;var eI=(l+(i=i+Math.imul(f,ef)|0)|0)+((8191&(n=(n=n+Math.imul(f,eh)|0)+Math.imul(h,ef)|0))<<13)|0;l=((o=o+Math.imul(h,eh)|0)+(n>>>13)|0)+(eI>>>26)|0,eI&=67108863,i=Math.imul(L,H),n=(n=Math.imul(L,z))+Math.imul(K,H)|0,o=Math.imul(K,z),i=i+Math.imul(U,V)|0,n=(n=n+Math.imul(U,q)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,q)|0,i=i+Math.imul(R,G)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(A,Z)|0,n=(n=n+Math.imul(A,$)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,$)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(S,er)|0,n=(n=n+Math.imul(S,ei)|0)+Math.imul(I,er)|0,o=o+Math.imul(I,ei)|0,i=i+Math.imul(w,eo)|0,n=(n=n+Math.imul(w,ea)|0)+Math.imul(E,eo)|0,o=o+Math.imul(E,ea)|0,i=i+Math.imul(y,eu)|0,n=(n=n+Math.imul(y,el)|0)+Math.imul(m,eu)|0,o=o+Math.imul(m,el)|0,i=i+Math.imul(d,ef)|0,n=(n=n+Math.imul(d,eh)|0)+Math.imul(g,ef)|0,o=o+Math.imul(g,eh)|0;var eP=(l+(i=i+Math.imul(f,ed)|0)|0)+((8191&(n=(n=n+Math.imul(f,eg)|0)+Math.imul(h,ed)|0))<<13)|0;l=((o=o+Math.imul(h,eg)|0)+(n>>>13)|0)+(eP>>>26)|0,eP&=67108863,i=Math.imul(L,V),n=(n=Math.imul(L,q))+Math.imul(K,V)|0,o=Math.imul(K,q),i=i+Math.imul(U,G)|0,n=(n=n+Math.imul(U,X)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(R,Z)|0,n=(n=n+Math.imul(R,$)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,$)|0,i=i+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(k,er)|0,n=(n=n+Math.imul(k,ei)|0)+Math.imul(T,er)|0,o=o+Math.imul(T,ei)|0,i=i+Math.imul(S,eo)|0,n=(n=n+Math.imul(S,ea)|0)+Math.imul(I,eo)|0,o=o+Math.imul(I,ea)|0,i=i+Math.imul(w,eu)|0,n=(n=n+Math.imul(w,el)|0)+Math.imul(E,eu)|0,o=o+Math.imul(E,el)|0,i=i+Math.imul(y,ef)|0,n=(n=n+Math.imul(y,eh)|0)+Math.imul(m,ef)|0,o=o+Math.imul(m,eh)|0;var ek=(l+(i=i+Math.imul(d,ed)|0)|0)+((8191&(n=(n=n+Math.imul(d,eg)|0)+Math.imul(g,ed)|0))<<13)|0;l=((o=o+Math.imul(g,eg)|0)+(n>>>13)|0)+(ek>>>26)|0,ek&=67108863,i=Math.imul(L,G),n=(n=Math.imul(L,X))+Math.imul(K,G)|0,o=Math.imul(K,X),i=i+Math.imul(U,Z)|0,n=(n=n+Math.imul(U,$)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,$)|0,i=i+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(A,er)|0,n=(n=n+Math.imul(A,ei)|0)+Math.imul(x,er)|0,o=o+Math.imul(x,ei)|0,i=i+Math.imul(k,eo)|0,n=(n=n+Math.imul(k,ea)|0)+Math.imul(T,eo)|0,o=o+Math.imul(T,ea)|0,i=i+Math.imul(S,eu)|0,n=(n=n+Math.imul(S,el)|0)+Math.imul(I,eu)|0,o=o+Math.imul(I,el)|0,i=i+Math.imul(w,ef)|0,n=(n=n+Math.imul(w,eh)|0)+Math.imul(E,ef)|0,o=o+Math.imul(E,eh)|0;var eT=(l+(i=i+Math.imul(y,ed)|0)|0)+((8191&(n=(n=n+Math.imul(y,eg)|0)+Math.imul(m,ed)|0))<<13)|0;l=((o=o+Math.imul(m,eg)|0)+(n>>>13)|0)+(eT>>>26)|0,eT&=67108863,i=Math.imul(L,Z),n=(n=Math.imul(L,$))+Math.imul(K,Z)|0,o=Math.imul(K,$),i=i+Math.imul(U,Q)|0,n=(n=n+Math.imul(U,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(R,er)|0,n=(n=n+Math.imul(R,ei)|0)+Math.imul(B,er)|0,o=o+Math.imul(B,ei)|0,i=i+Math.imul(A,eo)|0,n=(n=n+Math.imul(A,ea)|0)+Math.imul(x,eo)|0,o=o+Math.imul(x,ea)|0,i=i+Math.imul(k,eu)|0,n=(n=n+Math.imul(k,el)|0)+Math.imul(T,eu)|0,o=o+Math.imul(T,el)|0,i=i+Math.imul(S,ef)|0,n=(n=n+Math.imul(S,eh)|0)+Math.imul(I,ef)|0,o=o+Math.imul(I,eh)|0;var eO=(l+(i=i+Math.imul(w,ed)|0)|0)+((8191&(n=(n=n+Math.imul(w,eg)|0)+Math.imul(E,ed)|0))<<13)|0;l=((o=o+Math.imul(E,eg)|0)+(n>>>13)|0)+(eO>>>26)|0,eO&=67108863,i=Math.imul(L,Q),n=(n=Math.imul(L,ee))+Math.imul(K,Q)|0,o=Math.imul(K,ee),i=i+Math.imul(U,er)|0,n=(n=n+Math.imul(U,ei)|0)+Math.imul(M,er)|0,o=o+Math.imul(M,ei)|0,i=i+Math.imul(R,eo)|0,n=(n=n+Math.imul(R,ea)|0)+Math.imul(B,eo)|0,o=o+Math.imul(B,ea)|0,i=i+Math.imul(A,eu)|0,n=(n=n+Math.imul(A,el)|0)+Math.imul(x,eu)|0,o=o+Math.imul(x,el)|0,i=i+Math.imul(k,ef)|0,n=(n=n+Math.imul(k,eh)|0)+Math.imul(T,ef)|0,o=o+Math.imul(T,eh)|0;var eA=(l+(i=i+Math.imul(S,ed)|0)|0)+((8191&(n=(n=n+Math.imul(S,eg)|0)+Math.imul(I,ed)|0))<<13)|0;l=((o=o+Math.imul(I,eg)|0)+(n>>>13)|0)+(eA>>>26)|0,eA&=67108863,i=Math.imul(L,er),n=(n=Math.imul(L,ei))+Math.imul(K,er)|0,o=Math.imul(K,ei),i=i+Math.imul(U,eo)|0,n=(n=n+Math.imul(U,ea)|0)+Math.imul(M,eo)|0,o=o+Math.imul(M,ea)|0,i=i+Math.imul(R,eu)|0,n=(n=n+Math.imul(R,el)|0)+Math.imul(B,eu)|0,o=o+Math.imul(B,el)|0,i=i+Math.imul(A,ef)|0,n=(n=n+Math.imul(A,eh)|0)+Math.imul(x,ef)|0,o=o+Math.imul(x,eh)|0;var ex=(l+(i=i+Math.imul(k,ed)|0)|0)+((8191&(n=(n=n+Math.imul(k,eg)|0)+Math.imul(T,ed)|0))<<13)|0;l=((o=o+Math.imul(T,eg)|0)+(n>>>13)|0)+(ex>>>26)|0,ex&=67108863,i=Math.imul(L,eo),n=(n=Math.imul(L,ea))+Math.imul(K,eo)|0,o=Math.imul(K,ea),i=i+Math.imul(U,eu)|0,n=(n=n+Math.imul(U,el)|0)+Math.imul(M,eu)|0,o=o+Math.imul(M,el)|0,i=i+Math.imul(R,ef)|0,n=(n=n+Math.imul(R,eh)|0)+Math.imul(B,ef)|0,o=o+Math.imul(B,eh)|0;var eN=(l+(i=i+Math.imul(A,ed)|0)|0)+((8191&(n=(n=n+Math.imul(A,eg)|0)+Math.imul(x,ed)|0))<<13)|0;l=((o=o+Math.imul(x,eg)|0)+(n>>>13)|0)+(eN>>>26)|0,eN&=67108863,i=Math.imul(L,eu),n=(n=Math.imul(L,el))+Math.imul(K,eu)|0,o=Math.imul(K,el),i=i+Math.imul(U,ef)|0,n=(n=n+Math.imul(U,eh)|0)+Math.imul(M,ef)|0,o=o+Math.imul(M,eh)|0;var eR=(l+(i=i+Math.imul(R,ed)|0)|0)+((8191&(n=(n=n+Math.imul(R,eg)|0)+Math.imul(B,ed)|0))<<13)|0;l=((o=o+Math.imul(B,eg)|0)+(n>>>13)|0)+(eR>>>26)|0,eR&=67108863,i=Math.imul(L,ef),n=(n=Math.imul(L,eh))+Math.imul(K,ef)|0,o=Math.imul(K,eh);var eB=(l+(i=i+Math.imul(U,ed)|0)|0)+((8191&(n=(n=n+Math.imul(U,eg)|0)+Math.imul(M,ed)|0))<<13)|0;l=((o=o+Math.imul(M,eg)|0)+(n>>>13)|0)+(eB>>>26)|0,eB&=67108863;var eC=(l+(i=Math.imul(L,ed))|0)+((8191&(n=(n=Math.imul(L,eg))+Math.imul(K,ed)|0))<<13)|0;return l=((o=Math.imul(K,eg))+(n>>>13)|0)+(eC>>>26)|0,eC&=67108863,u[0]=eb,u[1]=ey,u[2]=em,u[3]=ev,u[4]=ew,u[5]=eE,u[6]=e_,u[7]=eS,u[8]=eI,u[9]=eP,u[10]=ek,u[11]=eT,u[12]=eO,u[13]=eA,u[14]=ex,u[15]=eN,u[16]=eR,u[17]=eB,u[18]=eC,0!==l&&(u[19]=l,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var a=n;n=0;for(var s=67108863&i,u=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=u;l++){var c=o-l,f=(0|e.words[c])*(0|t.words[l]),h=67108863&f;a=a+(f/67108864|0)|0,s=67108863&(h=h+s|0),n+=(a=a+(h>>>26)|0)>>>26,a&=67108863}r.words[o]=s,i=a,a=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}function m(e,t,r){return new v().mulp(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(b=g),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?b(this,e,t):r<63?g(this,e,t):r<1024?y(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},v.prototype.permute=function(e,t,r,i,n,o){for(var a=0;a<o;a++)i[a]=t[e[a]],n[a]=r[e[a]]},v.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<n;c+=s)for(var f=u,h=l,p=0;p<a;p++){var d=r[c+p],g=i[c+p],b=r[c+p+a],y=i[c+p+a],m=f*b-h*y;y=f*y+h*b,b=m,r[c+p]=d+b,i[c+p]=g+y,r[c+p+a]=d-b,i[c+p+a]=g-y,p!==s&&(m=u*f-l*h,h=u*h+l*f,f=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},v.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},v.prototype.convert13b=function(e,t,r,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)r[a]=0;i(0===o),i((-8192&o)==0)},v.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),a=Array(i),s=Array(i),u=Array(i),l=Array(i),c=Array(i),f=Array(i),h=r.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,l,i),this.transform(a,o,s,u,i,n),this.transform(l,o,c,f,i,n);for(var p=0;p<i;p++){var d=s[p]*c[p]-u[p]*f[p];u[p]=s[p]*f[p]+u[p]*c[p],s[p]=d}return this.conjugate(s,u,i),this.transform(s,u,h,o,i,n),this.conjugate(h,o,i),this.normalize13b(h,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=d(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<r;this.words[t]=u|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var n,o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(n-=a,n=Math.max(0,n),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=n);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r)&&!!(this.words[r]&n)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return(i("number"==typeof e),i(e<67108864),e<0)?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,a=e.length+r;this._expand(a);var s=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+s;var u=(0|e.words[n])*t;o-=67108863&u,s=(o>>26)-(u/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)s=(o=(0|this.words[n+r])+s)>>26,this.words[n+r]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,n=0;n<this.length;n++)s=(o=-(0|this.words[n])+s)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r,i=this.length-e.length,n=this.clone(),a=e,s=0|a.words[a.length-1];0!=(i=26-this._countBits(s))&&(a=a.ushln(i),n.iushln(i),s=0|a.words[a.length-1]);var u=n.length-a.length;if("mod"!==t){(r=new o(null)).length=u+1,r.words=Array(r.length);for(var l=0;l<r.length;l++)r.words[l]=0}var c=n.clone()._ishlnsubmul(a,1,u);0===c.negative&&(n=c,r&&(r.words[u]=1));for(var f=u-1;f>=0;f--){var h=(0|n.words[a.length+f])*67108864+(0|n.words[a.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(a,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);r&&(r.words[f]=h)}return r&&r.strip(),n.strip(),"div"!==t&&0!==i&&n.iushrn(i),{div:r||null,mod:n}},o.prototype.divmod=function(e,t,r){var n,a,s;return(i(!e.isZero()),this.isZero())?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):(this.negative&e.negative)!=0?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||0>this.cmp(e)?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=67108864%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var c=r.clone(),f=t.clone();!t.isZero();){for(var h=0,p=1;(t.words[0]&p)==0&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(c),a.isub(f)),n.iushrn(1),a.iushrn(1);for(var d=0,g=1;(r.words[0]&g)==0&&d<26;++d,g<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(s),a.isub(u)):(r.isub(t),s.isub(n),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t,r=this,n=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var a=new o(1),s=new o(0),u=n.clone();r.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;(r.words[0]&c)==0&&l<26;++l,c<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,h=1;(n.words[0]&h)==0&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);r.cmp(n)>=0?(r.isub(n),a.isub(s)):(n.isub(r),s.isub(a))}return 0>(t=0===r.cmpn(1)?a:s).cmpn(0)&&t.iadd(e),t},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return -1===this.cmpn(e)},o.prototype.lt=function(e){return -1===this.cmp(e)},o.prototype.lten=function(e){return 0>=this.cmpn(e)},o.prototype.lte=function(e){return 0>=this.cmp(e)},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},n(_,E),_.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9){e.words[0]=0,e.length=1;return}var o=e.words[9];for(n=10,t.words[t.length++]=o&r;n<e.length;n++){var a=0|e.words[n];e.words[n-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(S,E),n(I,E),n(P,E),P.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=(0|e.words[r])*19+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){var t;if(w[e])return w[e];if("k256"===e)t=new _;else if("p224"===e)t=new S;else if("p192"===e)t=new I;else if("p25519"===e)t=new P;else throw Error("Unknown prime "+e);return w[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i((e.negative|t.negative)==0,"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);i(!n.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,n),h=this.pow(e,n.addn(1).iushrn(1)),p=this.pow(e,n),d=a;0!==p.cmp(s);){for(var g=p,b=0;0!==g.cmp(s);b++)g=g.redSqr();i(b<d);var y=this.pow(f,new o(1).iushln(d-b-1));h=h.redMul(y),f=y.redSqr(),p=p.redMul(f),d=b}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=4,i=Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],e);var a=i[0],s=0,u=0,l=t.bitLength()%26;for(0===l&&(l=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=l-1;f>=0;f--){var h=c>>f&1;if(a!==i[0]&&(a=this.sqr(a)),0===h&&0===s){u=0;continue}s<<=1,s|=h,(++u===r||0===n&&0===f)&&(a=this.mul(a,i[s]),u=0,s=0)}l=26}return a},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new T(e)},n(T,k),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):0>n.cmpn(0)&&(o=n.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):0>n.cmpn(0)&&(a=n.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},36683:function(e){"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},i=0;i<t.length;i++){var n=t.charAt(i);if(void 0!==r[n])throw TypeError(n+" is ambiguous");r[n]=i}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function a(e){for(var t=1,r=0;r<e.length;++r){var i=e.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+e+")";t=o(t)^i>>5}for(r=0,t=o(t);r<e.length;++r){var n=e.charCodeAt(r);t=o(t)^31&n}return t}function s(e,r,i){if(i=i||90,e.length+7+r.length>i)throw TypeError("Exceeds length limit");var n=a(e=e.toLowerCase());if("string"==typeof n)throw Error(n);for(var s=e+"1",u=0;u<r.length;++u){var l=r[u];if(l>>5!=0)throw Error("Non 5-bit word");n=o(n)^l,s+=t.charAt(l)}for(u=0;u<6;++u)n=o(n);for(n^=1,u=0;u<6;++u){var c=n>>(5-u)*5&31;s+=t.charAt(c)}return s}function u(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var i=e.toLowerCase(),n=e.toUpperCase();if(e!==i&&e!==n)return"Mixed-case string "+e;var s=(e=i).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var u=e.slice(0,s),l=e.slice(s+1);if(l.length<6)return"Data too short";var c=a(u);if("string"==typeof c)return c;for(var f=[],h=0;h<l.length;++h){var p=l.charAt(h),d=r[p];if(void 0===d)return"Unknown character "+p;c=o(c)^d,h+6>=l.length||f.push(d)}return 1!==c?"Invalid checksum for "+e:{prefix:u,words:f}}function l(){var e=u.apply(null,arguments);if("object"==typeof e)return e}function c(e){var t=u.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)}function f(e,t,r,i){for(var n=0,o=0,a=(1<<r)-1,s=[],u=0;u<e.length;++u)for(n=n<<t|e[u],o+=t;o>=r;)s.push(n>>(o-=r)&a);if(i)o>0&&s.push(n<<r-o&a);else{if(o>=t)return"Excess padding";if(n<<r-o&a)return"Non-zero padding"}return s}function h(e){var t=f(e,8,5,!0);if(Array.isArray(t))return t}function p(e){var t=f(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)}function d(e){var t=f(e,5,8,!1);if(Array.isArray(t))return t}function g(e){var t=f(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}e.exports={decodeUnsafe:l,decode:c,encode:s,toWordsUnsafe:h,toWords:p,fromWordsUnsafe:d,fromWords:g}},28805:function(e,t,r){"use strict";let i=r(23482),n=r(36683),o=r(17221),a=r(89509).Buffer,s=r(13550),u=r(17656).address,l=r(50361),c={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0,1]},f={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},h={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0,1]},p={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0,1]},d=3600,g=9,b="",y={word_length:4,var_onion_optin:{required:!1,supported:!0},payment_secret:{required:!1,supported:!0}},m=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],v={m:new s(1e3,10),u:new s(1e6,10),n:new s(1e9,10),p:new s(1e12,10)},w=new s("2100000000000000000",10),E=new s(1e11,10),_=new s(1e8,10),S=new s(1e5,10),I=new s(100,10),P=new s(10,10),k={payment_hash:1,payment_secret:16,description:13,payee_node_key:19,purpose_commit_hash:23,expire_time:6,min_final_cltv_expiry:24,fallback_address:9,routing_info:3,feature_bits:5},T={};for(let O=0,A=Object.keys(k);O<A.length;O++){let x=A[O],N=k[A[O]].toString();T[N]=x}let R={payment_hash:V,payment_secret:V,description:q,payee_node_key:V,purpose_commit_hash:J,expire_time:L,min_final_cltv_expiry:L,fallback_address:G,routing_info:$,feature_bits:Z},B={1:e=>H(e,!0).toString("hex"),16:e=>H(e,!0).toString("hex"),13:e=>H(e,!0).toString("utf8"),19:e=>H(e,!0).toString("hex"),23:e=>H(e,!0).toString("hex"),6:j,24:j,9:W,3:X,5:Y},C="unknownTag";function U(e){return e.words=n.decode(e.words,Number.MAX_SAFE_INTEGER).words,e}function M(e){return t=>({tagCode:parseInt(e),words:n.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function j(e){return e.reverse().reduce((e,t,r)=>e+t*Math.pow(32,r),0)}function L(e,t){let r=[];if(void 0===t&&(t=5),0===(e=Math.floor(e)))return[0];for(;e>0;)r.push(e&Math.pow(2,t)-1),e=Math.floor(e/Math.pow(2,t));return r.reverse()}function K(e){return i("sha256").update(e).digest()}function D(e,t,r){let i=0,n=0,o=(1<<r)-1,a=[];for(let s=0;s<e.length;++s)for(i=i<<t|e[s],n+=t;n>=r;)a.push(i>>(n-=r)&o);return n>0&&a.push(i<<r-n&o),a}function H(e,t){let r=a.from(D(e,5,8,!0));return t&&5*e.length%8!=0&&(r=r.slice(0,-1)),r}function z(e){return void 0!==e&&("string"==typeof e||e instanceof String)&&e.match(/^([a-zA-Z0-9]{2})*$/)?a.from(e,"hex"):e}function F(e){return a.from(e,"utf8")}function V(e){let t=z(e);return n.toWords(t)}function q(e){let t=F(e),r=n.toWords(t);return r}function W(e,t){let r=e[0];e=e.slice(1);let i=H(e,!0),n=null;switch(r){case 17:n=u.toBase58Check(i,t.pubKeyHash);break;case 18:n=u.toBase58Check(i,t.scriptHash);break;case 0:case 1:n=u.toBech32(i,r,t.bech32)}return{code:r,address:n,addressHash:i.toString("hex")}}function G(e,t){return[e.code].concat(V(e.addressHash))}function X(e){let t,r,i,n,o;let a=[],s=H(e,!0);for(;s.length>0;)t=s.slice(0,33).toString("hex"),r=s.slice(33,41).toString("hex"),i=parseInt(s.slice(41,45).toString("hex"),16),n=parseInt(s.slice(45,49).toString("hex"),16),o=parseInt(s.slice(49,51).toString("hex"),16),s=s.slice(51),a.push({pubkey:t,short_channel_id:r,fee_base_msat:i,fee_proportional_millionths:n,cltv_expiry_delta:o});return a}function Y(e){let t=e.slice().reverse().map(e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)]).reduce((e,t)=>e.concat(t),[]);for(;t.length<2*m.length;)t.push(!1);let r={word_length:e.length};if(m.forEach((e,i)=>{r[e]={required:t[2*i],supported:t[2*i+1]}}),t.length>2*m.length){let i=t.slice(2*m.length);r.extra_bits={start_bit:2*m.length,bits:i,has_required:i.reduce((e,t,r)=>r%2!=0?e||!1:e||t,!1)}}else r.extra_bits={start_bit:2*m.length,bits:[],has_required:!1};return r}function Z(e){let t=e.word_length,r=[];for(m.forEach(t=>{r.push(!!(e[t]||{}).required),r.push(!!(e[t]||{}).supported)});!1===r[r.length-1];)r.pop();for(;r.length%5!=0;)r.push(!1);if(e.extra_bits&&Array.isArray(e.extra_bits.bits)&&e.extra_bits.bits.length>0){for(;r.length<e.extra_bits.start_bit;)r.push(!1);r=r.concat(e.extra_bits.bits)}if(void 0!==t&&r.length/5>t)throw Error("word_length is too small to contain all featureBits");return void 0===t&&(t=Math.ceil(r.length/5)),Array(t).fill(0).map((e,t)=>r[5*t+4]<<4|r[5*t+3]<<3|r[5*t+2]<<2|r[5*t+1]<<1|r[5*t]<<0).reverse()}function $(e){let t=a.from([]);return e.forEach(e=>{t=a.concat([t,z(e.pubkey)]),t=a.concat([t,z(e.short_channel_id)]),t=a.concat([t,a.from([0,0,0].concat(L(e.fee_base_msat,8)).slice(-4))]),t=a.concat([t,a.from([0,0,0].concat(L(e.fee_proportional_millionths,8)).slice(-4))]),t=a.concat([t,a.from([0].concat(L(e.cltv_expiry_delta,8)).slice(-2))])}),V(t)}function J(e){let t;if(void 0!==e&&("string"==typeof e||e instanceof String))t=e.match(/^([a-zA-Z0-9]{2})*$/)?a.from(e,"hex"):K(a.from(e,"utf8"));else throw Error("purpose or purpose commit must be a string or hex string");return n.toWords(t)}function Q(e,t){let r=e.filter(e=>e.tagName===t),i=r.length>0?r[0].data:null;return i}function ee(e,t){return null!==Q(e,t)}function et(e,t){let r={};if(Object.keys(e).sort().forEach(t=>{r[t]=e[t]}),!0===t){let i="__tagsObject_cache";Object.defineProperty(r,"tagsObject",{get(){return this[i]||Object.defineProperty(this,i,{value:el(this.tags)}),this[i]}})}return r}function er(e){if(!e.toString().match(/^\d+$/))throw Error("satoshis must be an integer");let t=new s(e,10);return ei(t.mul(new s(1e3,10)))}function ei(e){let t,r;if(!e.toString().match(/^\d+$/))throw Error("millisatoshis must be an integer");let i=new s(e,10),n=i.toString(10),o=n.length;return o>11&&/0{11}$/.test(n)?(t="",r=i.div(E).toString(10)):o>8&&/0{8}$/.test(n)?(t="m",r=i.div(_).toString(10)):o>5&&/0{5}$/.test(n)?(t="u",r=i.div(S).toString(10)):o>2&&/0{2}$/.test(n)?(t="n",r=i.div(I).toString(10)):(t="p",r=i.mul(P).toString(10)),r+t}function en(e,t){let r=eo(e,!1);if(!r.mod(new s(1e3,10)).eq(new s(0,10)))throw Error("Amount is outside of valid range");let i=r.div(new s(1e3,10));return t?i.toString():i}function eo(e,t){let r,i;if(e.slice(-1).match(/^[munp]$/))r=e.slice(-1),i=e.slice(0,-1);else if(e.slice(-1).match(/^[^munp0-9]$/))throw Error("Not a valid multiplier for the amount");else i=e;if(!i.match(/^\d+$/))throw Error("Not a valid human readable amount");let n=new s(i,10),o=r?n.mul(E).div(v[r]):n.mul(E);if("p"===r&&!n.mod(new s(10,10)).eq(new s(0,10))||o.gt(w))throw Error("Amount is outside of valid range");return t?o.toString():o}function ea(e,t){let r,i;let s=l(e),u=z(t);if(s.complete&&s.paymentRequest)return s;if(void 0===u||32!==u.length||!o.privateKeyVerify(u))throw Error("privateKey must be a 32 byte Buffer and valid private key");if(ee(s.tags,T["19"])&&(i=z(Q(s.tags,T["19"]))),s.payeeNodeKey&&(r=z(s.payeeNodeKey)),r&&i&&!i.equals(r))throw Error("payee node key tag and payeeNodeKey attribute must match");r=i||r;let c=a.from(o.publicKeyCreate(u));if(r&&!c.equals(r))throw Error("The private key given is not the private key of the node public key given");let f=n.decode(s.wordsTemp,Number.MAX_SAFE_INTEGER).words,h=a.concat([a.from(s.prefix,"utf8"),H(f)]),p=K(h),d=o.ecdsaSign(p,u);d.signature=a.from(d.signature);let g=V(d.signature.toString("hex")+"0"+d.recid);return s.payeeNodeKey=c.toString("hex"),s.signature=d.signature.toString("hex"),s.recoveryFlag=d.recid,s.wordsTemp=n.encode("temp",f.concat(g),Number.MAX_SAFE_INTEGER),s.complete=!0,s.paymentRequest=n.encode(s.prefix,f.concat(g),Number.MAX_SAFE_INTEGER),et(s)}function es(e,t){let r,i,f,h,p,m,v,w;let E=l(e);void 0===t&&(t=!0);let _=!(void 0===E.signature||void 0===E.recoveryFlag);if(void 0!==E.network||_){if(void 0===E.network&&_)throw Error("Need network for proper payment request reconstruction");if(!E.network.bech32||void 0===E.network.pubKeyHash||void 0===E.network.scriptHash||!Array.isArray(E.network.validWitnessVersions))throw Error("Invalid network");r=E.network}else E.network=c,r=c;if(void 0!==E.timestamp||_){if(void 0===E.timestamp&&_)throw Error("Need timestamp for proper payment request reconstruction")}else E.timestamp=Math.floor(new Date().getTime()/1e3);if(void 0===E.tags)throw Error("Payment Requests need tags array");if(!ee(E.tags,T["1"]))throw Error("Lightning Payment Request needs a payment hash");if(ee(E.tags,T["16"])){if(ee(E.tags,T["5"])){let S=Q(E.tags,T["5"]);if(!S.payment_secret||!S.payment_secret.supported&&!S.payment_secret.required)throw Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included")}else if(t)E.tags.push({tagName:T["5"],data:y});else throw Error("Payment request requires feature bits with at least payment secret support flagged if payment secret is included")}if(!ee(E.tags,T["13"])&&!ee(E.tags,T["23"])){if(t)E.tags.push({tagName:T["13"],data:b});else throw Error("Payment request requires description or purpose commit hash")}if(ee(E.tags,T["13"])&&a.from(Q(E.tags,T["13"]),"utf8").length>639)throw Error("Description is too long: Max length 639 bytes");if(ee(E.tags,T["6"])||_||!t||E.tags.push({tagName:T["6"],data:d}),ee(E.tags,T["24"])||_||!t||E.tags.push({tagName:T["24"],data:g}),ee(E.tags,T["19"])&&(f=z(Q(E.tags,T["19"]))),E.payeeNodeKey&&(i=z(E.payeeNodeKey)),i&&f&&!f.equals(i))throw Error("payeeNodeKey and tag payee node key do not match");if((i=i||f)&&(E.payeeNodeKey=i.toString("hex")),ee(E.tags,T["9"])){let I=Q(E.tags,T["9"]);if(m=I.address,p=I.addressHash,h=I.code,void 0===p||void 0===h){let P,O;try{p=(P=u.fromBech32(m)).data,h=P.version}catch(x){try{(O=u.fromBase58Check(m)).version===r.pubKeyHash?h=17:O.version===r.scriptHash&&(h=18),p=O.hash}catch(A){throw Error("Fallback address type is unknown")}}if(P&&!(P.version in r.validWitnessVersions))throw Error("Fallback address witness version is unknown");if(P&&P.prefix!==r.bech32)throw Error("Fallback address network type does not match payment request network type");if(O&&O.version!==r.pubKeyHash&&O.version!==r.scriptHash)throw Error("Fallback address version (base58) is unknown or the network type is incorrect");I.addressHash=p.toString("hex"),I.code=h}}if(ee(E.tags,T["3"])){let N=Q(E.tags,T["3"]);N.forEach(e=>{if(void 0===e.pubkey||void 0===e.short_channel_id||void 0===e.fee_base_msat||void 0===e.fee_proportional_millionths||void 0===e.cltv_expiry_delta)throw Error("Routing info is incomplete");if(!o.publicKeyVerify(z(e.pubkey)))throw Error("Routing info pubkey is not a valid pubkey");let t=z(e.short_channel_id);if(!(t instanceof a)||8!==t.length)throw Error("Routing info short channel id must be 8 bytes");if("number"!=typeof e.fee_base_msat||Math.floor(e.fee_base_msat)!==e.fee_base_msat)throw Error("Routing info fee base msat is not an integer");if("number"!=typeof e.fee_proportional_millionths||Math.floor(e.fee_proportional_millionths)!==e.fee_proportional_millionths)throw Error("Routing info fee proportional millionths is not an integer");if("number"!=typeof e.cltv_expiry_delta||Math.floor(e.cltv_expiry_delta)!==e.cltv_expiry_delta)throw Error("Routing info cltv expiry delta is not an integer")})}let B="ln";if(B+=r.bech32,E.millisatoshis&&E.satoshis){v=ei(new s(E.millisatoshis,10));let M=er(new s(E.satoshis,10));if(M!==v)throw Error("satoshis and millisatoshis do not match")}else v=E.millisatoshis?ei(new s(E.millisatoshis,10)):E.satoshis?er(new s(E.satoshis,10)):"";B+=v;let j=L(E.timestamp),H=E.tags,F=[];H.forEach(e=>{let t;let r=Object.keys(R);if(_&&r.push(C),-1===r.indexOf(e.tagName))throw Error("Unknown tag key: "+e.tagName);if(e.tagName!==C){F.push(k[e.tagName]);let i=R[e.tagName];t=i(e.data)}else{let n=U(e.data);F.push(n.tagCode),t=n.words}F=(F=F.concat([0].concat(L(t.length)).slice(-2))).concat(t)});let q=j.concat(F),W=a.concat([a.from(B,"utf8"),a.from(D(q,5,8))]),G=K(W);if(_){if(i){let X=a.from(o.ecdsaRecover(a.from(E.signature,"hex"),E.recoveryFlag,G,!0));if(i&&!i.equals(X))throw Error("Signature, message, and recoveryID did not produce the same pubkey as payeeNodeKey");w=V(E.signature+"0"+E.recoveryFlag)}else throw Error("Reconstruction with signature and recoveryID requires payeeNodeKey to verify correctness of input data.")}return w&&(q=q.concat(w)),ee(E.tags,T["6"])&&(E.timeExpireDate=E.timestamp+Q(E.tags,T["6"]),E.timeExpireDateString=new Date(1e3*E.timeExpireDate).toISOString()),E.timestampString=new Date(1e3*E.timestamp).toISOString(),E.complete=!!w,E.paymentRequest=E.complete?n.encode(B,q,Number.MAX_SAFE_INTEGER):"",E.prefix=B,E.wordsTemp=n.encode("temp",q,Number.MAX_SAFE_INTEGER),et(E)}function eu(e,t){let r,i,s,u,l,d,g,b,y,m;if("string"!=typeof e)throw Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw Error("Not a proper lightning payment request");let v=n.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();let w=v.prefix,E=v.words,_=E.slice(-104),S=E.slice(0,-104);E=E.slice(0,-104);let I=H(_,!0),P=I.slice(-1)[0];if(I=I.slice(0,-1),!(P in[0,1,2,3])||64!==I.length)throw Error("Signature is missing or incorrect");let k=w.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(k&&!k[2]&&(k=w.match(/^ln(\S+)$/)),!k)throw Error("Not a proper lightning payment request");let O=k[1];if(t){if(void 0===t.bech32||void 0===t.pubKeyHash||void 0===t.scriptHash||!Array.isArray(t.validWitnessVersions))throw Error("Invalid network");r=t}else switch(O){case c.bech32:r=c;break;case f.bech32:r=f;break;case h.bech32:r=h;break;case p.bech32:r=p}if(!r||r.bech32!==O)throw Error("Unknown coin bech32 prefix");let A=k[2];if(A){let x=k[3];try{i=parseInt(en(A+x,!0))}catch(N){i=null,u=!0}s=eo(A+x,!0)}else i=null,s=null;let R=j(E.slice(0,7)),U=new Date(1e3*R).toISOString();E=E.slice(7);let L=[];for(;E.length>0;){let z=E[0].toString();l=T[z]||C,d=B[z]||M(z),g=j((E=E.slice(1)).slice(0,2)),b=(E=E.slice(2)).slice(0,g),E=E.slice(g),L.push({tagName:l,data:d(b,r)})}ee(L,T["6"])&&(y=R+Q(L,T["6"]),m=new Date(1e3*y).toISOString());let F=a.concat([a.from(w,"utf8"),a.from(D(S,5,8))]),V=K(F),q=a.from(o.ecdsaRecover(I,P,V,!0));if(ee(L,T["19"])&&Q(L,T["19"])!==q.toString("hex"))throw Error("Lightning Payment Request signature pubkey does not match payee pubkey");let W={paymentRequest:e,complete:!0,prefix:w,wordsTemp:n.encode("temp",S.concat(_),Number.MAX_SAFE_INTEGER),network:r,satoshis:i,millisatoshis:s,timestamp:R,timestampString:U,payeeNodeKey:q.toString("hex"),signature:I.toString("hex"),recoveryFlag:P,tags:L};return u&&delete W.satoshis,y&&(W=Object.assign(W,{timeExpireDate:y,timeExpireDateString:m})),et(W,!0)}function el(e){let t={};return e.forEach(e=>{e.tagName===C?(t.unknownTags||(t.unknownTags=[]),t.unknownTags.push(e.data)):t[e.tagName]=e.data}),t}e.exports={encode:es,decode:eu,sign:ea,satToHrp:er,millisatToHrp:ei,hrpToSat:en,hrpToMillisat:eo}},29931:function(e,t,r){var i;function n(e){this.rand=e}if(e.exports=function(e){return i||(i=new n(null)),i.generate(e)},e.exports.Rand=n,n.prototype.generate=function(e){return this._rand(e)},n.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(n.prototype._rand=function(){throw Error("Not implemented yet")});else try{var o=r(89214);if("function"!=typeof o.randomBytes)throw Error("Not supported");n.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},77191:function(e,t,r){var i=r(58162),n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.exports=i(n)},53310:function(e,t,r){"use strict";var i=r(77191),n=r(89509).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),i=t.slice(-4),n=e(r);if(!(i[0]^n[0]|i[1]^n[1]|i[2]^n[2]|i[3]^n[3]))return r}return{encode:function(t){var r=e(t);return i.encode(n.concat([t,r],t.length+4))},decode:function(r){var n=t(i.decode(r),e);if(!n)throw Error("Invalid checksum");return n},decodeUnsafe:function(e){var r=i.decodeUnsafe(e);if(r)return t(r)}}}},58334:function(e,t,r){"use strict";var i=r(23482),n=r(53310);function o(e){var t=i("sha256").update(e).digest();return i("sha256").update(t).digest()}e.exports=n(o)},71027:function(e,t,r){var i=r(89509).Buffer,n=r(79681).Transform,o=r(32553).StringDecoder;function a(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(35717)(a,n),a.prototype.update=function(e,t,r){"string"==typeof e&&(e=i.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(n){i=n}finally{r(i)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw Error("can't switch encodings");var i=this._decoder.write(e);return r&&(i+=this._decoder.end()),i},e.exports=a},23482:function(e,t,r){"use strict";var i=r(35717),n=r(62318),o=r(79785),a=r(89072),s=r(71027);function u(e){s.call(this,"digest"),this._hash=e}i(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new o:new u(a(e))}},78028:function(e,t,r){var i=r(62318);e.exports=function(e){return new i().update(e).digest()}},58355:function(e,t,r){"use strict";var i=r(35717),n=r(51031),o=r(71027),a=r(89509).Buffer,s=r(78028),u=r(79785),l=r(89072),c=a.alloc(128);function f(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new u:l(e)).update(t).digest():t.length<r&&(t=a.concat([t,c],r));for(var i=this._ipad=a.allocUnsafe(r),n=this._opad=a.allocUnsafe(r),s=0;s<r;s++)i[s]=54^t[s],n[s]=92^t[s];this._hash="rmd160"===e?new u:l(e),this._hash.update(i)}i(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new n(s,t):new f(e,t)}},51031:function(e,t,r){"use strict";var i=r(35717),n=r(89509).Buffer,o=r(71027),a=n.alloc(128),s=64;function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=n.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=n.concat([t,a],s));for(var r=this._ipad=n.allocUnsafe(s),i=this._opad=n.allocUnsafe(s),u=0;u<s;u++)r[u]=54^t[u],i[u]=92^t[u];this._hash=[r]}i(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,e]))},e.exports=u},96740:function(e){var t,r;t=0,r=function(){function e(o,a){if(!(this instanceof e))return new e(o,a);var s=Math.pow(10,(a=Object.assign({},r,a)).precision);this.intValue=o=t(o,a),this.value=o/s,a.increment=a.increment||1/s,a.groups=a.useVedic?n:i,this.s=a,this.p=s}function t(t,r){var i=!(2<arguments.length)||void 0===arguments[2]||arguments[2],n=r.decimal,o=r.errorOnInvalid,a=r.fromCents,s=Math.pow(10,r.precision),u=t instanceof e;if(u&&a)return t.intValue;if("number"==typeof t||u)n=u?t.value:t;else if("string"==typeof t)o=RegExp("[^-\\d"+n+"]","g"),n=RegExp("\\"+n,"g"),n=(n=t.replace(/\((.*)\)/,"-$1").replace(o,"").replace(n,"."))||0;else{if(o)throw Error("Invalid Input");n=0}return a||(n=(n*s).toFixed(4)),i?Math.round(n):n}var r={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:function(e,t){var r=t.pattern,i=t.negativePattern,n=t.symbol,o=t.separator,a=t.decimal;t=t.groups;var s=(""+e).replace(/^-/,"").split("."),u=s[0];return s=s[1],(0<=e.value?r:i).replace("!",n).replace("#",u.replace(t,"$1"+o)+(s?a+s:""))},fromCents:!1},i=/(\d)(?=(\d{3})+\b)/g,n=/(\d)(?=(\d\d)+\d\b)/g;return e.prototype={add:function(r){var i=this.s,n=this.p;return e((this.intValue+t(r,i))/(i.fromCents?1:n),i)},subtract:function(r){var i=this.s,n=this.p;return e((this.intValue-t(r,i))/(i.fromCents?1:n),i)},multiply:function(t){var r=this.s;return e(this.intValue*t/(r.fromCents?1:Math.pow(10,r.precision)),r)},divide:function(r){var i=this.s;return e(this.intValue/t(r,i,!1),i)},distribute:function(t){var r=this.intValue,i=this.p,n=this.s,o=[],a=Math[0<=r?"floor":"ceil"](r/t),s=Math.abs(r-a*t);for(i=n.fromCents?1:i;0!==t;t--){var u=e(a/i,n);0<s--&&(u=u[0<=r?"add":"subtract"](1/i)),o.push(u)}return o},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(e){var t=this.s;return"function"==typeof e?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.s,t=e.increment;return(Math.round(this.intValue/this.p/t)*t).toFixed(e.precision)},toJSON:function(){return this.value}},e},e.exports=r()},29887:function(e,t,r){var i; /*! decimal.js-light v2.5.1 https://github.com/MikeMcl/decimal.js-light/LICENCE */ !function(n){"use strict";var o,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u=!0,l="[DecimalError] ",c=l+"Invalid argument: ",f=l+"Exponent out of range: ",h=Math.floor,p=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,g=1e7,b=7,y=9007199254740991,m=h(1286742750677284.5),v={};function w(e,t){var r,i,n,o,a,s,l,c,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),u?x(t,h):t;if(l=e.d,c=t.d,a=e.e,n=t.e,l=l.slice(),o=a-n){for(o<0?(i=l,o=-o,s=c.length):(i=c,n=a,s=l.length),o>(s=(a=Math.ceil(h/b))>s?a+1:s+1)&&(o=s,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,i=c,c=l,l=i),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/g|0,l[o]%=g;for(r&&(l.unshift(r),++n),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=n,u?x(t,h):t}function E(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function _(e){var t,r,i,n=e.length-1,o="",a=e[0];if(n>0){for(o+=a,t=1;t<n;t++)(r=b-(i=e[t]+"").length)&&(o+=T(r)),o+=i;(r=b-(i=(a=e[t])+"").length)&&(o+=T(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,i,n,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,r=(i=o.d.length)<(n=e.d.length)?i:n;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return i===n?0:i>n^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*b;if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return S(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this,r=t.constructor;return x(S(t,new r(e),0,1),r.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return P(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return 0>this.cmp(e)},v.lessThanOrEqualTo=v.lte=function(e){return 1>this.cmp(e)},v.logarithm=v.log=function(e){var t,r=this,i=r.constructor,n=i.precision,a=n+5;if(void 0===e)e=new i(10);else if((e=new i(e)).s<1||e.eq(o))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(o)?new i(0):(u=!1,t=S(O(r,a),O(e,a),a),u=!0,x(t,n))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N(t,e):w(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,i=r.constructor,n=i.precision;if(!(e=new i(e)).s)throw Error(l+"NaN");return r.s?(u=!1,t=S(r,e,0,1).times(e),u=!0,r.minus(t)):x(new i(r),n)},v.naturalExponential=v.exp=function(){return I(this)},v.naturalLogarithm=v.ln=function(){return O(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w(t,e):N(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,i,n=this;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(c+e);if(t=P(n)+1,r=(i=n.d.length-1)*b+1,i=n.d[i]){for(;i%10==0;i/=10)r--;for(i=n.d[0];i>=10;i/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,i,n,o,a,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(l+"NaN")}for(e=P(s),u=!1,0==(n=Math.sqrt(+s))||n==1/0?(((t=_(s.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=h((e+1)/2)-(e<0||e%2),t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e,i=new c(t)):i=new c(n.toString()),n=a=(r=c.precision)+3;;)if(i=(o=i).plus(S(s,o,a+2)).times(.5),_(o.d).slice(0,a)===(t=_(i.d)).slice(0,a)){if(t=t.slice(a-3,a+1),n==a&&"4999"==t){if(x(o,r+1,0),o.times(o).eq(s)){i=o;break}}else if("9999"!=t)break;a+=4}return u=!0,x(i,r)},v.times=v.mul=function(e){var t,r,i,n,o,a,s,l,c,f=this,h=f.constructor,p=f.d,d=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,(l=p.length)<(c=d.length)&&(o=p,p=d,d=o,a=l,l=c,c=a),o=[],i=a=l+c;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,n=l+i;n>i;)s=o[n]+d[i]*p[n-i-1]+t,o[n--]=s%g|0,t=s/g|0;o[n]=(o[n]+t)%g|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,u?x(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,i=r.constructor;return(r=new i(r),void 0===e)?r:(E(e,0,a),void 0===t?t=i.rounding:E(t,0,8),x(r,e+P(r)+1,t))},v.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=R(i,!0):(E(e,0,a),void 0===t?t=n.rounding:E(t,0,8),r=R(i=x(new n(i),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,i,n=this,o=n.constructor;return void 0===e?R(n):(E(e,0,a),void 0===t?t=o.rounding:E(t,0,8),r=R((i=x(new o(n),e+P(n)+1,t)).abs(),!1,e+P(i)+1),n.isneg()&&!n.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return x(new t(e),P(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,i,n,a,s,c=this,f=c.constructor,p=12,d=+(e=new f(e));if(!e.s)return new f(o);if(!(c=new f(c)).s){if(e.s<1)throw Error(l+"Infinity");return c}if(c.eq(o))return c;if(i=f.precision,e.eq(o))return x(c,i);if(s=(t=e.e)>=(r=e.d.length-1),a=c.s,s){if((r=d<0?-d:d)<=y){for(n=new f(o),t=Math.ceil(i/b+4),u=!1;r%2&&B((n=n.times(c)).d,t),0!==(r=h(r/2));)B((c=c.times(c)).d,t);return u=!0,e.s<0?new f(o).div(n):x(n,i)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,r)]?-1:1,c.s=1,u=!1,n=e.times(O(c,i+p)),u=!0,(n=I(n)).s=a,n},v.toPrecision=function(e,t){var r,i,n=this,o=n.constructor;return void 0===e?(r=P(n),i=R(n,r<=o.toExpNeg||r>=o.toExpPos)):(E(e,1,a),void 0===t?t=o.rounding:E(t,0,8),r=P(n=x(new o(n),e,t)),i=R(n,e<=r||r<=o.toExpNeg,e)),i},v.toSignificantDigits=v.tosd=function(e,t){var r=this,i=r.constructor;return void 0===e?(e=i.precision,t=i.rounding):(E(e,1,a),void 0===t?t=i.rounding:E(t,0,8)),x(new i(r),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=P(e),r=e.constructor;return R(e,t<=r.toExpNeg||t>=r.toExpPos)};var S=function(){function e(e,t){var r,i=0,n=e.length;for(e=e.slice();n--;)r=e[n]*t+i,e[n]=r%g|0,i=r/g|0;return i&&e.unshift(i),e}function t(e,t,r,i){var n,o;if(r!=i)o=r>i?1:-1;else for(n=o=0;n<r;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function r(e,t,r){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*g+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,o,a){var s,u,c,f,h,p,d,y,m,v,w,E,_,S,I,k,T,O,A=i.constructor,N=i.s==n.s?1:-1,R=i.d,B=n.d;if(!i.s)return new A(i);if(!n.s)throw Error(l+"Division by zero");for(c=0,u=i.e-n.e,T=B.length,I=R.length,y=(d=new A(N)).d=[];B[c]==(R[c]||0);)++c;if(B[c]>(R[c]||0)&&--u,(E=null==o?o=A.precision:a?o+(P(i)-P(n))+1:o)<0)return new A(0);if(E=E/b+2|0,c=0,1==T)for(f=0,B=B[0],E++;(c<I||f)&&E--;c++)_=f*g+(R[c]||0),y[c]=_/B|0,f=_%B|0;else{for((f=g/(B[0]+1)|0)>1&&(B=e(B,f),R=e(R,f),T=B.length,I=R.length),S=T,v=(m=R.slice(0,T)).length;v<T;)m[v++]=0;(O=B.slice()).unshift(0),k=B[0],B[1]>=g/2&&++k;do f=0,(s=t(B,m,T,v))<0?(w=m[0],T!=v&&(w=w*g+(m[1]||0)),(f=w/k|0)>1?(f>=g&&(f=g-1),p=(h=e(B,f)).length,v=m.length,1==(s=t(h,m,p,v))&&(f--,r(h,T<p?O:B,p))):(0==f&&(s=f=1),h=B.slice()),(p=h.length)<v&&h.unshift(0),r(m,h,v),-1==s&&(v=m.length,(s=t(B,m,T,v))<1&&(f++,r(m,T<v?O:B,v))),v=m.length):0===s&&(f++,m=[0]),y[c++]=f,s&&m[0]?m[v++]=R[S]||0:(m=[R[S]],v=1);while((S++<I||void 0!==m[0])&&E--)}return y[0]||y.shift(),d.e=u,x(d,a?o+P(d)+1:o)}}();function I(e,t){var r,i,n,a,s,l=0,c=0,h=e.constructor,d=h.precision;if(P(e)>16)throw Error(f+P(e));if(!e.s)return new h(o);for(null==t?(u=!1,s=d):s=t,a=new h(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(s+=Math.log(p(2,c))/Math.LN10*2+5|0,r=i=n=new h(o),h.precision=s;;){if(i=x(i.times(e),s),r=r.times(++l),_((a=n.plus(S(i,r,s))).d).slice(0,s)===_(n.d).slice(0,s)){for(;c--;)n=x(n.times(n),s);return h.precision=d,null==t?(u=!0,x(n,d)):n}n=a}}function P(e){for(var t=e.e*b,r=e.d[0];r>=10;r/=10)t++;return t}function k(e,t,r){if(t>e.LN10.sd())throw u=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return x(new e(e.LN10),t)}function T(e){for(var t="";e--;)t+="0";return t}function O(e,t){var r,i,n,a,s,c,f,h,p,d=1,g=10,b=e,y=b.d,m=b.constructor,v=m.precision;if(b.s<1)throw Error(l+(b.s?"NaN":"-Infinity"));if(b.eq(o))return new m(0);if(null==t?(u=!1,h=v):h=t,b.eq(10))return null==t&&(u=!0),k(m,h);if(h+=g,m.precision=h,i=(r=_(y)).charAt(0),!(15e14>Math.abs(a=P(b))))return f=k(m,h+2,v).times(a+""),b=O(new m(i+"."+r.slice(1)),h-g).plus(f),m.precision=v,null==t?(u=!0,x(b,v)):b;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=_((b=b.times(e)).d)).charAt(0),d++;for(a=P(b),i>1?(b=new m("0."+r),a++):b=new m(i+"."+r.slice(1)),c=s=b=S(b.minus(o),b.plus(o),h),p=x(b.times(b),h),n=3;;){if(s=x(s.times(p),h),_((f=c.plus(S(s,new m(n),h))).d).slice(0,h)===_(c.d).slice(0,h))return c=c.times(2),0!==a&&(c=c.plus(k(m,h+2,v).times(a+""))),c=S(c,new m(d),h),m.precision=v,null==t?(u=!0,x(c,v)):c;c=f,n+=2}}function A(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);)++i;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(i,n)){if(n-=i,r=r-i-1,e.e=h(r/b),e.d=[],i=(r+1)%b,r<0&&(i+=b),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=b;i<n;)e.d.push(+t.slice(i,i+=b));i=b-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";if(e.d.push(+t),u&&(e.e>m||e.e<-m))throw Error(f+r)}else e.s=0,e.e=0,e.d=[0];return e}function x(e,t,r){var i,n,o,a,s,l,c,d,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((i=t-a)<0)i+=b,n=t,c=y[d=0];else{if(d=Math.ceil((i+1)/b),o=y.length,d>=o)return e;for(a=1,c=o=y[d];o>=10;o/=10)a++;i%=b,n=i-b+a}if(void 0!==r&&(s=c/(o=p(10,a-n-1))%10|0,l=t<0||void 0!==y[d+1]||c%o,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(i>0?n>0?c/p(10,a-n):0:y[d-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return l?(o=P(e),y.length=1,t=t-o-1,y[0]=p(10,(b-t%b)%b),e.e=h(-t/b)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==i?(y.length=d,o=1,d--):(y.length=d+1,o=p(10,b-i),y[d]=n>0?(c/p(10,a-n)%p(10,n)|0)*o:0),l)for(;;){if(0==d){(y[0]+=o)==g&&(y[0]=1,++e.e);break}if(y[d]+=o,y[d]!=g)break;y[d--]=0,o=1}for(i=y.length;0===y[--i];)y.pop();if(u&&(e.e>m||e.e<-m))throw Error(f+P(e));return e}function N(e,t){var r,i,n,o,a,s,l,c,f,h,p=e.constructor,d=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),u?x(t,d):t;if(l=e.d,h=t.d,i=t.e,c=e.e,l=l.slice(),a=c-i){for((f=a<0)?(r=l,a=-a,s=h.length):(r=h,i=c,s=l.length),n=Math.max(Math.ceil(d/b),s)+2,a>n&&(a=n,r.length=1),r.reverse(),n=a;n--;)r.push(0);r.reverse()}else{for((f=(n=l.length)<(s=h.length))&&(s=n),n=0;n<s;n++)if(l[n]!=h[n]){f=l[n]<h[n];break}a=0}for(f&&(r=l,l=h,h=r,t.s=-t.s),s=l.length,n=h.length-s;n>0;--n)l[s++]=0;for(n=h.length;n>a;){if(l[--n]<h[n]){for(o=n;o&&0===l[--o];)l[o]=g-1;--l[o],l[n]+=g}l[n]-=h[n]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--i;return l[0]?(t.d=l,t.e=i,u?x(t,d):t):new p(0)}function R(e,t,r){var i,n=P(e),o=_(e.d),a=o.length;return t?(r&&(i=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+T(i):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n<0?"e":"e+")+n):n<0?(o="0."+T(-n-1)+o,r&&(i=r-a)>0&&(o+=T(i))):n>=a?(o+=T(n+1-a),r&&(i=r-n-1)>0&&(o=o+"."+T(i))):((i=n+1)<a&&(o=o.slice(0,i)+"."+o.slice(i)),r&&(i=r-a)>0&&(n+1===a&&(o+="."),o+=T(i))),e.s<0?"-"+o:o}function B(e,t){if(e.length>t)return e.length=t,!0}function C(e){var t,r,i;function n(e){var t=this;if(!(t instanceof n))return new n(e);if(t.constructor=n,e instanceof n){t.s=e.s,t.e=e.e,t.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(c+e);if(e>0)t.s=1;else if(e<0)e=-e,t.s=-1;else{t.s=0,t.e=0,t.d=[0];return}if(e===~~e&&e<1e7){t.e=0,t.d=[e];return}return A(t,e.toString())}if("string"!=typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,d.test(e))A(t,e);else throw Error(c+e)}if(n.prototype=v,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=C,n.config=n.set=U,void 0===e&&(e={}),e)for(t=0,i=["precision","rounding","toExpNeg","toExpPos","LN10"];t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return n.config(e),n}function U(e){if(!e||"object"!=typeof e)throw Error(l+"Object expected");var t,r,i,n=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(i=e[r=n[t]])){if(h(i)===i&&i>=n[t+1]&&i<=n[t+2])this[r]=i;else throw Error(c+r+": "+i)}if(void 0!==(i=e[r="LN10"])){if(i==Math.LN10)this[r]=new this(i);else throw Error(c+r+": "+i)}return this}(s=C(s)).default=s.Decimal=s,o=new s(1),void 0!==(i=(function(){return s}).call(t,r,t,e))&&(e.exports=i)}(0)},65987:function(e){"use strict";var t={single_source_shortest_paths:function(e,r,i){var n,o,a,s,u,l,c,f={},h={};h[r]=0;var p=t.PriorityQueue.make();for(p.push(r,0);!p.empty();)for(a in o=(n=p.pop()).value,s=n.cost,u=e[o]||{})u.hasOwnProperty(a)&&(l=s+u[a],c=h[a],(void 0===h[a]||c>l)&&(h[a]=l,p.push(a,l),f[a]=o));if(void 0!==i&&void 0===h[i])throw Error(["Could not find a path from ",r," to ",i,"."].join(""));return f},extract_shortest_path_from_predecessor_list:function(e,t){for(var r,i=[],n=t;n;)i.push(n),r=e[n],n=e[n];return i.reverse(),i},find_path:function(e,r,i){var n=t.single_source_shortest_paths(e,r,i);return t.extract_shortest_path_from_predecessor_list(n,i)},PriorityQueue:{make:function(e){var r,i=t.PriorityQueue,n={};for(r in e=e||{},i)i.hasOwnProperty(r)&&(n[r]=i[r]);return n.queue=[],n.sorter=e.sorter||i.default_sorter,n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},86428:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ECPairFactory=t.networks=void 0;let n=r(14644);t.networks=n;let o=r(4844),a=r(61798),s=r(37174),u=r(25049),l=o.typeforce.maybe(o.typeforce.compile({compressed:o.maybe(o.Boolean),network:o.maybe(o.Network)})),c=e=>32===e.length?e:e.slice(1,33);function f(e){function t(t){return e.isPoint(t)}function r(t,r){if(o.typeforce(o.Buffer256bit,t),!e.isPrivate(t))throw TypeError("Private key not in range [1, n)");return o.typeforce(l,r),new d(t,void 0,r)}function f(t,r){return o.typeforce(e.isPoint,t),o.typeforce(l,r),new d(void 0,t,r)}function h(e,t){let i=s.decode(e),a=i.version;if(o.Array(t)){if(!(t=t.filter(e=>a===e.wif).pop()))throw Error("Unknown network version")}else if(a!==(t=t||n.bitcoin).wif)throw Error("Invalid network version");return r(i.privateKey,{compressed:i.compressed,network:t})}function p(t){let i;o.typeforce(l,t),void 0===t&&(t={});let n=t.rng||a;do i=n(32),o.typeforce(o.Buffer256bit,i);while(!e.isPrivate(i));return r(i,t)}(0,u.testEcc)(e);class d{__D;__Q;compressed;network;lowR;constructor(t,r,o){this.__D=t,this.__Q=r,this.lowR=!1,void 0===o&&(o={}),this.compressed=void 0===o.compressed||o.compressed,this.network=o.network||n.bitcoin,void 0!==r&&(this.__Q=i.from(e.pointCompress(r,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){let t=e.pointFromScalar(this.__D,this.compressed);this.__Q=i.from(t)}return this.__Q}toWIF(){if(!this.__D)throw Error("Missing private key");return s.encode(this.network.wif,this.__D,this.compressed)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}sign(t,r){if(!this.__D)throw Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return i.from(e.sign(t,this.__D));{let n=e.sign(t,this.__D),o=i.alloc(32,0),a=0;for(;n[0]>127;)a++,o.writeUIntLE(a,0,6),n=e.sign(t,this.__D,o);return i.from(n)}}signSchnorr(t){if(!this.privateKey)throw Error("Missing private key");if(!e.signSchnorr)throw Error("signSchnorr not supported by ecc library");return i.from(e.signSchnorr(t,this.privateKey))}verify(t,r){return e.verify(t,this.publicKey,r)}verifySchnorr(t,r){if(!e.verifySchnorr)throw Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),r)}tweakFromPublicKey(t){let r=c(this.publicKey),n=e.xOnlyPointAddTweak(r,t);if(!n||null===n.xOnlyPubkey)throw Error("Cannot tweak public key!");let o=i.from([0===n.parity?2:3]);return f(i.concat([o,n.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(t){let n=3===this.publicKey[0]||4===this.publicKey[0]&&(1&this.publicKey[64])==1,o=n?e.privateNegate(this.privateKey):this.privateKey,a=e.privateAdd(o,t);if(!a)throw Error("Invalid tweaked private key!");return r(i.from(a),{network:this.network,compressed:this.compressed})}}return{isPoint:t,fromPrivateKey:r,fromPublicKey:f,fromWIF:h,makeRandom:p}}t.ECPairFactory=f},45217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networks=t.ECPairFactory=t.default=void 0;var i=r(86428);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.ECPairFactory}}),Object.defineProperty(t,"ECPairFactory",{enumerable:!0,get:function(){return i.ECPairFactory}}),Object.defineProperty(t,"networks",{enumerable:!0,get:function(){return i.networks}})},14644:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.bitcoin=void 0,t.bitcoin={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.testnet={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},25049:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testEcc=void 0;let n=e=>i.from(e,"hex");function o(e){a(e.isPoint(n("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),a(!e.isPoint(n("030000000000000000000000000000000000000000000000000000000000000005"))),a(e.isPrivate(n("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),a(e.isPrivate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),a(!e.isPrivate(n("0000000000000000000000000000000000000000000000000000000000000000"))),a(!e.isPrivate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),a(!e.isPrivate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),a(i.from(e.privateAdd(n("0000000000000000000000000000000000000000000000000000000000000001"),n("0000000000000000000000000000000000000000000000000000000000000000"))).equals(n("0000000000000000000000000000000000000000000000000000000000000001"))),a(null===e.privateAdd(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),n("0000000000000000000000000000000000000000000000000000000000000003"))),a(i.from(e.privateAdd(n("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),n("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(n("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),a(i.from(e.privateNegate(n("0000000000000000000000000000000000000000000000000000000000000001"))).equals(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),a(i.from(e.privateNegate(n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(n("0000000000000000000000000000000000000000000000000000000000000003"))),a(i.from(e.privateNegate(n("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(n("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),a(i.from(e.pointCompress(n("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(n("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),a(i.from(e.pointCompress(n("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(n("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),a(i.from(e.pointCompress(n("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(n("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),a(i.from(e.pointCompress(n("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(n("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),a(i.from(e.pointFromScalar(n("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(n("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),a(null===e.xOnlyPointAddTweak(n("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(n("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),n("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));a(i.from(t.xOnlyPubkey).equals(n("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(n("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),n("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),a(i.from(t.xOnlyPubkey).equals(n("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===t.parity),a(i.from(e.sign(n("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),n("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(n("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),a(e.verify(n("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),n("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),n("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&a(i.from(e.signSchnorr(n("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),n("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),n("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(n("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&a(e.verifySchnorr(n("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),n("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),n("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}function a(e){if(!e)throw Error("ecc library invalid")}t.testEcc=o},4844:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybe=t.Boolean=t.Array=t.Buffer256bit=t.Network=t.typeforce=void 0,t.typeforce=r(2401),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.maybe=t.typeforce.maybe},86266:function(e,t,r){"use strict";var i=t;i.version=r(18597).i8,i.utils=r(80953),i.rand=r(29931),i.curve=r(88254),i.curves=r(45427),i.ec=r(57954),i.eddsa=r(65980)},4918:function(e,t,r){"use strict";var i=r(13550),n=r(80953),o=n.getNAF,a=n.getJSF,s=n.assert;function u(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw Error("Not implemented")},u.prototype.validate=function(){throw Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r,i,n=e._getDoubles(),a=o(t,1,this._bitLength),u=(1<<n.step+1)-(n.step%2==0?2:1);u/=3;var l=[];for(r=0;r<a.length;r+=n.step){i=0;for(var c=r+n.step-1;c>=r;c--)i=(i<<1)+a[c];l.push(i)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),p=u;p>0;p--){for(r=0;r<l.length;r++)(i=l[r])===p?h=h.mixedAdd(n.points[r]):i===-p&&(h=h.mixedAdd(n.points[r].neg()));f=f.add(h)}return f.toP()},u.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=o(t,r,this._bitLength),u=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var c=0;l>=0&&0===a[l];l--)c++;if(l>=0&&c++,u=u.dblp(c),l<0)break;var f=a[l];s(0!==f),u="affine"===e.type?f>0?u.mixedAdd(n[f-1>>1]):u.mixedAdd(n[-f-1>>1].neg()):f>0?u.add(n[f-1>>1]):u.add(n[-f-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,r,i,n){var s,u,l,c=this._wnafT1,f=this._wnafT2,h=this._wnafT3,p=0;for(s=0;s<i;s++){var d=(l=t[s])._getNAFPoints(e);c[s]=d.wnd,f[s]=d.points}for(s=i-1;s>=1;s-=2){var g=s-1,b=s;if(1!==c[g]||1!==c[b]){h[g]=o(r[g],c[g],this._bitLength),h[b]=o(r[b],c[b],this._bitLength),p=Math.max(h[g].length,p),p=Math.max(h[b].length,p);continue}var y=[t[g],null,null,t[b]];0===t[g].y.cmp(t[b].y)?(y[1]=t[g].add(t[b]),y[2]=t[g].toJ().mixedAdd(t[b].neg())):0===t[g].y.cmp(t[b].y.redNeg())?(y[1]=t[g].toJ().mixedAdd(t[b]),y[2]=t[g].add(t[b].neg())):(y[1]=t[g].toJ().mixedAdd(t[b]),y[2]=t[g].toJ().mixedAdd(t[b].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[g],r[b]);for(u=0,p=Math.max(v[0].length,p),h[g]=Array(p),h[b]=Array(p);u<p;u++){var w=0|v[0][u],E=0|v[1][u];h[g][u]=m[(w+1)*3+(E+1)],h[b][u]=0,f[g]=y}}var _=this.jpoint(null,null,null),S=this._wnafT4;for(s=p;s>=0;s--){for(var I=0;s>=0;){var P=!0;for(u=0;u<i;u++)S[u]=0|h[u][s],0!==S[u]&&(P=!1);if(!P)break;I++,s--}if(s>=0&&I++,_=_.dblp(I),s<0)break;for(u=0;u<i;u++){var k=S[u];0!==k&&(k>0?l=f[u][k-1>>1]:k<0&&(l=f[u][-k-1>>1].neg()),_="affine"===l.type?_.mixedAdd(l):_.add(l))}}for(s=0;s<i;s++)f[s]=null;return n?_:_.toP()},u.BasePoint=l,l.prototype.eq=function(){throw Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},31138:function(e,t,r){"use strict";var i=r(80953),n=r(13550),o=r(35717),a=r(4918),s=i.assert;function u(e){this.twisted=(0|e.a)!=1,this.mOneA=this.twisted&&(0|e.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|e.c)==1}function l(e,t,r,i,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=o&&new n(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,!this.curve.extended||this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,a),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},u.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(!t)return this.point(this.zero,e);throw Error("invalid point")}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},o(l,a.BasePoint),u.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},u.prototype.point=function(e,t,r,i){return new l(this,e,t,r,i)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),a=o.redSub(r),s=i.redSub(t),u=n.redMul(a),l=o.redMul(s),c=n.redMul(s),f=a.redMul(o);return this.curve.point(u,l,f,c)},l.prototype._projDbl=function(){var e,t,r,i,n,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var l=(i=this.curve._mulA(s)).redAdd(u);this.zOne?(e=a.redSub(s).redSub(u).redMul(l.redSub(this.curve.two)),t=l.redMul(i.redSub(u)),r=l.redSqr().redSub(l).redSub(l)):(n=this.z.redSqr(),o=l.redSub(n).redISub(n),e=a.redSub(s).redISub(u).redMul(o),t=l.redMul(i.redSub(u)),r=l.redMul(o))}else i=s.redAdd(u),n=this.curve._mulC(this.z).redSqr(),o=i.redSub(n).redSub(n),e=this.curve._mulC(a.redISub(i)).redMul(o),t=this.curve._mulC(i).redMul(s.redISub(u)),r=i.redMul(o);return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=n.redSub(i),s=n.redAdd(i),u=r.redAdd(t),l=o.redMul(a),c=s.redMul(u),f=o.redMul(u),h=a.redMul(s);return this.curve.point(l,c,h,f)},l.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=n.redSub(s),l=n.redAdd(s),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=i.redMul(u).redMul(c);return this.curve.twisted?(t=i.redMul(l).redMul(a.redSub(this.curve._mulA(o))),r=u.redMul(l)):(t=i.redMul(l).redMul(a.redSub(o)),r=this.curve._mulC(u).redMul(l)),this.curve.point(f,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},88254:function(e,t,r){"use strict";var i=t;i.base=r(4918),i.short=r(6673),i.mont=r(22881),i.edwards=r(31138)},22881:function(e,t,r){"use strict";var i=r(13550),n=r(35717),o=r(4918),a=r(80953);function s(e){o.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(u,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new u(this,e,t)},s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},u.prototype.add=function(){throw Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=n.redMul(i),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=this,o=[];0!==t.cmpn(0);t.iushrn(1))o.push(t.andln(1));for(var a=o.length-1;a>=0;a--)0===o[a]?(r=r.diffAdd(i,n),i=i.dbl()):(i=r.diffAdd(i,n),r=r.dbl());return i},u.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:function(e,t,r){"use strict";var i=r(80953),n=r(13550),o=r(35717),a=r(4918),s=i.assert;function u(e){a.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function l(e,t,r,i){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(e,t,r,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var t,r,i,o=this._getEndoRoots(this.p);t=(t=0>o[0].cmp(o[1])?o[0]:o[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?r=a[0]:(r=a[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return i=e.basis?e.basis.map(function(e){return{a:new n(e.a,16),b:new n(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:i}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),o=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,i,o,a,s,u,l,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,p=this.n.clone(),d=new n(1),g=new n(0),b=new n(0),y=new n(1),m=0;0!==h.cmpn(0);){var v=p.div(h);l=p.sub(v.mul(h)),c=b.sub(v.mul(d));var w=y.sub(v.mul(g));if(!i&&0>l.cmp(f))t=u.neg(),r=d,i=l.neg(),o=c;else if(i&&2==++m)break;u=l,p=h,h=l,b=d,d=c,y=g,g=w}a=l.neg(),s=c;var E=i.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(E)>=0&&(a=t,s=r),i.negative&&(i=i.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=n.mul(r.a),s=o.mul(i.a),u=n.mul(r.b),l=o.mul(i.b);return{k1:e.sub(a).sub(s),k2:u.add(l).neg()}},u.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[2*o]=s,i[2*o+1]=u,n[2*o]=a.k1,n[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,i,n,2*o,r),c=0;c<2*o;c++)i[c]=null,n[c]=null;return l},o(l,a.BasePoint),u.prototype.point=function(e,t,r){return new l(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return(e=new n(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},l.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(c,a.BasePoint),u.prototype.jpoint=function(e,t,r){return new c(this,e,t,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=i.redSub(n),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),f=i.redMul(l),h=u.redSqr().redIAdd(c).redISub(f).redISub(f),p=u.redMul(f.redISub(h)).redISub(o.redMul(c)),d=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,p,d)},c.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(i),s=n.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=r.redMul(u),f=s.redSqr().redIAdd(l).redISub(c).redISub(c),h=s.redMul(c.redISub(f)).redISub(n.redMul(l)),p=this.z.redMul(a);return this.curve.jpoint(f,h,p)},c.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(t=0;t<e;t++){var c=o.redSqr(),f=l.redSqr(),h=f.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(u)),d=o.redMul(f),g=p.redSqr().redISub(d.redAdd(d)),b=d.redISub(g),y=p.redMul(b);y=y.redIAdd(y).redISub(h);var m=l.redMul(s);t+1<e&&(u=u.redMul(h)),o=g,s=m,l=y}return this.curve.jpoint(o,l.redMul(n),s)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),p=this.x.redAdd(f).redSqr().redISub(c).redISub(h);p=p.redIAdd(p);var d=c.redAdd(c).redIAdd(c),g=d.redSqr(),b=h.redIAdd(h);b=(b=b.redIAdd(b)).redIAdd(b),e=g.redISub(p).redISub(p),t=d.redMul(p.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},c.prototype._threeDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),p=this.x.redSub(c).redMul(this.x.redAdd(c));p=p.redAdd(p).redIAdd(p);var d=h.redIAdd(h),g=(d=d.redIAdd(d)).redAdd(d);e=p.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var b=f.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=p.redMul(d.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},c.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=s.redMul(f).redISub(h),d=r.redAdd(r).redMul(i);return this.curve.jpoint(c,p,d)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=i.redIAdd(i);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=n.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(s).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,h,p)},c.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},c.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},c.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:function(e,t,r){"use strict";var i,n=t,o=r(33715),a=r(88254),s=r(80953).assert;function u(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new u(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=u,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(91037)}catch(c){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},57954:function(e,t,r){"use strict";var i=r(13550),n=r(2156),o=r(80953),a=r(45427),s=r(29931),u=o.assert,l=r(31251),c=r(90611);function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(u(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new l(this,e)},f.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new i(2));;){var a=new i(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},f.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new i(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),l=new n({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new i(1)),h=0;;h++){var p=o.k?o.k(h):new i(l.generate(this.n.byteLength()));if(!(0>=(p=this._truncateToN(p,!0)).cmpn(1)||p.cmp(f)>=0)){var d=this.g.mul(p);if(!d.isInfinity()){var g=d.getX(),b=g.umod(this.n);if(0!==b.cmpn(0)){var y=p.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var m=(d.getY().isOdd()?1:0)|(0!==g.cmp(b)?2:0);return o.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),m^=1),new c({r:b,s:y,recoveryParam:m})}}}}}},f.prototype.verify=function(e,t,r,n){e=this._truncateToN(new i(e,16)),r=this.keyFromPublic(r,n);var o,a=(t=new c(t,"hex")).r,s=t.s;if(0>a.cmpn(1)||a.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),l=u.mul(e).umod(this.n),f=u.mul(a).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(l,r.getPublic(),f)).isInfinity()&&o.eqXToP(a):!(o=this.g.mulAdd(l,r.getPublic(),f)).isInfinity()&&0===o.getX().umod(this.n).cmp(a)},f.prototype.recoverPubKey=function(e,t,r,n){u((3&r)===r,"The recovery param is more than two bits"),t=new c(t,n);var o=this.n,a=new i(e),s=t.r,l=t.s,f=1&r,h=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw Error("Unable to find sencond key candinate");s=h?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var p=t.r.invm(o),d=o.sub(a).mul(p).umod(o),g=l.mul(p).umod(o);return this.g.mulAdd(d,s,g)},f.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new c(t,i)).recoveryParam)return t.recoveryParam;for(var n,o=0;o<4;o++){try{n=this.recoverPubKey(e,t,o)}catch(a){continue}if(n.eq(r))return o}throw Error("Unable to find valid recovery factor")}},31251:function(e,t,r){"use strict";var i=r(13550),n=r(80953).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&n(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:function(e,t,r){"use strict";var i=r(13550),n=r(80953),o=n.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function u(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,o=0,a=t.place;o<i;o++,a++)n<<=8,n|=e[a],n>>>=0;return!(n<=127)&&(t.place=a,n)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function c(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}e.exports=a,a.prototype._importDER=function(e,t){e=n.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=u(e,r);if(!1===o||o+r.place!==e.length||2!==e[r.place++])return!1;var a=u(e,r);if(!1===a)return!1;var l=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var c=u(e,r);if(!1===c||e.length!==c+r.place)return!1;var f=e.slice(r.place,c+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new i(l),this.s=new i(f),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];c(i,t.length),(i=i.concat(t)).push(2),c(i,r.length);var o=i.concat(r),a=[48];return c(a,o.length),a=a.concat(o),n.encode(a,e)}},65980:function(e,t,r){"use strict";var i=r(33715),n=r(45427),o=r(80953),a=o.assert,s=o.parseBytes,u=r(79087),l=r(23622);function c(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof c))return new c(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=c,c.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),o=this.encodePoint(n),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:u,Rencoded:o})},c.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(o)},c.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},c.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},c.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},c.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},c.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=(128&e[t])!=0,n=o.intFromLE(r);return this.curve.pointFromY(n,i)},c.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(e){return o.intFromLE(e)},c.prototype.isPoint=function(e){return e instanceof this.pointClass}},79087:function(e,t,r){"use strict";var i=r(80953),n=i.assert,o=i.parseBytes,a=i.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},s.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=s},23622:function(e,t,r){"use strict";var i=r(13550),n=r(80953),o=n.assert,a=n.cachedProperty,s=n.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},91037:function(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:function(e,t,r){"use strict";var i=t,n=r(13550),o=r(54114),a=r(34504);function s(e,t,r){var i=Array(Math.max(e.bitLength(),r)+1);i.fill(0);for(var n=1<<t+1,o=e.clone(),a=0;a<i.length;a++){var s,u=o.andln(n-1);o.isOdd()?(s=u>(n>>1)-1?(n>>1)-u:u,o.isubn(s)):s=0,i[a]=s,o.iushrn(1)}return i}function u(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i=0,n=0;e.cmpn(-i)>0||t.cmpn(-n)>0;){var o,a,s,u=e.andln(3)+i&3,l=t.andln(3)+n&3;3===u&&(u=-1),3===l&&(l=-1),a=(1&u)==0?0:(3==(o=e.andln(7)+i&7)||5===o)&&2===l?-u:u,r[0].push(a),s=(1&l)==0?0:(3==(o=t.andln(7)+n&7)||5===o)&&2===u?-l:l,r[1].push(s),2*i===a+1&&(i=1-i),2*n===s+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r}function l(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}}function c(e){return"string"==typeof e?i.toArray(e,"hex"):e}function f(e){return new n(e,"hex","le")}i.assert=o,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=s,i.getJSF=u,i.cachedProperty=l,i.parseBytes=c,i.intFromLE=f},62378:function(e){"use strict";e.exports=function(e){for(var t=[],r=e.length,i=0;i<r;i++){var n=e.charCodeAt(i);if(n>=55296&&n<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(n=(n-55296)*1024+o-56320+65536,i+=1)}if(n<128){t.push(n);continue}if(n<2048){t.push(n>>6|192),t.push(63&n|128);continue}if(n<55296||n>=57344&&n<65536){t.push(n>>12|224),t.push(n>>6&63|128),t.push(63&n|128);continue}if(n>=65536&&n<=1114111){t.push(n>>18|240),t.push(n>>12&63|128),t.push(n>>6&63|128),t.push(63&n|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}},3349:function(e,t,r){"use strict";var i=r(89509).Buffer,n=r(88473).Transform;function o(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw TypeError(t+" must be a string or a buffer")}function a(e){n.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(35717)(a,n),a.prototype._transform=function(e,t,r){var i=null;try{this.update(e,t)}catch(n){i=n}r(i)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},a.prototype.update=function(e,t){if(o(e,"Data"),this._finalized)throw Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var s=0,u=8*e.length;u>0;++s)this._length[s]+=u,(u=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*u);return this},a.prototype._update=function(){throw Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},a.prototype._digest=function(){throw Error("_digest is not implemented")},e.exports=a},33715:function(e,t,r){var i=t;i.utils=r(26436),i.common=r(95772),i.sha=r(89041),i.ripemd=r(12949),i.hmac=r(52344),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},95772:function(e,t,r){"use strict";var i=r(26436),n=r(54114);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(o=8,i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0;o<this.padLength;o++)i[n++]=0;return i}},52344:function(e,t,r){"use strict";var i=r(26436),n=r(54114);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},12949:function(e,t,r){"use strict";var i=r(26436),n=r(95772),o=i.rotl32,a=i.sum32,s=i.sum32_3,u=i.sum32_4,l=n.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(c,l),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],l=this.h[3],c=this.h[4],m=r,v=i,w=n,E=l,_=c,S=0;S<80;S++){var I=a(o(u(r,f(S,i,n,l),e[d[S]+t],h(S)),b[S]),c);r=c,c=l,l=o(n,10),n=i,i=I,I=a(o(u(m,f(79-S,v,w,E),e[g[S]+t],p(S)),y[S]),_),m=_,_=E,E=o(w,10),w=v,v=I}I=s(this.h[1],n,E),this.h[1]=s(this.h[2],l,_),this.h[2]=s(this.h[3],c,m),this.h[3]=s(this.h[4],r,v),this.h[4]=s(this.h[0],i,w),this.h[0]=I},c.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:function(e,t,r){"use strict";t.sha1=r(84761),t.sha224=r(10799),t.sha256=r(89344),t.sha384=r(80772),t.sha512=r(45900)},84761:function(e,t,r){"use strict";var i=r(26436),n=r(95772),o=r(37038),a=i.rotl32,s=i.sum32,u=i.sum32_5,l=o.ft_1,c=n.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}i.inherits(h,c),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=a(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],c=this.h[2],h=this.h[3],p=this.h[4];for(i=0;i<r.length;i++){var d=~~(i/20),g=u(a(n,5),l(d,o,c,h),p,r[i],f[d]);p=h,h=c,c=a(o,30),o=n,n=g}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],h),this.h[4]=s(this.h[4],p)},h.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},10799:function(e,t,r){"use strict";var i=r(26436),n=r(89344);function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,n),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},89344:function(e,t,r){"use strict";var i=r(26436),n=r(95772),o=r(37038),a=r(54114),s=i.sum32,u=i.sum32_4,l=i.sum32_5,c=o.ch32,f=o.maj32,h=o.s0_256,p=o.s1_256,d=o.g0_256,g=o.g1_256,b=n.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=Array(64)}i.inherits(m,b),e.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=u(g(r[i-2]),r[i-7],d(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],b=this.h[2],y=this.h[3],m=this.h[4],v=this.h[5],w=this.h[6],E=this.h[7];for(a(this.k.length===r.length),i=0;i<r.length;i++){var _=l(E,p(m),c(m,v,w),this.k[i],r[i]),S=s(h(n),f(n,o,b));E=w,w=v,v=m,m=s(y,_),y=b,b=o,o=n,n=s(_,S)}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],b),this.h[3]=s(this.h[3],y),this.h[4]=s(this.h[4],m),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],E)},m.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},80772:function(e,t,r){"use strict";var i=r(26436),n=r(45900);function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,n),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},45900:function(e,t,r){"use strict";var i=r(26436),n=r(95772),o=r(54114),a=i.rotr64_hi,s=i.rotr64_lo,u=i.shr64_hi,l=i.shr64_lo,c=i.sum64,f=i.sum64_hi,h=i.sum64_lo,p=i.sum64_4_hi,d=i.sum64_4_lo,g=i.sum64_5_hi,b=i.sum64_5_lo,y=n.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=Array(160)}function w(e,t,r,i,n){var o=e&r^~e&n;return o<0&&(o+=4294967296),o}function E(e,t,r,i,n,o){var a=t&i^~t&o;return a<0&&(a+=4294967296),a}function _(e,t,r,i,n){var o=e&r^e&n^r&n;return o<0&&(o+=4294967296),o}function S(e,t,r,i,n,o){var a=t&i^t&o^i&o;return a<0&&(a+=4294967296),a}function I(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function O(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function N(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}i.inherits(v,y),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=x(r[i-4],r[i-3]),o=N(r[i-4],r[i-3]),a=r[i-14],s=r[i-13],u=O(r[i-30],r[i-29]),l=A(r[i-30],r[i-29]),c=r[i-32],f=r[i-31];r[i]=p(n,o,a,s,u,l,c,f),r[i+1]=d(n,o,a,s,u,l,c,f)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],p=this.h[6],d=this.h[7],y=this.h[8],m=this.h[9],v=this.h[10],O=this.h[11],A=this.h[12],x=this.h[13],N=this.h[14],R=this.h[15];o(this.k.length===r.length);for(var B=0;B<r.length;B+=2){var C=N,U=R,M=k(y,m),j=T(y,m),L=w(y,m,v,O,A,x),K=E(y,m,v,O,A,x),D=this.k[B],H=this.k[B+1],z=r[B],F=r[B+1],V=g(C,U,M,j,L,K,D,H,z,F),q=b(C,U,M,j,L,K,D,H,z,F);C=I(i,n),U=P(i,n),M=_(i,n,a,s,u,l),j=S(i,n,a,s,u,l);var W=f(C,U,M,j),G=h(C,U,M,j);N=A,R=x,A=v,x=O,v=y,O=m,y=f(p,d,V,q),m=h(d,d,V,q),p=u,d=l,u=a,l=s,a=i,s=n,i=f(V,q,W,G),n=h(V,q,W,G)}c(this.h,0,i,n),c(this.h,2,a,s),c(this.h,4,u,l),c(this.h,6,p,d),c(this.h,8,y,m),c(this.h,10,v,O),c(this.h,12,A,x),c(this.h,14,N,R)},v.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},37038:function(e,t,r){"use strict";var i=r(26436).rotr32;function n(e,t,r,i){return 0===e?o(t,r,i):1===e||3===e?s(t,r,i):2===e?a(t,r,i):void 0}function o(e,t,r){return e&t^~e&r}function a(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}function u(e){return i(e,2)^i(e,13)^i(e,22)}function l(e){return i(e,6)^i(e,11)^i(e,25)}function c(e){return i(e,7)^i(e,18)^e>>>3}function f(e){return i(e,17)^i(e,19)^e>>>10}t.ft_1=n,t.ch32=o,t.maj32=a,t.p32=s,t.s0_256=u,t.s1_256=l,t.g0_256=c,t.g1_256=f},26436:function(e,t,r){"use strict";var i=r(54114),n=r(35717);function o(e,t){return(64512&e.charCodeAt(t))==55296&&!(t<0)&&!(t+1>=e.length)&&(64512&e.charCodeAt(t+1))==56320}function a(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e){if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=63&a|128):o(e,n)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=63&a|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=63&a|128)}}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r}function s(e){for(var t="",r=0;r<e.length;r++)t+=c(e[r].toString(16));return t}function u(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function l(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];"little"===t&&(n=u(n)),r+=f(n.toString(16))}return r}function c(e){return 1===e.length?"0"+e:e}function f(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;if(2===e.length)return"000000"+e;if(1===e.length)return"0000000"+e;else return e}function h(e,t,r,n){var o,a=r-t;i(a%4==0);for(var s=Array(a/4),u=0,l=t;u<s.length;u++,l+=4)o="big"===n?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[u]=o>>>0;return s}function p(e,t){for(var r=Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var o=e[i];"big"===t?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=255&o):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=255&o)}return r}function d(e,t){return e>>>t|e<<32-t}function g(e,t){return e<<t|e>>>32-t}function b(e,t){return e+t>>>0}function y(e,t,r){return e+t+r>>>0}function m(e,t,r,i){return e+t+r+i>>>0}function v(e,t,r,i,n){return e+t+r+i+n>>>0}function w(e,t,r,i){var n=e[t],o=i+e[t+1]>>>0,a=(o<i?1:0)+r+n;e[t]=a>>>0,e[t+1]=o}function E(e,t,r,i){return(t+i>>>0<t?1:0)+e+r>>>0}function _(e,t,r,i){return t+i>>>0}function S(e,t,r,i,n,o,a,s){var u,l=t;return u=0+((l=l+i>>>0)<t?1:0),u+=(l=l+o>>>0)<o?1:0,e+r+n+a+(u+=(l=l+s>>>0)<s?1:0)>>>0}function I(e,t,r,i,n,o,a,s){return t+i+o+s>>>0}function P(e,t,r,i,n,o,a,s,u,l){var c,f=t;return c=0+((f=f+i>>>0)<t?1:0),c+=(f=f+o>>>0)<o?1:0,c+=(f=f+s>>>0)<s?1:0,e+r+n+a+u+(c+=(f=f+l>>>0)<l?1:0)>>>0}function k(e,t,r,i,n,o,a,s,u,l){return t+i+o+s+l>>>0}function T(e,t,r){return(t<<32-r|e>>>r)>>>0}function O(e,t,r){return(e<<32-r|t>>>r)>>>0}function A(e,t,r){return e>>>r}function x(e,t,r){return(e<<32-r|t>>>r)>>>0}t.inherits=n,t.toArray=a,t.toHex=s,t.htonl=u,t.toHex32=l,t.zero2=c,t.zero8=f,t.join32=h,t.split32=p,t.rotr32=d,t.rotl32=g,t.sum32=b,t.sum32_3=y,t.sum32_4=m,t.sum32_5=v,t.sum64=w,t.sum64_hi=E,t.sum64_lo=_,t.sum64_4_hi=S,t.sum64_4_lo=I,t.sum64_5_hi=P,t.sum64_5_lo=k,t.rotr64_hi=T,t.rotr64_lo=O,t.shr64_hi=A,t.shr64_lo=x},2156:function(e,t,r){"use strict";var i=r(33715),n=r(34504),o=r(54114);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),r=n.toArray(e.nonce,e.nonceEnc||"hex"),i=n.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}e.exports=a,a.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=n.toArray(e,t),r=n.toArray(r,i),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(r),this._reseed++,n.encode(a,t)}},35717:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},87562:function(e,t,r){"use strict";var i,n,o,a,s=r(21876).Buffer,u=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptType=t.isConfidential=t.decodeType=t.getNetwork=t.toOutputScript=t.fromOutputScript=t.toConfidential=t.toBlech32=t.toBech32=t.toBase58Check=t.fromConfidential=t.fromBlech32=t.fromBech32=t.fromBase58Check=t.ScriptType=t.AddressType=void 0;let f=c(r(74943)),h=c(r(82422)),p=c(r(40081)),d=c(r(5)),g=r(93726),b=r(27715),y=c(r(58334)),m=r(53418),{typeforce:v}=d,w=40,E=2,_=16,S=1,I=80;function P(e,t){let r=e.slice(2);if(r.length<E||r.length>w)throw TypeError("Invalid program length for segwit address");let i=e[0]-I;if(i<S||i>_)throw TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw TypeError("Invalid script for segwit address");return R(r,i,t.bech32)}function k(e){return e>=4}function T(e){let t=y.decode(e);if(t.length<21)throw TypeError(e+" is too short");if(t.length>21)throw TypeError(e+" is too long");let r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}function O(e){let t,r;try{t=b.bech32.decode(e)}catch(i){}if(t){if(0!==(r=t.words[0]))throw TypeError(e+" uses wrong encoding")}else if(0===(r=(t=b.bech32m.decode(e)).words[0]))throw TypeError(e+" uses wrong encoding");let n=b.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:s.from(n)}}function A(e){let t;try{t=g.Blech32Address.fromString(e,g.BLECH32)}catch{t=g.Blech32Address.fromString(e,g.BLECH32M)}let r=s.from(t.blindingPublicKey,"hex"),i=s.from(t.witness,"hex"),n=s.concat([s.from([t.witnessVersion?t.witnessVersion+I:t.witnessVersion,i.length]),i]);return{version:t.witnessVersion,pubkey:r,data:n}}function x(e){let t=L(e);return e.startsWith(t.blech32)?D(e,t):K(e,t)}function N(e,t){v(d.tuple(d.Hash160bit,d.UInt8),arguments);let r=s.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),y.encode(r)}function R(e,t,r){let i=b.bech32.toWords(e);return i.unshift(t),0===t?b.bech32.encode(r,i):b.bech32m.encode(r,i)}function B(e,t,r,i){return g.Blech32Address.from(e.slice(2).toString("hex"),t.toString("hex"),r,i).address}function C(e,t){let r=L(e);return e.startsWith(r.bech32)?z(e,t,r):H(e,t,r)}function U(e,t){t=t||f.liquid;try{return h.p2pkh({output:e,network:t}).address}catch(r){}try{return h.p2sh({output:e,network:t}).address}catch(i){}try{return h.p2wpkh({output:e,network:t}).address}catch(n){}try{return h.p2wsh({output:e,network:t}).address}catch(o){}try{return P(e,t)}catch(a){}throw Error(p.toASM(e)+" has no matching Address")}function M(e,t){let r,i,n;t=t||L(e);try{r=T(e)}catch(o){}if(r){if(r.version===t.pubKeyHash)return h.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return h.p2sh({hash:r.hash}).output}else{try{i=O(e)}catch(a){}if(i){if(i.prefix!==t.bech32)throw Error(e+" has an invalid prefix");if(0===i.version){if(20===i.data.length)return h.p2wpkh({hash:i.data}).output;if(32===i.data.length)return h.p2wsh({hash:i.data}).output}else if(i.version>=S&&i.version<=_&&i.data.length>=E&&i.data.length<=w)return p.compile([i.version+I,i.data])}else{try{n=x(e)}catch(s){}if(n)return M(n.unconfidentialAddress,t)}}throw Error(e+" has no matching Script")}function j(e,t){if(t.startsWith(e.blech32)||t.startsWith(e.bech32))return!0;try{let r=y.decode(t),i=r.readUInt8(0);if(i===e.confidentialPrefix||i===e.pubKeyHash||i===e.scriptHash)return!0}catch{}return!1}function L(e){let t=[f.liquid,f.regtest,f.testnet];for(let r of t)if(j(r,e))return r;throw Error(e+" has an invalid prefix")}function K(e,t){let r=y.decode(e),i=r.readUInt8(1);if(i!==t.pubKeyHash&&i!==t.scriptHash)throw TypeError(e+"is not valid");if(r.length<55)throw TypeError(e+" is too short");if(r.length>55)throw TypeError(e+" is too long");let n=r.slice(2,35),o=r.slice(35,r.length),a=s.of(i),u=s.concat([a,o]),l=y.encode(u),c=M(l);return{blindingKey:n,unconfidentialAddress:l,scriptPubKey:c}}function D(e,t){let r=A(e),i=U(r.data,t);return{blindingKey:r.pubkey,unconfidentialAddress:i,scriptPubKey:r.data}}function H(e,t,r){let i=y.decode(e),n=i.readUInt8(0);if(21!==i.length||n!==r.pubKeyHash&&n!==r.scriptHash)throw TypeError(e+"is not valid");if(t.length<33)throw TypeError("Blinding key is too short");if(t.length>33)throw TypeError("Blinding key is too long");let o=s.alloc(2);o[0]=r.confidentialPrefix,o[1]=n;let a=s.concat([o,t,s.from(i.slice(1))]);return y.encode(a)}function z(e,t,r){let i=M(e,r),n=O(e).version;return B(i,t,r.blech32,n)}function F(e,t){return e.startsWith(t.blech32)}function V(e){let t=A(e);switch(t.data.length-2){case 20:return o.ConfidentialP2Wpkh;case 32:return o.ConfidentialP2Wsh;default:throw Error(`invalid blech32 program length: ${t.data.length-2}`)}}function q(e,t){return e.startsWith(t.bech32)}function W(e){let t=O(e);switch(t.data.length){case 20:return o.P2Wpkh;case 32:return o.P2Wsh;default:throw Error("invalid program length")}}function G(e,t){return Error(`unknown address prefix (${e}), need ${t.pubKeyHash} or ${t.scriptHash}`)}function X(e,t){let r=y.decode(e);if(r.readUInt8(0)===t.confidentialPrefix){let i=r.slice(35);if(20!==i.length)throw Error("decoded address is of unknown size");let n=r.readUInt8(1);switch(n){case t.pubKeyHash:return o.ConfidentialP2Pkh;case t.scriptHash:return o.ConfidentialP2Sh;default:throw G(n,t)}}let a=r.readUInt8(0),s=r.slice(1);if(20!==s.length)throw Error("decoded address is of unknown size");switch(a){case t.pubKeyHash:return o.P2Pkh;case t.scriptHash:return o.P2Sh;default:throw G(a,t)}}function Y(e,t){return(t=t||L(e),q(e,t))?W(e):F(e,t)?V(e):X(e,t)}function Z(e){let t=Y(e);return k(t)}function $(e){switch(e[0]){case m.OPS.OP_0:if(20===e.slice(2).length)return a.P2Wpkh;return a.P2Wsh;case m.OPS.OP_HASH160:return a.P2Sh;case m.OPS.OP_DUP:return a.P2Pkh;case m.OPS.OP_1:return a.P2Tr;default:throw Error("unknow script type")}}(i=o=t.AddressType||(t.AddressType={}))[i.P2Pkh=0]="P2Pkh",i[i.P2Sh=1]="P2Sh",i[i.P2Wpkh=2]="P2Wpkh",i[i.P2Wsh=3]="P2Wsh",i[i.ConfidentialP2Pkh=4]="ConfidentialP2Pkh",i[i.ConfidentialP2Sh=5]="ConfidentialP2Sh",i[i.ConfidentialP2Wpkh=6]="ConfidentialP2Wpkh",i[i.ConfidentialP2Wsh=7]="ConfidentialP2Wsh",(n=a=t.ScriptType||(t.ScriptType={}))[n.P2Pkh=0]="P2Pkh",n[n.P2Sh=1]="P2Sh",n[n.P2Wpkh=2]="P2Wpkh",n[n.P2Wsh=3]="P2Wsh",n[n.P2Tr=4]="P2Tr",t.fromBase58Check=T,t.fromBech32=O,t.fromBlech32=A,t.fromConfidential=x,t.toBase58Check=N,t.toBech32=R,t.toBlech32=B,t.toConfidential=C,t.fromOutputScript=U,t.toOutputScript=M,t.getNetwork=L,t.decodeType=Y,t.isConfidential=Z,t.getScriptType=$},63231:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AssetHash=void 0;class n{constructor(e,t){this.prefix=e,this.value=t}static fromHex(e){let t=i.from(e,"hex");return 32===t.length?this.fromBytes(t.reverse()):this.fromBytes(t)}static fromBytes(e){if(32===e.length)return new n(n.UNCONFIDENTIAL_PREFIX,e);let t=e.length>0?e[0]:0,r=e.length>1?e.slice(1):i.alloc(0);if(t!==n.UNCONFIDENTIAL_PREFIX&&!n.CONFIDENTIAL_PREFIXES.includes(t))throw Error("Invalid asset prefix");if(t===n.UNCONFIDENTIAL_PREFIX&&32!==r.length)throw Error("Invalid unconfidential asset length");if(n.CONFIDENTIAL_PREFIXES.includes(t)&&32!==r.length)throw Error("Invalid confidential asset length");return new n(t,r)}get hex(){return this.prefix===n.UNCONFIDENTIAL_PREFIX?o(this.value).toString("hex"):i.concat([i.of(this.prefix),this.value]).toString("hex")}get bytes(){return i.concat([i.of(this.prefix),this.value])}get bytesWithoutPrefix(){return this.value}}function o(e){return i.from(e).reverse()}t.AssetHash=n,n.UNCONFIDENTIAL_PREFIX=1,n.CONFIDENTIAL_PREFIXES=[10,11]},11737:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.findScriptPath=t.toHashTree=t.tapLeafHash=t.BIP341Factory=t.LEAF_VERSION_TAPSCRIPT=void 0;let n=r(64660),o=r(45217),a=r(42035);function s(e){return{taprootSignKey:b(e),taprootSignScriptStack:p(e),taprootOutputScript:h(e)}}function u(e){let r=e.version||t.LEAF_VERSION_TAPSCRIPT,o=i.from(e.scriptHex,"hex"),s=a.BufferWriter.withCapacity(1+(0,a.varSliceSize)(o));return s.writeUInt8(r),s.writeVarSlice(o),(0,n.taggedHash)("TapLeaf/elements",s.end())}function l(e,r=!1){switch(e.length){case 0:return{hash:i.alloc(32)};case 1:let o=e[0],a=o.version||t.LEAF_VERSION_TAPSCRIPT;if((1&a)!=0)throw Error("Invalid leaf version");return{hash:u(o),scriptHex:r?o.scriptHex:void 0};default:let s=Math.ceil(e.length/2),c=l(e.slice(0,s),r),f=l(e.slice(s),r),h=c.hash,p=f.hash;return c.hash.compare(f.hash)>0&&([h,p]=[p,h]),{left:c,right:f,hash:(0,n.taggedHash)("TapBranch/elements",i.concat([h,p]))}}}function c(e,t){if(e.left){if(e.left.hash.equals(t))return e.right?[e.right.hash]:[];let r=c(e.left,t);if(r.length)return e.right?r.concat([e.right.hash]):r}if(e.right){if(e.right.hash.equals(t))return e.left?[e.left.hash]:[];let i=c(e.right,t);if(i.length)return e.left?i.concat([e.left.hash]):i}return[]}function f(e,t,r){let o=e.slice(1,33),a=i.concat([o,t]),s=(0,n.taggedHash)("TapTweak/elements",a),u=r.xOnlyPointAddTweak(o,s);if(!u)throw Error("Invalid tweaked key");return u}function h(e){return(t,r)=>{let n=i.alloc(0);r&&(n=r.hash);let{xOnlyPubkey:o}=f(t,n,e);return i.concat([i.from([81,32]),o])}}function p(e){return(r,n,o,a)=>{let{parity:s}=f(r,o,e),u=i.of(n.version||t.LEAF_VERSION_TAPSCRIPT+s),l=i.concat([u,r.slice(1),...a]);return[i.from(n.scriptHex,"hex"),l]}}t.LEAF_VERSION_TAPSCRIPT=196,t.BIP341Factory=s,t.tapLeafHash=u,t.toHashTree=l,t.findScriptPath=c;let d=i.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140","hex"),g=i.from("0000000000000000000000000000000000000000000000000000000000000001","hex");function b(e){return(t,r)=>{let a=(0,o.ECPairFactory)(e).fromPrivateKey(r),s=2===a.publicKey[0]?a.privateKey:e.privateAdd(e.privateSub(d,r),g),u=(0,n.taggedHash)("TapTweak/elements",a.publicKey.slice(1,33)),l=e.privateAdd(s,u);if(null===l)throw Error("Invalid Tweak");let c=e.signSchnorr(t,l,i.alloc(32)),f=e.verifySchnorr(t,(0,o.ECPairFactory)(e).fromPrivateKey(i.from(l)).publicKey.slice(1),c);if(!f)throw Error("Invalid Signature");return i.from(c)}}},61188:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){if(e.length<8||e.length>72||48!==e[0]||e[1]!==e.length-2||2!==e[2])return!1;let t=e[3];if(0===t||5+t>=e.length||2!==e[4+t])return!1;let r=e[5+t];return 0!==r&&6+t+r===e.length&&!(128&e[4])&&(!(t>1)||0!==e[4]||!!(128&e[5]))&&!(128&e[t+6])&&(!(r>1)||0!==e[t+6]||!!(128&e[t+7]))}function o(e){if(e.length<8)throw Error("DER sequence length is too short");if(e.length>72)throw Error("DER sequence length is too long");if(48!==e[0])throw Error("Expected DER sequence");if(e[1]!==e.length-2)throw Error("DER sequence length is invalid");if(2!==e[2])throw Error("Expected DER integer");let t=e[3];if(0===t)throw Error("R length is zero");if(5+t>=e.length)throw Error("R length is too long");if(2!==e[4+t])throw Error("Expected DER integer (2)");let r=e[5+t];if(0===r)throw Error("S length is zero");if(6+t+r!==e.length)throw Error("S length is invalid");if(128&e[4])throw Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw Error("R value excessively padded");if(128&e[t+6])throw Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}function a(e,t){let r=e.length,n=t.length;if(0===r)throw Error("R length is zero");if(0===n)throw Error("S length is zero");if(r>33)throw Error("R length is too long");if(n>33)throw Error("S length is too long");if(128&e[0])throw Error("R value is negative");if(128&t[0])throw Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw Error("S value excessively padded");let o=i.allocUnsafe(6+r+n);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=n,t.decode=o,t.encode=a},42035:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varSliceSize=t.varuint=void 0;let s=a(r(5)),{typeforce:u}=s,l=a(r(57795));t.varuint=l;let c=33,f=9;function h(e,t){if("number"!=typeof e)throw Error("cannot write a non-number as a number");if(e<0)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("RangeError: value out of range");if(Math.floor(e)!==e)throw Error("value has a fractional component")}function p(e){let t=e.length;return l.encodingLength(t)+t}function d(e,t){let r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return h((i*=4294967296)+r,18446744073709552e3),i+r}function g(e,t,r){return h(t,18446744073709552e3),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}function b(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let i=0;i<e.length/2;i++)r=e[i],e[i]=e[t],e[t]=r,t--;return e}function y(e){let t=i.allocUnsafe(e.length);return e.copy(t),t}t.varSliceSize=p,t.readUInt64LE=d,t.writeUInt64LE=g,t.reverseBuffer=b,t.cloneBuffer=y;class m{constructor(e,t=0){this.buffer=e,this.offset=t,u(s.tuple(s.Buffer,s.UInt32),[e,t])}static withCapacity(e){return new m(i.alloc(e))}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=g(this.buffer,e,this.offset)}writeVarInt(e){l.encode(e,this.buffer,this.offset),this.offset+=l.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(e=>this.writeVarSlice(e))}writeConfidentialInFields(e){this.writeVarSlice(e.issuanceRangeProof||i.alloc(0)),this.writeVarSlice(e.inflationRangeProof||i.alloc(0)),this.writeVector(e.witness),this.writeVector(e.peginWitness||[])}writeConfidentialOutFields(e){this.writeVarSlice(e.surjectionProof||i.alloc(0)),this.writeVarSlice(e.rangeProof||i.alloc(0))}end(){if(this.buffer.length===this.offset)return this.buffer;throw Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=m;class v{constructor(e,t=0){this.buffer=e,this.offset=t,u(s.tuple(s.Buffer,s.UInt32),[e,t])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=d(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=l.decode(this.buffer,this.offset);return this.offset+=l.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw Error("Cannot read slice out of bounds");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}readConfidentialAsset(){let e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e?i.concat([t,this.readSlice(c-1)]):10===e||11===e?i.concat([t,this.readSlice(c-1)]):t}readConfidentialNonce(){let e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e?i.concat([t,this.readSlice(c-1)]):2===e||3===e?i.concat([t,this.readSlice(c-1)]):t}readConfidentialValue(){let e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e?i.concat([t,this.readSlice(f-1)]):8===e||9===e?i.concat([t,this.readSlice(c-1)]):t}readConfidentialInFields(){let e=this.readVarSlice(),t=this.readVarSlice(),r=this.readVector(),i=this.readVector();return{issuanceRangeProof:e,inflationRangeProof:t,witness:r,peginWitness:i}}readConfidentialOutFields(){let e=this.readVarSlice(),t=this.readVarSlice();return{surjectionProof:e,rangeProof:t}}readIssuance(){let e=this.readSlice(32),t=this.readSlice(32),r=this.readConfidentialValue(),i=this.readConfidentialValue();return{assetBlindingNonce:e,assetEntropy:t,assetAmount:r,tokenAmount:i}}}t.BufferReader=v},90947:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.satoshiToConfidentialValue=t.confidentialValueToSatoshi=t.Confidential=void 0;let s=a(r(64660)),u=r(32474),l=r(21426);class c{constructor(e){this.zkp=e}nonceHash(e,t){return s.sha256(this.zkp.ecdh(e,t))}valueBlindingFactor(e,t,r,i,n,o){let a=e.concat(t),s=e.length,u=r.concat(i),l=n.concat(o);return this.zkp.pedersen.blindGeneratorBlindSum(a,s,u,l)}valueCommitment(e,t,r){let{generator:i,pedersen:n}=this.zkp,o=i.parse(t),a=n.commit(r,e,o);return n.commitSerialize(a)}assetCommitment(e,t){let{generator:r}=this.zkp,i=r.generateBlinded(e,t);return r.serialize(i)}unblindOutputWithKey(e,t){let r=this.nonceHash(e.nonce,t);return this.unblindOutputWithNonce(e,r)}unblindOutputWithNonce(e,t){if(!e.rangeProof||0===e.rangeProof.length)throw Error("Missing rangeproof to rewind");let r=this.zkp,i=r.generator.parse(e.asset),{value:n,blindFactor:o,message:a}=r.rangeproof.rewind(e.value,e.rangeProof,t,i,e.script);return{value:n,asset:a.slice(0,32),valueBlindingFactor:o,assetBlindingFactor:a.slice(32)}}rangeProofInfo(e){let{rangeproof:t}=this.zkp,{exp:r,mantissa:i,minValue:n,maxValue:o}=t.info(e);return{minValue:parseInt(n,10),maxValue:parseInt(o,10),ctExp:r,ctBits:parseInt(i,10)}}rangeProofWithNonceHash(e,t,r,i,n,o,a,s,u,l,c){let f=this.nonceHash(t,r);return this.rangeProof(e,f,i,n,o,a,s,u,l,c)}rangeProofVerify(e,t,r,i){let{generator:n,pedersen:o,rangeproof:a}=this.zkp,s=n.parse(t),u=o.commitParse(e);return a.verify(u,r,s,i)}rangeProof(e,t,r,n,o,a,s,u,l,c){let{generator:f,pedersen:h,rangeproof:p}=this.zkp,d=f.generateBlinded(r,n),g=i.concat([r,n]),b=h.commitParse(a),y="0"===e?"0":u||"1",m=l||0,v=c||52;return p.sign(b,o,t,e,d,y,m,v,g,s)}surjectionProof(e,t,r,i,n){let{generator:o,surjectionproof:a}=this.zkp,s=o.generateBlinded(e,t),u=r.map((e,t)=>o.generateBlinded(e,i[t])),l=r.length>3?3:r.length,c=100,f=a.initialize(r,l,e,c,n),h=a.generate(f.proof,u,s,f.inputIndex,i[f.inputIndex],t);return a.serialize(h)}surjectionProofVerify(e,t,r,i,n){let{generator:o,surjectionproof:a}=this.zkp,s=e.map((e,r)=>o.generateBlinded(e,t[r])),u=o.generateBlinded(r,i),l=a.parse(n);return a.verify(l,s,u)}blindValueProof(e,t,r,i,n){let{generator:o,pedersen:a,rangeproof:s}=this.zkp,u=o.parse(r),l=a.commitParse(t);return s.sign(l,i,n,e,u,e,-1)}blindAssetProof(e,t,r){let{generator:i,surjectionproof:n}=this.zkp,o=1,a=100,s=n.initialize([e],o,e,a,u.ZERO),l=i.generate(e),c=i.parse(t),f=n.generate(s.proof,[l],c,s.inputIndex,u.ZERO,r);return n.serialize(f)}assetBlindProofVerify(e,t,r){let{generator:i,surjectionproof:n}=this.zkp,o=[i.generate(e)],a=i.parse(t),s=n.parse(r);return n.verify(s,o,a)}}function f(e){return l.ElementsValue.fromBytes(e).number}function h(e){return l.ElementsValue.fromNumber(e).bytes}t.Confidential=c,t.confidentialValueToSatoshi=f,t.satoshiToConfidentialValue=h},64660:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;let o=n(r(23482));function a(e){try{return(0,o.default)("rmd160").update(e).digest()}catch(t){return(0,o.default)("ripemd160").update(e).digest()}}function s(e){return(0,o.default)("sha1").update(e).digest()}function u(e){return(0,o.default)("sha256").update(e).digest()}function l(e){return a(u(e))}function c(e){return u(u(e))}t.ripemd160=a,t.sha1=s,t.sha256=u,t.hash160=l,t.hash256=c;let f=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapLeaf/elements","TapBranch/elements","TapSighash","TapSighash/elements","TapTweak","TapTweak/elements","KeyAgg list","KeyAgg coefficient"],h=Object.fromEntries(f.map(e=>{let t=u(i.from(e,"utf-8"));return[e,i.concat([t,t])]}));function p(e,t){return u(i.concat([h[e],t]))}t.taggedHash=p},75578:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.opcodes=t.bip341=t.issuance=t.script=t.payments=t.networks=t.crypto=t.address=t.confidential=void 0;let s=o(r(87562));t.address=s;let u=o(r(64660));t.crypto=u;let l=o(r(74943));t.networks=l;let c=o(r(82422));t.payments=c;let f=o(r(40081));t.script=f;let h=o(r(25221));t.issuance=h;let p=o(r(11737));t.bip341=p,t.confidential=o(r(90947));var d=r(53418);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return d.OPS}});var g=r(32474);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return g.Transaction}}),a(r(63231),t),a(r(21426),t),a(r(78552),t)},25221:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.amountWithPrecisionToSatoshis=t.calculateReissuanceToken=t.calculateAsset=t.issuanceEntropyFromInput=t.generateEntropy=t.isReissuance=t.newIssuance=t.hashContract=t.validateIssuanceContract=t.hasTokenAmount=void 0;let s=r(42035),u=a(r(64660)),l=r(6231),c=r(21426);function f(e){return!!e.tokenAmount&&e.tokenAmount.length>1}function h(e){let t=e.precision>=0&&e.precision<=8;return t}function p(e){if(!h(e))throw Error("Invalid asset contract");let t=Object.keys(e).sort(),r=t.reduce((t,r)=>({...t,[r]:e[r]}),{});return u.sha256(i.from(JSON.stringify(r))).slice().reverse()}function d(e,t,r){if(e<0)throw Error("Invalid asset amount");if(t<0)throw Error("Invalid token amount");let n=r?p(r):i.alloc(32),o={assetAmount:0===e?i.of(0):c.ElementsValue.fromNumber(e).bytes,tokenAmount:0===t?i.of(0):c.ElementsValue.fromNumber(t).bytes,assetBlindingNonce:i.alloc(32),assetEntropy:n};return o}function g(e){return!e.assetBlindingNonce.equals(i.alloc(32))}function b(e,t=i.alloc(32)){if(32!==e.txHash.length)throw Error("Invalid txHash length");let r=i.allocUnsafe(36),n=new s.BufferWriter(r,0);n.writeSlice(e.txHash),n.writeInt32(e.vout);let o=u.hash256(n.buffer),a=i.concat([o,t]);return(0,l.sha256Midstate)(a)}function y(e){if(!e.issuance)throw Error("input does not contain issuance data");return g(e.issuance)?e.issuance.assetEntropy:b({txHash:e.hash,vout:e.index},e.issuance.assetEntropy)}function m(e){if(32!==e.length)throw Error("Invalid entropy length");let t=i.alloc(32);return(0,l.sha256Midstate)(i.concat([e,t]))}function v(e,t=!1){if(32!==e.length)throw Error("Invalid entropy length");return(0,l.sha256Midstate)(i.concat([e,i.of(w(t)+1),i.alloc(31)]))}function w(e){return e?1:0}function E(e,t=8){return Math.pow(10,t)*e}t.hasTokenAmount=f,t.validateIssuanceContract=h,t.hashContract=p,t.newIssuance=d,t.isReissuance=g,t.generateEntropy=b,t.issuanceEntropyFromInput=y,t.calculateAsset=m,t.calculateReissuanceToken=v,t.amountWithPrecisionToSatoshis=E},74943:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.liquid=void 0;let n=e=>i.from(e,"hex").reverse(),o=n("00902a6b70c2ca83b5d9c815d96a0e2f4202179316970d14ea1847dae5b1ca21"),a=n("a771da8e52ee6ad581ed1e9a99825e5b3b7992225534eaa2ae23244fe26ab1c1"),s=n("1466275836220db2944ca059a3a10ef6fd2ea684b0688d2c379296888a206003");t.liquid={messagePrefix:"\x18Liquid Signed Message:\n",bech32:"ex",blech32:"lq",bip32:{public:76067358,private:76066276},pubKeyHash:57,scriptHash:39,wif:128,confidentialPrefix:12,assetHash:"6f0279e9ed041c3d710a9f57d0c02928416460c4b722ae3457a11eec381c526d",genesisBlockHash:s,name:"liquid"},t.regtest={messagePrefix:"\x18Liquid Signed Message:\n",bech32:"ert",blech32:"el",bip32:{public:70617039,private:70615956},pubKeyHash:235,scriptHash:75,wif:239,confidentialPrefix:4,assetHash:"5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225",genesisBlockHash:o,name:"regtest"},t.testnet={...t.regtest,bech32:"tex",blech32:"tlq",pubKeyHash:36,scriptHash:19,confidentialPrefix:23,assetHash:"144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49",genesisBlockHash:a,name:"testnet"}},53418:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;let r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_SUBSTR_LAZY:195,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_DETERMINISTICRANDOM:192,OP_CHECKSIGFROMSTACK:193,OP_CHECKSIGFROMSTACKVERIFY:194,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP2:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_SHA256INITIALIZE:196,OP_SHA256UPDATE:197,OP_SHA256FINALIZE:198,OP_INSPECTINPUTOUTPOINT:199,OP_INSPECTINPUTASSET:200,OP_INSPECTINPUTVALUE:201,OP_INSPECTINPUTSCRIPTPUBKEY:202,OP_INSPECTINPUTSEQUENCE:203,OP_INSPECTINPUTISSUANCE:204,OP_PUSHCURRENTINPUTINDEX:205,OP_INSPECTOUTPUTASSET:206,OP_INSPECTOUTPUTVALUE:207,OP_INSPECTOUTPUTNONCE:208,OP_INSPECTOUTPUTSCRIPTPUBKEY:209,OP_INSPECTVERSION:210,OP_INSPECTLOCKTIME:211,OP_INSPECTNUMINPUTS:212,OP_INSPECTNUMOUTPUTS:213,OP_TXWEIGHT:214,OP_ADD64:215,OP_SUB64:216,OP_MUL64:217,OP_DIV64:218,OP_NEG64:219,OP_LESSTHAN64:220,OP_LESSTHANOREQUAL64:221,OP_GREATERTHAN64:222,OP_GREATERTHANOREQUAL64:223,OP_SCRIPTNUMTOLE64:224,OP_LE64TOSCRIPTNUM:225,OP_LE32TOLE64:226,OP_ECMULSCALARVERIFY:227,OP_TWEAKVERIFY:228,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;let i={};for(let n of(t.REVERSE_OPS=i,Object.keys(r))){let o=r[n];i[o]=n}},25353:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;let a=r(74943),s=o(r(40081)),u=r(5),l=o(r(2922)),c=s.OPS;function f(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function h(e,t){if(!e.data&&!e.output)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.Buffer),data:u.typeforce.maybe(u.typeforce.arrayOf(u.typeforce.Buffer))},e);let r=e.network||a.liquid,i={name:"embed",network:r};if(l.prop(i,"output",()=>{if(e.data)return s.compile([c.OP_RETURN].concat(e.data))}),l.prop(i,"data",()=>{if(e.output)return s.decompile(e.output).slice(1)}),t.validate&&e.output){let n=s.decompile(e.output);if(n[0]!==c.OP_RETURN||!n.slice(1).every(u.typeforce.Buffer))throw TypeError("Output is invalid");if(e.data&&!f(e.data,i.data))throw TypeError("Data mismatch")}return Object.assign(i,e)}t.p2data=h},82422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;let i=r(25353);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return i.p2data}});let n=r(38589);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return n.p2ms}});let o=r(53006);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});let a=r(82642);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});let s=r(50848);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});let u=r(89130);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});let l=r(36376);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return l.p2wsh}})},2922:function(e,t){"use strict";function r(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})}function i(e){let t;return()=>void 0!==t?t:t=e()}Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=r,t.value=i},38589:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;let a=r(74943),s=o(r(40081)),u=r(5),l=o(r(2922)),c=s.OPS,f=c.OP_RESERVED;function h(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function p(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&void 0!==e.m)&&!e.signatures)throw TypeError("Not enough data");function r(e){return s.isCanonicalScriptSignature(e)||(t.allowIncomplete&&e===c.OP_0)!==void 0}t=Object.assign({validate:!0},t||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),m:u.typeforce.maybe(u.typeforce.Number),n:u.typeforce.maybe(u.typeforce.Number),output:u.typeforce.maybe(u.typeforce.Buffer),pubkeys:u.typeforce.maybe(u.typeforce.arrayOf(u.isPoint)),signatures:u.typeforce.maybe(u.typeforce.arrayOf(r)),input:u.typeforce.maybe(u.typeforce.Buffer)},e);let i=e.network||a.liquid,n={network:i},o=[],p=!1;function d(e){p||(p=!0,o=s.decompile(e),n.m=o[0]-f,n.n=o[o.length-2]-f,n.pubkeys=o.slice(1,-2))}if(l.prop(n,"output",()=>{if(e.m&&n.n&&e.pubkeys)return s.compile([].concat(f+e.m,e.pubkeys,f+n.n,c.OP_CHECKMULTISIG))}),l.prop(n,"m",()=>{if(n.output)return d(n.output),n.m}),l.prop(n,"n",()=>{if(n.pubkeys)return n.pubkeys.length}),l.prop(n,"pubkeys",()=>{if(e.output)return d(e.output),n.pubkeys}),l.prop(n,"signatures",()=>{if(e.input)return s.decompile(e.input).slice(1)}),l.prop(n,"input",()=>{if(e.signatures)return s.compile([c.OP_0].concat(e.signatures))}),l.prop(n,"witness",()=>{if(n.input)return[]}),l.prop(n,"name",()=>{if(n.m&&n.n)return`p2ms(${n.m} of ${n.n})`}),t.validate){if(e.output){if(d(e.output),!u.typeforce.Number(o[0])||!u.typeforce.Number(o[o.length-2])||o[o.length-1]!==c.OP_CHECKMULTISIG||n.m<=0||n.n>16||n.m>n.n||n.n!==o.length-3||!n.pubkeys.every(e=>(0,u.isPoint)(e)))throw TypeError("Output is invalid");if(void 0!==e.m&&e.m!==n.m)throw TypeError("m mismatch");if(void 0!==e.n&&e.n!==n.n)throw TypeError("n mismatch");if(e.pubkeys&&!h(e.pubkeys,n.pubkeys))throw TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw TypeError("Pubkey count mismatch");if(n.n=e.pubkeys.length,n.n<n.m)throw TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<n.m)throw TypeError("Not enough signatures provided");if(e.signatures.length>n.m)throw TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==c.OP_0)throw TypeError("Input is invalid");if(0===n.signatures.length||!n.signatures.every(r))throw TypeError("Input has invalid signature(s)");if(e.signatures&&!h(e.signatures,n.signatures))throw TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw TypeError("Signature count mismatch")}}return Object.assign(n,e)}t.p2ms=p},53006:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;let a=r(74943),s=o(r(40081)),u=r(5),l=o(r(2922)),c=s.OPS;function f(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.Buffer),pubkey:u.typeforce.maybe(u.isPoint),signature:u.typeforce.maybe(s.isCanonicalScriptSignature),input:u.typeforce.maybe(u.typeforce.Buffer)},e);let r=l.value(()=>s.decompile(e.input)),i=e.network||a.liquid,n={name:"p2pk",network:i};if(l.prop(n,"output",()=>{if(e.pubkey)return s.compile([e.pubkey,c.OP_CHECKSIG])}),l.prop(n,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),l.prop(n,"signature",()=>{if(e.input)return r()[0]}),l.prop(n,"input",()=>{if(e.signature)return s.compile([e.signature])}),l.prop(n,"witness",()=>{if(n.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==c.OP_CHECKSIG)throw TypeError("Output is invalid");if(!(0,u.isPoint)(n.pubkey))throw TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(n.pubkey))throw TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(n.input))throw TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(n.signature))throw TypeError("Input has invalid signature")}}return Object.assign(n,e)}t.p2pk=f},82642:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;let u=a(r(64660)),l=r(74943),c=a(r(40081)),f=r(5),h=a(r(2922)),p=s(r(58334)),d=c.OPS;function g(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,f.typeforce)({network:f.typeforce.maybe(f.typeforce.Object),address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(20)),output:f.typeforce.maybe(f.typeforce.BufferN(25)),pubkey:f.typeforce.maybe(f.isPoint),signature:f.typeforce.maybe(c.isCanonicalScriptSignature),input:f.typeforce.maybe(f.typeforce.Buffer),blindkey:f.typeforce.maybe(f.isPoint),confidentialAddress:f.typeforce.maybe(f.typeforce.String)},e);let r=h.value(()=>{let t=p.default.decode(e.address),r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}),n=h.value(()=>c.decompile(e.input)),o=h.value(()=>{let t=p.default.decode(e.confidentialAddress),r=t.slice(2,35),n=i.concat([i.from([t.readUInt8(1)]),t.slice(35)]),o=p.default.encode(n);return{blindkey:r,unconfidentialAddress:o}}),a=e.network||l.liquid,s={name:"p2pkh",network:a};if(h.prop(s,"address",()=>{if(!s.hash)return;let e=i.allocUnsafe(21);return e.writeUInt8(a.pubKeyHash,0),s.hash.copy(e,1),p.default.encode(e)}),h.prop(s,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return r().hash;if(e.pubkey||s.pubkey)return u.hash160(e.pubkey||s.pubkey);if(e.confidentialAddress){let t=o().unconfidentialAddress;return p.default.decode(t).slice(1)}}),h.prop(s,"output",()=>{if(s.hash)return c.compile([d.OP_DUP,d.OP_HASH160,s.hash,d.OP_EQUALVERIFY,d.OP_CHECKSIG])}),h.prop(s,"pubkey",()=>{if(e.input)return n()[1]}),h.prop(s,"signature",()=>{if(e.input)return n()[0]}),h.prop(s,"input",()=>{if(e.pubkey&&e.signature)return c.compile([e.signature,e.pubkey])}),h.prop(s,"witness",()=>{if(s.input)return[]}),h.prop(s,"blindkey",()=>e.confidentialAddress?o().blindkey:e.blindkey?e.blindkey:void 0),h.prop(s,"confidentialAddress",()=>{if(!s.address||!s.blindkey)return;let e=p.default.decode(s.address),t=i.concat([i.from([a.confidentialPrefix,e.readUInt8(0)]),s.blindkey,i.from(e.slice(1))]);return p.default.encode(t)}),t.validate){let g=i.from([]),b=i.from([]);if(e.address){if(r().version!==a.pubKeyHash)throw TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw TypeError("Invalid address");g=r().hash}if(e.hash){if(g.length>0&&!g.equals(e.hash))throw TypeError("Hash mismatch");g=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==d.OP_DUP||e.output[1]!==d.OP_HASH160||20!==e.output[2]||e.output[23]!==d.OP_EQUALVERIFY||e.output[24]!==d.OP_CHECKSIG)throw TypeError("Output is invalid");let y=e.output.slice(3,23);if(g.length>0&&!g.equals(y))throw TypeError("Hash mismatch");g=y}if(e.pubkey){let m=u.hash160(e.pubkey);if(g.length>0&&!g.equals(m))throw TypeError("Hash mismatch");g=m}if(e.input){let v=n();if(2!==v.length)throw TypeError("Input is invalid");if(!c.isCanonicalScriptSignature(v[0]))throw TypeError("Input has invalid signature");if(!(0,f.isPoint)(v[1]))throw TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(v[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(v[1]))throw TypeError("Pubkey mismatch");let w=u.hash160(v[1]);if(g.length>0&&!g.equals(w))throw TypeError("Hash mismatch")}if(e.confidentialAddress){if(e.address&&e.address!==o().unconfidentialAddress)throw TypeError("Address mismatch");if(b.length>0&&!b.equals(o().blindkey))throw TypeError("Blindkey mismatch");b=o().blindkey}if(e.blindkey){if(!(0,f.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(b.length>0&&!b.equals(e.blindkey))throw TypeError("Blindkey mismatch");b=e.blindkey}}return Object.assign(s,e)}t.p2pkh=g},50848:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;let s=a(r(64660)),u=r(74943),l=a(r(40081)),c=r(5),f=a(r(2922)),h=a(r(58334)),p=l.OPS;function d(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function g(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,c.typeforce)({network:c.typeforce.maybe(c.typeforce.Object),address:c.typeforce.maybe(c.typeforce.String),hash:c.typeforce.maybe(c.typeforce.BufferN(20)),output:c.typeforce.maybe(c.typeforce.BufferN(23)),redeem:c.typeforce.maybe({network:c.typeforce.maybe(c.typeforce.Object),output:c.typeforce.maybe(c.typeforce.Buffer),input:c.typeforce.maybe(c.typeforce.Buffer),witness:c.typeforce.maybe(c.typeforce.arrayOf(c.typeforce.Buffer))}),input:c.typeforce.maybe(c.typeforce.Buffer),witness:c.typeforce.maybe(c.typeforce.arrayOf(c.typeforce.Buffer)),blindkey:c.typeforce.maybe(c.isPoint),confidentialAddress:c.typeforce.maybe(c.typeforce.String)},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||u.liquid);let n={network:r},o=f.value(()=>{let t=h.decode(e.address),r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}),a=f.value(()=>l.decompile(e.input)),g=f.value(()=>{let t=a();return{network:r,output:t[t.length-1],input:l.compile(t.slice(0,-1)),witness:e.witness||[]}}),b=f.value(()=>{let t=h.decode(e.confidentialAddress),r=t.slice(2,35),n=i.concat([i.from([t.readUInt8(1)]),t.slice(35)]),o=h.encode(n);return{blindkey:r,unconfidentialAddress:o}});if(f.prop(n,"address",()=>{if(!n.hash)return;let e=i.allocUnsafe(21);return e.writeUInt8(n.network.scriptHash,0),n.hash.copy(e,1),h.encode(e)}),f.prop(n,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return o().hash;if(n.redeem&&n.redeem.output)return s.hash160(n.redeem.output);if(e.confidentialAddress){let t=b().unconfidentialAddress;return h.decode(t).slice(1)}}),f.prop(n,"output",()=>{if(n.hash)return l.compile([p.OP_HASH160,n.hash,p.OP_EQUAL])}),f.prop(n,"redeem",()=>{if(e.input)return g()}),f.prop(n,"input",()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return l.compile([].concat(l.decompile(e.redeem.input),e.redeem.output))}),f.prop(n,"witness",()=>n.redeem&&n.redeem.witness?n.redeem.witness:n.input?[]:void 0),f.prop(n,"name",()=>{let e=["p2sh"];return void 0!==n.redeem&&void 0!==n.redeem.name&&e.push(n.redeem.name),e.join("-")}),f.prop(n,"blindkey",()=>e.confidentialAddress?b().blindkey:e.blindkey?e.blindkey:void 0),f.prop(n,"confidentialAddress",()=>{if(!n.address||!n.blindkey)return;let e=h.decode(n.address),t=i.concat([i.from([r.confidentialPrefix,e.readUInt8(0)]),n.blindkey,i.from(e.slice(1))]);return h.encode(t)}),t.validate){let y=i.from([]),m=i.from([]);if(e.address){if(o().version!==r.scriptHash)throw TypeError("Invalid version or Network mismatch");if(20!==o().hash.length)throw TypeError("Invalid address");y=o().hash}if(e.hash){if(y.length>0&&!y.equals(e.hash))throw TypeError("Hash mismatch");y=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==p.OP_HASH160||20!==e.output[1]||e.output[22]!==p.OP_EQUAL)throw TypeError("Output is invalid");let v=e.output.slice(2,22);if(y.length>0&&!y.equals(v))throw TypeError("Hash mismatch");y=v}let w=e=>{if(e.output){let t=l.decompile(e.output);if(!t||t.length<1)throw TypeError("Redeem.output too short");let r=s.hash160(e.output);if(y.length>0&&!y.equals(r))throw TypeError("Hash mismatch");y=r}if(e.input){let i=e.input.length>0,n=e.witness&&e.witness.length>0;if(!i&&!n)throw TypeError("Empty input");if(i&&n)throw TypeError("Input and witness provided");if(i){let o=l.decompile(e.input);if(!l.isPushOnly(o))throw TypeError("Non push-only scriptSig")}}};if(e.input){let E=a();if(!E||E.length<1)throw TypeError("Input too short");if(!i.isBuffer(g().output))throw TypeError("Input is invalid");w(g())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw TypeError("Network mismatch");if(e.input){let _=g();if(e.redeem.output&&!e.redeem.output.equals(_.output))throw TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(_.input))throw TypeError("Redeem.input mismatch")}w(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!d(e.redeem.witness,e.witness))throw TypeError("Witness and redeem.witness mismatch");if(e.confidentialAddress){if(e.address&&e.address!==b().unconfidentialAddress)throw TypeError("Address mismatch");if(m.length>0&&!m.equals(b().blindkey))throw TypeError("Blindkey mismatch");m=b().blindkey}if(e.blindkey){if(!(0,c.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(m.length>0&&!m.equals(e.blindkey))throw TypeError("Blindkey mismatch");m=e.blindkey}}return Object.assign(n,e)}t.p2sh=g},89130:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;let s=a(r(87562)),u=a(r(64660)),l=r(74943),c=a(r(40081)),f=r(5),h=a(r(2922)),p=r(27715),d=c.OPS,g=i.alloc(0);function b(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,f.typeforce)({address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(20)),input:f.typeforce.maybe(f.typeforce.BufferN(0)),network:f.typeforce.maybe(f.typeforce.Object),output:f.typeforce.maybe(f.typeforce.BufferN(22)),pubkey:f.typeforce.maybe(f.isPoint),signature:f.typeforce.maybe(c.isCanonicalScriptSignature),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))},e);let r=e.network||l.liquid,n=h.value(()=>{let t=p.bech32.decode(e.address),r=t.words.shift(),n=p.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:i.from(n)}}),o=h.value(()=>{let t=s.fromBlech32(e.confidentialAddress);return{blindingKey:t.pubkey,unconfidentialAddress:s.toBech32(t.data.slice(2),t.version,r.bech32)}}),a={name:"p2wpkh",network:r};if(h.prop(a,"address",()=>{if(!a.hash)return;let e=p.bech32.toWords(a.hash);return e.unshift(0),p.bech32.encode(r.bech32,e)}),h.prop(a,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return n().data;if(e.pubkey||a.pubkey)return u.hash160(e.pubkey||a.pubkey);if(e.confidentialAddress){let t=o().unconfidentialAddress;return s.fromBech32(t).data}}),h.prop(a,"output",()=>{if(a.hash)return c.compile([d.OP_0,a.hash])}),h.prop(a,"pubkey",()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0),h.prop(a,"signature",()=>{if(e.witness)return e.witness[0]}),h.prop(a,"input",()=>{if(a.witness)return g}),h.prop(a,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),h.prop(a,"blindkey",()=>e.confidentialAddress?o().blindingKey:e.blindkey?e.blindkey:void 0),h.prop(a,"confidentialAddress",()=>{if(!a.address||!a.blindkey||!a.network)return;let e=s.fromBech32(a.address),t=i.concat([i.from([e.version,e.data.length]),e.data]);if(0===e.version)return s.toBlech32(t,a.blindkey,a.network.blech32,0)}),t.validate){let b=i.from([]),y=i.from([]);if(e.address){if(r&&r.bech32!==n().prefix)throw TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw TypeError("Invalid address version");if(20!==n().data.length)throw TypeError("Invalid address data");b=n().data}if(e.hash){if(b.length>0&&!b.equals(e.hash))throw TypeError("Hash mismatch");b=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==d.OP_0||20!==e.output[1])throw TypeError("Output is invalid");if(b.length>0&&!b.equals(e.output.slice(2)))throw TypeError("Hash mismatch");b=e.output.slice(2)}if(e.pubkey){let m=u.hash160(e.pubkey);if(b.length>0&&!b.equals(m))throw TypeError("Hash mismatch");if(b=m,!(0,f.isPoint)(e.pubkey)||33!==e.pubkey.length)throw TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw TypeError("Witness is invalid");if(!c.isCanonicalScriptSignature(e.witness[0]))throw TypeError("Witness has invalid signature");if(!(0,f.isPoint)(e.witness[1])||33!==e.witness[1].length)throw TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw TypeError("Pubkey mismatch");let v=u.hash160(e.witness[1]);if(b.length>0&&!b.equals(v))throw TypeError("Hash mismatch")}if(e.confidentialAddress){if(e.address&&e.address!==o().unconfidentialAddress)throw TypeError("Address mismatch");if(y.length>0&&!y.equals(o().blindingKey))throw TypeError("Blindkey mismatch");y=o().blindingKey}if(e.blindkey){if(!(0,f.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(y.length>0&&!y.equals(e.blindkey))throw TypeError("Blindkey mismatch");y=e.blindkey}}return Object.assign(a,e)}t.p2wpkh=b},36376:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;let s=a(r(87562)),u=a(r(64660)),l=r(74943),c=a(r(40081)),f=r(5),h=a(r(2922)),p=r(27715),d=c.OPS,g=i.alloc(0);function b(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function y(e){return!!(i.isBuffer(e)&&65===e.length&&4===e[0]&&(0,f.isPoint)(e))}function m(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,f.typeforce)({network:f.typeforce.maybe(f.typeforce.Object),address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(32)),output:f.typeforce.maybe(f.typeforce.BufferN(34)),redeem:f.typeforce.maybe({input:f.typeforce.maybe(f.typeforce.Buffer),network:f.typeforce.maybe(f.typeforce.Object),output:f.typeforce.maybe(f.typeforce.Buffer),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))}),input:f.typeforce.maybe(f.typeforce.BufferN(0)),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer)),blindkey:f.typeforce.maybe(f.isPoint),confidentialAddress:f.typeforce.maybe(f.typeforce.String)},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||l.liquid);let n=h.value(()=>{let t=p.bech32.decode(e.address),r=t.words.shift(),n=p.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:i.from(n)}}),o=h.value(()=>c.decompile(e.redeem.input)),a=h.value(()=>{let t=s.fromBlech32(e.confidentialAddress);return{blindingKey:t.pubkey,unconfidentialAddress:s.toBech32(t.data.slice(2),t.version,r.bech32)}}),m={network:r};if(h.prop(m,"address",()=>{if(!m.hash)return;let e=p.bech32.toWords(m.hash);return e.unshift(0),p.bech32.encode(r.bech32,e)}),h.prop(m,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return n().data;if(m.redeem&&m.redeem.output)return u.sha256(m.redeem.output);if(e.confidentialAddress){let t=a().unconfidentialAddress;return s.fromBech32(t).data}}),h.prop(m,"output",()=>{if(m.hash)return c.compile([d.OP_0,m.hash])}),h.prop(m,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:g,witness:e.witness.slice(0,-1)}}),h.prop(m,"input",()=>{if(m.witness)return g}),h.prop(m,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){let t=c.toStack(o());return m.redeem=Object.assign({witness:t},e.redeem),m.redeem.input=g,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),h.prop(m,"name",()=>{let e=["p2wsh"];return void 0!==m.redeem&&void 0!==m.redeem.name&&e.push(m.redeem.name),e.join("-")}),h.prop(m,"blindkey",()=>e.confidentialAddress?a().blindingKey:e.blindkey?e.blindkey:void 0),h.prop(m,"confidentialAddress",()=>{if(!m.address||!m.blindkey)return;let e=s.fromBech32(m.address),t=i.concat([i.from([e.version,e.data.length]),e.data]);return s.toBlech32(t,m.blindkey,m.network.blech32,0)}),t.validate){let v=i.from([]),w=i.from([]);if(e.address){if(n().prefix!==r.bech32)throw TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw TypeError("Invalid address version");if(32!==n().data.length)throw TypeError("Invalid address data");v=n().data}if(e.hash){if(v.length>0&&!v.equals(e.hash))throw TypeError("Hash mismatch");v=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==d.OP_0||32!==e.output[1])throw TypeError("Output is invalid");let E=e.output.slice(2);if(v.length>0&&!v.equals(E))throw TypeError("Hash mismatch");v=E}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw TypeError("Ambiguous witness source");if(e.redeem.output){if(0===c.decompile(e.redeem.output).length)throw TypeError("Redeem.output is invalid");let _=u.sha256(e.redeem.output);if(v.length>0&&!v.equals(_))throw TypeError("Hash mismatch");v=_}if(e.redeem.input&&!c.isPushOnly(o()))throw TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!b(e.witness,e.redeem.witness))throw TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&o().some(y)||e.redeem.output&&(c.decompile(e.redeem.output)||[]).some(y))throw TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){let S=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(S))throw TypeError("Witness and redeem.output mismatch");if(e.witness.some(y)||(c.decompile(S)||[]).some(y))throw TypeError("Witness contains uncompressed pubkey")}if(e.confidentialAddress){if(e.address&&e.address!==a().unconfidentialAddress)throw TypeError("Address mismatch");if(w.length>0&&!w.equals(a().blindingKey))throw TypeError("Blindkey mismatch");w=a().blindingKey}if(e.blindkey){if(!(0,f.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(w.length>0&&!w.equals(e.blindkey))throw TypeError("Blindkey mismatch");w=e.blindkey}}return Object.assign(m,e)}t.p2wsh=m},89349:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateAddReissuanceArgs=t.validateAddIssuanceArgs=t.toBlindingData=t.computeOutputsBlindingData=t.witnessStackToScriptWitness=t.Psbt=void 0;let u=a(r(90947)),l=s(r(35617)),c=a(r(64365)),f=r(87562),h=r(42035),p=r(64660),d=r(74943),g=r(32474),b=r(25221),y=r(87562),m=r(42035),v=a(r(82422)),w=a(r(40081)),E=r(37834),_=r(17991),S=r(45217),I=r(21426),P=r(61798),k=i.of(1),T={network:d.liquid,maximumFeeRate:5e3};class O{constructor(e={},t=new E.Psbt(new x)){this.data=t,this.opts=Object.assign({},T,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);let r=(e,t,r,i)=>Object.defineProperty(e,t,{enumerable:r,writable:i});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}static fromBase64(e,t={}){let r=i.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){let r=i.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){let r=E.Psbt.fromBuffer(e,A),i=new O(t,r);return Z(i.__CACHE.__TX,i.__CACHE),i}get TX(){return this.__CACHE.__TX}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,m.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let t;try{t=(0,y.fromOutputScript)(e.script,this.opts.network)}catch(r){}return{...e,address:t}})}combine(...e){return this.data.combine(...e.map(e=>e.data)),this}clone(){let e=O.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){V(e),this.opts.maximumFeeRate=e}setVersion(e){V(e),W(this.data.inputs,"setVersion");let t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){V(e),W(this.data.inputs,"setLocktime");let t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){V(t),W(this.data.inputs,"setInputSequence");let r=this.__CACHE;if(r.__TX.ins.length<=e)throw Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(e=>this.addInput(e)),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");W(this.data.inputs,"addInput"),e.witnessScript&&eP(e.witnessScript);let t=this.__CACHE;this.data.addInput(e);let r=t.__TX.ins[t.__TX.ins.length-1];$(t,r);let i=this.data.inputs.length-1,n=this.data.inputs[i];return n.nonWitnessUtxo&&ed(this.__CACHE,n,i),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addIssuance(e,t){eB(e),t=this.searchInputIndexForIssuance(t);let{hash:r,index:n}=this.__CACHE.__TX.ins[t],o=(0,b.newIssuance)(e.assetSats,e.tokenSats,e.contract),a=(0,b.generateEntropy)({txHash:r,vout:n},o.assetEntropy);if(this.__CACHE.__TX.ins[t].issuance=o,e.assetSats>0){if(!e.assetAddress)throw Error("assetAddress is required when assetSats is greater than 0");let s=i.concat([k,(0,b.calculateAsset)(a)]),u=(0,f.toOutputScript)(e.assetAddress);this.addOutput({value:o.assetAmount,script:u,asset:s,nonce:i.of(0)})}if(e.tokenSats>0){if(!e.tokenAddress)throw Error("tokenAddress is required when tokenSats is greater than 0");let l=(0,b.calculateReissuanceToken)(a,e.blindedIssuance),c=(0,f.toOutputScript)(e.tokenAddress);this.addOutput({script:c,value:o.tokenAmount,asset:i.concat([k,l]),nonce:i.of(0)})}return this}addReissuance(e){eC(e);let t=this.data.inputs.length,r={hash:e.tokenPrevout.txHash,index:e.tokenPrevout.vout};e.witnessUtxo&&(r.witnessUtxo=e.witnessUtxo),e.nonWitnessUtxo&&(r.nonWitnessUtxo=e.nonWitnessUtxo),this.addInput(r);let n=I.ElementsValue.fromNumber(e.assetSats).bytes;this.__CACHE.__TX.ins[t].issuance={assetBlindingNonce:e.prevoutBlinder,tokenAmount:i.of(0),assetAmount:n,assetEntropy:e.entropy};let o=i.concat([k,(0,b.calculateAsset)(e.entropy)]);this.addOutput({value:n,script:(0,f.toOutputScript)(e.assetAddress),asset:o,nonce:i.of(0)});let a=i.concat([k,(0,b.calculateReissuanceToken)(e.entropy,e.blindedIssuance)]);return this.addOutput({value:0===e.tokenSats?i.of(0):I.ElementsValue.fromNumber(e.tokenSats).bytes,script:(0,f.toOutputScript)(e.tokenAddress),asset:a,nonce:i.of(0)}),this}addOutputs(e){return e.forEach(e=>this.addOutput(e)),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");W(this.data.inputs,"addOutput");let{address:t}=e;if("string"==typeof t){let{network:r}=this.opts,i=(0,f.toOutputScript)(t,r);e=Object.assign(e,{script:i})}let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(U))throw Error("Not finalized");let t=this.__CACHE;if(e||q(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;let r=t.__TX.clone();return eg(this.data.inputs,r,t,!0),r}getFeeRate(){return et("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return et("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,_.checkForInput)(this.data.inputs,0),eO(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,t=er){let r=(0,_.checkForInput)(this.data.inputs,e),{script:i,isP2SH:n,isP2WSH:o,isSegwit:a}=eu(e,r,this.__CACHE);if(i){G(r);let{finalScriptSig:s,finalScriptWitness:u}=t(e,r,i,a,n,o);if(s&&this.data.updateInput(e,{finalScriptSig:s}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!s&&!u&&!r.finalScriptWitness)throw Error(`Unknown error finalizing input #${e}`);this.data.clearFinalizedInput(e)}else if(!r.finalScriptWitness)throw Error(`No script found for input #${e}`);return this}getInputType(e){let t=(0,_.checkForInput)(this.data.inputs,e),r=ey(e,t,this.__CACHE),i=eI(r,e,"input",t.redeemScript||ew(t.finalScriptSig),t.witnessScript||eE(t.finalScriptWitness)),n="raw"===i.type?"":i.type+"-",o=eT(i.meaningfulScript);return n+o}inputHasPubkey(e,t){let r=(0,_.checkForInput)(this.data.inputs,e);return em(t,r,e,this.__CACHE)}inputHasHDKey(e,t){let r=(0,_.checkForInput)(this.data.inputs,e),i=F(t);return!!r.bip32Derivation&&r.bip32Derivation.some(i)}outputHasPubkey(e,t){let r=ej(this.data.outputs,e);return ev(t,r,e,this.__CACHE)}outputHasHDKey(e,t){let r=ej(this.data.outputs,e),i=F(t);return!!r.bip32Derivation&&r.bip32Derivation.some(i)}static ECDSASigValidator(e){return(t,r,i)=>(0,S.ECPairFactory)(e).fromPublicKey(t).verify(r,i)}static SchnorrSigValidator(e){return(t,r,i)=>(0,S.ECPairFactory)(e).fromPublicKey(t).verifySchnorr(r,i)}validateSignaturesOfAllInputs(e){(0,_.checkForInput)(this.data.inputs,0);let t=eO(this.data.inputs.length).map(t=>this.validateSignaturesOfInput(t,e));return t.reduce((e,t)=>!0===t&&e,!0)}validateSignaturesOfInput(e,t,r){let i,n,o;let a=this.data.inputs[e],s=(a||{}).partialSig;if(!a||!s||s.length<1)throw Error("No signatures to validate");if("function"!=typeof t)throw Error("Need validator function to validate signatures");let u=r?s.filter(e=>e.pubkey.equals(r)):s;if(u.length<1)throw Error("No signatures for this pubkey");let l=[];for(let c of u){let f=w.signature.decode(c.signature),{hash:h,script:p}=o!==f.hashType?eo(e,Object.assign({},a,{sighashType:f.hashType}),this.__CACHE,!0):{hash:i,script:n};o=f.hashType,i=h,n=p,X(c.pubkey,p,"verify"),l.push(t(c.pubkey,h,f.signature))}return l.every(e=>!0===e)}signAllInputsHD(e,t=[g.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw Error("Need HDSigner to sign input");let r=[];for(let i of eO(this.data.inputs.length))try{this.signInputHD(i,e,t),r.push(!0)}catch(n){r.push(!1)}if(r.every(e=>!1===e))throw Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[g.Transaction.SIGHASH_ALL]){return new Promise((r,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(Error("Need HDSigner to sign input"));let n=[],o=[];for(let a of eO(this.data.inputs.length))o.push(this.signInputHDAsync(a,e,t).then(()=>{n.push(!0)},()=>{n.push(!1)}));return Promise.all(o).then(()=>{if(n.every(e=>!1===e))return i(Error("No inputs were signed"));r()})})}signInputHD(e,t,r=[g.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw Error("Need HDSigner to sign input");let i=el(e,this.data.inputs,t);return i.forEach(t=>this.signInput(e,t,r)),this}signInputHDAsync(e,t,r=[g.Transaction.SIGHASH_ALL]){return new Promise((i,n)=>{if(!t||!t.publicKey||!t.fingerprint)return n(Error("Need HDSigner to sign input"));let o=el(e,this.data.inputs,t),a=o.map(t=>this.signInputAsync(e,t,r));return Promise.all(a).then(()=>{i()}).catch(n)})}signAllInputs(e,t=[g.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw Error("Need Signer to sign input");let r=[];for(let i of eO(this.data.inputs.length))try{this.signInput(i,e,t),r.push(!0)}catch(n){r.push(!1)}if(r.every(e=>!1===e))throw Error("No inputs were signed");return this}signAllInputsAsync(e,t=[g.Transaction.SIGHASH_ALL]){return new Promise((r,i)=>{if(!e||!e.publicKey)return i(Error("Need Signer to sign input"));let n=[],o=[];for(let[a]of this.data.inputs.entries())o.push(this.signInputAsync(a,e,t).then(()=>{n.push(!0)},()=>{n.push(!1)}));return Promise.all(o).then(()=>{if(n.every(e=>!1===e))return i(Error("No inputs were signed"));r()})})}signInput(e,t,r=[g.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey)throw Error("Need Signer to sign input");let{hash:i,sighashType:n}=en(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:w.signature.encode(t.sign(i),n)}];return this.data.updateInput(e,{partialSig:o}),this}signInputAsync(e,t,r=[g.Transaction.SIGHASH_ALL]){return Promise.resolve().then(()=>{if(!t||!t.publicKey)throw Error("Need Signer to sign input");let{hash:i,sighashType:n}=en(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(i)).then(r=>{let i=[{pubkey:t.publicKey,signature:w.signature.encode(r,n)}];this.data.updateInput(e,{partialSig:i})})})}toBuffer(){return R(this.__CACHE),this.data.toBuffer()}toHex(){return R(this.__CACHE),this.data.toHex()}toBase64(){return R(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){if(t.witnessUtxo){let{witnessUtxo:r}=t,n=i.isBuffer(r.script)?r.script:i.from(r.script,"hex"),o=i.isBuffer(r.value)?r.value:"string"==typeof r.value?i.from(r.value,"hex"):I.ElementsValue.fromNumber(r.value).bytes,a=i.isBuffer(r.asset)?r.asset:r.asset.startsWith("0a")||r.asset.startsWith("0b")?i.from(r.asset,"hex"):i.concat([i.alloc(1,1),(0,h.reverseBuffer)(i.from(r.asset,"hex"))]),s=r.nonce?i.isBuffer(r.nonce)?r.nonce:i.from(r.nonce,"hex"):i.alloc(1,0),u=r.rangeProof?i.isBuffer(r.rangeProof)?r.rangeProof:i.from(r.rangeProof,"hex"):void 0,l=r.surjectionProof?i.isBuffer(r.surjectionProof)?r.surjectionProof:i.from(r.surjectionProof,"hex"):void 0;t=Object.assign(t,{witnessUtxo:{script:n,value:o,asset:a,nonce:s,rangeProof:u,surjectionProof:l}})}return t.witnessScript&&eP(t.witnessScript),this.data.updateInput(e,t),t.nonWitnessUtxo&&ed(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){return this.data.updateOutput(e,t),this}static ECCKeysGenerator(e){return t=>{let r=eA(t),i=(0,S.ECPairFactory)(e).fromPrivateKey(r).publicKey;return{privateKey:r,publicKey:i}}}blindOutputs(e,t,r,i){return this.rawBlindOutputs(t,r,void 0,e,void 0,i)}blindOutputsByIndex(e,t,r,i,n){let o=eO(this.__CACHE.__TX.ins.length).map(e=>t.get(e)),a=i?eO(this.__CACHE.__TX.ins.length).map(e=>i.get(e)):[],s=[],u=[];for(let[l,c]of r)s.push(l),u.push(c);return this.rawBlindOutputs(o,u,a,e,s,n)}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}searchInputIndexForIssuance(e){if(e&&!this.data.inputs[e])throw Error(`The input ${e} does not exist.`);if(0===this.__CACHE.__TX.ins.filter(e=>!e.issuance).length)throw Error("transaction needs at least one input without issuance data.");if(e=this.__CACHE.__TX.ins.findIndex(e=>!e.issuance),this.__CACHE.__TX.ins[e].issuance)throw Error(`The input ${e} already has issuance data.`);return e}unblindInputsToIssuanceBlindingData(e=[]){let t=[],r=0;for(let n of this.__CACHE.__TX.ins){if(n.issuance){let o=!!e&&!!e[r],a=(0,b.issuanceEntropyFromInput)(n),s=(0,b.calculateAsset)(a),u=n.issuance.assetAmount.equals(i.of(0))?"0":I.ElementsValue.fromBytes(n.issuance.assetAmount).number.toString(10),l={value:u,asset:s,assetBlindingFactor:g.ZERO,valueBlindingFactor:o?eA():g.ZERO};if(t.push(l),!(0,b.isReissuance)(n.issuance)&&(0,b.hasTokenAmount)(n.issuance)){let c=(0,b.calculateReissuanceToken)(a,o),f=I.ElementsValue.fromBytes(n.issuance.tokenAmount).number.toString(10),h={value:f,asset:c,assetBlindingFactor:g.ZERO,valueBlindingFactor:o?eA():g.ZERO};t.push(h)}}r++}return t}async blindInputs(e,t=[]){if(!t||0===t.length)return this;function r(t){for(let r of e)if(t.equals(r.asset))return r;throw Error("no blinding factors generated for pseudo issuance inputs")}let n=await (0,l.default)(),o=new u.Confidential(n),a=0;for(let s of this.__CACHE.__TX.ins){if(s.issuance){if(!t[a]){a++;continue}let c=(0,b.issuanceEntropyFromInput)(s),f=(0,b.calculateAsset)(c),h=r(f),p=await o.assetCommitment(h.asset,h.assetBlindingFactor),d=await o.valueCommitment(h.value,p,h.valueBlindingFactor),g=t[a]?t[a].assetKey:void 0;if(!g)throw Error(`missing asset blinding private key for issuance #${a}`);let y=await o.rangeProof(h.value,g,h.asset,h.assetBlindingFactor,h.valueBlindingFactor,d,i.alloc(0),"0",0,52);if(this.__CACHE.__TX.ins[a].issuanceRangeProof=y,this.__CACHE.__TX.ins[a].issuance.assetAmount=d,!(0,b.isReissuance)(s.issuance)&&(0,b.hasTokenAmount)(s.issuance)){let m=(0,b.calculateReissuanceToken)(c,!0),v=r(m),w=await o.assetCommitment(m,v.assetBlindingFactor),E=await o.valueCommitment(v.value,w,v.valueBlindingFactor);if(!t[a].tokenKey)throw Error("you must specify tokenKey in order to blind the token issuance");let _=await o.rangeProof(v.value,t[a].tokenKey,m,v.assetBlindingFactor,v.valueBlindingFactor,E,i.alloc(0),"1",0,52);this.__CACHE.__TX.ins[a].inflationRangeProof=_,this.__CACHE.__TX.ins[a].issuance.tokenAmount=E}}a++}return this}async blindOutputsRaw(e,t,r,i,n){let o=r.map(e=>{let t=this.__CACHE.__TX.outs[e];if(0===t.script.length)throw Error("cant't blind the fee output");let r=I.ElementsValue.fromBytes(t.value).number.toString(10);return[r,t.asset.slice(1)]}),a=await ex(e,o),s=await (0,l.default)(),c=new u.Confidential(s),f=0;for(let h of r){let p=eA(n),d=i(n),g=d.publicKey,b=a[f],y=await c.assetCommitment(b.asset,b.assetBlindingFactor),m=await c.valueCommitment(b.value,y,b.valueBlindingFactor),v=await c.rangeProofWithNonceHash(b.value,t[f],d.privateKey,b.asset,b.assetBlindingFactor,b.valueBlindingFactor,m,this.__CACHE.__TX.outs[h].script),w=await c.surjectionProof(b.asset,b.assetBlindingFactor,e.map(({asset:e})=>e),e.map(({assetBlindingFactor:e})=>e),p);this.__CACHE.__TX.outs[h].asset=y,this.__CACHE.__TX.outs[h].value=m,this.__CACHE.__TX.setOutputNonce(h,g),this.__CACHE.__TX.setOutputRangeProof(h,v),this.__CACHE.__TX.setOutputSurjectionProof(h,w),f++}return this}async rawBlindOutputs(e,t,r=[],i,n,o){if(this.data.inputs.some(e=>!e.nonWitnessUtxo&&!e.witnessUtxo))throw Error("All inputs must contain a non witness utxo or a witness utxo");if(this.__CACHE.__TX.ins.length!==e.length)throw Error("blindingDataLike length does not match the number of inputs (undefined for unconfidential utxo)");if(n||(n=[],this.__CACHE.__TX.outs.forEach((e,t)=>{e.script.length>0&&n.push(t)})),n.length!==t.length)throw Error("not enough blinding public keys to blind the requested outputs");let a=this.data.inputs.map((e,t)=>{if(e.nonWitnessUtxo){let r=eb(this.__CACHE,e,t),i=this.__CACHE.__TX.ins[t].index;return r.outs[i]}if(e.witnessUtxo)return e.witnessUtxo;throw Error("input data needs witness utxo or nonwitness utxo")}),s=await Promise.all(e.map((e,t)=>eN(e,a[t]))),u=this.unblindInputsToIssuanceBlindingData(r),l=s.concat(u);return await this.blindOutputsRaw(l,t,n,i,o),await this.blindInputs(l,r),this.__CACHE.__FEE=void 0,this.__CACHE.__FEE_RATE=void 0,this.__CACHE.__EXTRACTED_TX=void 0,this}}t.Psbt=O;let A=e=>new x(e);class x{constructor(e=i.from([2,0,0,0,0,0,0,0,0,0,0])){this.tx=g.Transaction.fromBuffer(e),Y(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!i.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw Error("Error adding input.");let t="string"==typeof e.hash?(0,h.reverseBuffer)(i.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||!i.isBuffer(e.script)&&"string"!=typeof e.script||void 0===e.value||!i.isBuffer(e.value)&&"number"!=typeof e.value||void 0===e.asset||!i.isBuffer(e.asset)&&"string"!=typeof e.asset)throw Error("Error adding output.");let t=i.alloc(1,0),r=i.isBuffer(e.script)?e.script:i.from(e.script,"hex"),n=i.isBuffer(e.value)?e.value:I.ElementsValue.fromNumber(e.value).bytes,o=i.isBuffer(e.asset)?e.asset:i.concat([i.alloc(1,1),(0,h.reverseBuffer)(i.from(e.asset,"hex"))]);this.tx.addOutput(r,n,o,t)}toBuffer(){return this.tx.toBuffer()}}function N(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return C(1,e.partialSig);case"multisig":let i=v.p2ms({output:t});return C(i.m,e.partialSig,i.pubkeys);case"nonstandard":if(81===t[0])return!0;default:return!1}}function R(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw Error("Not BIP174 compliant, can not export")}function B(e){if(65===e.length){let t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}function C(e,t,r){let i;if(!t)return!1;if((i=r?r.map(e=>{let r=B(e);return t.find(e=>e.pubkey.equals(r))}).filter(e=>!!e):t).length>e)throw Error("Too many signatures");return i.length===e}function U(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function M(e){return t=>{try{return e({output:t}),!0}catch(r){return!1}}}let j=M(v.p2ms),L=M(v.p2pk),K=M(v.p2pkh),D=M(v.p2wpkh),H=M(v.p2wsh),z=M(v.p2sh);function F(e){return t=>!!(t.masterFingerprint.equals(e.fingerprint)&&e.derivePath(t.path).publicKey.equals(t.pubkey))}function V(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw Error("Invalid 32 bit integer")}function q(e,t,r){let i=t.__FEE_RATE||e.getFeeRate(),n=t.__EXTRACTED_TX.virtualSize(),o=i*n;if(i>=r.maximumFeeRate)throw Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${i} satoshi per byte for a transaction with a VSize of ${n} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function W(e,t){e.forEach(e=>{let r=!1,i=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;i=es(e)}else i=e.partialSig;if(i.forEach(e=>{let{hashType:i}=w.signature.decode(e.signature),n=[],o=i&g.Transaction.SIGHASH_ANYONECANPAY;o&&n.push("addInput");let a=31&i;switch(a){case g.Transaction.SIGHASH_ALL:break;case g.Transaction.SIGHASH_SINGLE:case g.Transaction.SIGHASH_NONE:n.push("addOutput"),n.push("setInputSequence")}-1===n.indexOf(t)&&(r=!0)}),r)throw Error("Can not modify transaction, signatures exist.")})}function G(e){if(void 0===e.sighashType||!e.partialSig)return;let{partialSig:t,sighashType:r}=e;t.forEach(e=>{let{hashType:t}=w.signature.decode(e.signature);if(r!==t)throw Error("Signature sighash does not match input sighash type")})}function X(e,t,r){if(!ek(e,t))throw Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function Y(e){let t=e.ins.every(e=>e.script&&0===e.script.length);if(!t)throw Error("Format Error: Transaction ScriptSigs are not empty")}function Z(e,t){e.ins.forEach(e=>{$(t,e)})}function $(e,t){let r=(0,h.reverseBuffer)(i.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function J(e,t){return(r,i,n,o)=>{let a=e({redeem:{output:n}}).output;if(!i.equals(a))throw Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}let Q=J(v.p2sh,"Redeem script"),ee=J(v.p2wsh,"Witness script");function et(e,t,r,i){let n;if(!r.every(U))throw Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&i.__FEE_RATE)return i.__FEE_RATE;if("__FEE"===e&&i.__FEE)return i.__FEE;let o=!0;return(i.__EXTRACTED_TX?(n=i.__EXTRACTED_TX,o=!1):n=i.__TX.clone(),eg(r,n,i,o),"__FEE_RATE"===e)?i.__FEE_RATE:"__FEE"===e?i.__FEE:void 0}function er(e,t,r,i,n,o){let a=eT(r);if(!N(t,r,a))throw Error(`Can not finalize input #${e}`);return ei(r,a,t.partialSig,i,n,o)}function ei(e,t,r,i,n,o){let a,s;if("nonstandard"===t)return{finalScriptSig:void 0,finalScriptWitness:void 0};let u=ea(e,t,r),l=o?v.p2wsh({redeem:u}):null,c=n?v.p2sh({redeem:l||u}):null;return i?(s=l?ep(l.witness):ep(u.witness),c&&(a=c.input)):a=c?c.input:u.input,{finalScriptSig:a,finalScriptWitness:s}}function en(e,t,r,i,n){let{hash:o,sighashType:a,script:s}=eo(t,e[t],i,!1,n);return X(r,s,"sign"),{hash:o,sighashType:a}}function eo(e,t,r,i,n){let o,a;let s=r.__TX,u=t.sighashType||g.Transaction.SIGHASH_ALL;if(n&&0>n.indexOf(u)){let l=eh(u);throw Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${l}`)}if(t.nonWitnessUtxo){let c=eb(r,t,e),f=s.ins[e].hash,h=c.getHash();if(!f.equals(h))throw Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);let p=s.ins[e].index;a=c.outs[p]}else if(t.witnessUtxo)a=t.witnessUtxo;else throw Error("Need a Utxo input item for signing");let{meaningfulScript:d,type:b}=eI(a.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(b)>=0)o=s.hashForWitnessV0(e,d,a.value,u);else if(D(d)){let y=v.p2pkh({hash:d.slice(2)}).output;o=s.hashForWitnessV0(e,y,a.value,u)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw Error(`Input #${e} has witnessUtxo but non-segwit script: ${d.toString("hex")}`);i||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),o=s.hashForSignature(e,d,u)}return{script:d,sighashType:u,hash:o}}function ea(e,t,r){let i;switch(t){case"multisig":let n=ec(e,r);i=v.p2ms({output:e,signatures:n});break;case"pubkey":i=v.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":i=v.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":i=v.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return i}function es(e){let t=e.finalScriptSig&&w.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&w.decompile(e.finalScriptWitness)||[];return t.concat(r).filter(e=>i.isBuffer(e)&&w.isCanonicalScriptSignature(e)).map(e=>({signature:e}))}function eu(e,t,r){let i=r.__TX,n={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(n.isP2SH=!!t.redeemScript,n.isP2WSH=!!t.witnessScript,t.witnessScript)n.script=t.witnessScript;else if(t.redeemScript)n.script=t.redeemScript;else if(t.nonWitnessUtxo){let o=eb(r,t,e),a=i.ins[e].index;n.script=o.outs[a].script}else t.witnessUtxo&&(n.script=t.witnessUtxo.script);return(t.witnessScript||D(n.script))&&(n.isSegwit=!0),n}function el(e,t,r){let i=(0,_.checkForInput)(t,e);if(!i.bip32Derivation||0===i.bip32Derivation.length)throw Error("Need bip32Derivation to sign with HD");let n=i.bip32Derivation.map(e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0).filter(e=>!!e);if(0===n.length)throw Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");let o=n.map(e=>{let t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw Error("pubkey did not match bip32Derivation");return t});return o}function ec(e,t){let r=v.p2ms({output:e});return r.pubkeys.map(e=>(t.filter(t=>t.pubkey.equals(e))[0]||{}).signature).filter(e=>!!e)}function ef(e){let t=0;function r(r){return t+=r,e.slice(t-r,t)}function i(){let r=c.decode(e,t);return t+=c.decode.bytes,r}function n(){return r(i())}return function(){let e=i(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function eh(e){let t=e&g.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"",r=31&e;switch(r){case g.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case g.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case g.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}function ep(e){var t;let r=i.allocUnsafe(0);function n(e){r=i.concat([r,i.from(e)])}function o(e){let t=r.length,n=c.encodingLength(e);r=i.concat([r,i.allocUnsafe(n)]),c.encode(e,r,t)}function a(e){o(e.length),n(e)}return o((t=e).length),t.forEach(a),r}function ed(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;let i=g.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=i;let n=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){let e=n.__NON_WITNESS_UTXO_BUF_CACHE[o],t=n.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{let r=t.toBuffer();return n.__NON_WITNESS_UTXO_BUF_CACHE[o]=r,r}},set(e){n.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function eg(e,t,r,i){e.forEach((e,r)=>{i&&e.finalScriptSig&&(t.ins[r].script=e.finalScriptSig),i&&e.finalScriptWitness&&(t.ins[r].witness=ef(e.finalScriptWitness))}),t.ins.some(e=>0!==e.witness.length)&&(t.flag=1);let n=t.virtualSize(),o=2*n;r.__FEE=o,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(o/n)}function eb(e,t,r){let i=e.__NON_WITNESS_UTXO_TX_CACHE;return i[r]||ed(e,t,r),i[r]}function ey(e,t,r){if(void 0!==t.witnessUtxo)return t.witnessUtxo.script;if(void 0!==t.nonWitnessUtxo){let i=eb(r,t,e);return i.outs[r.__TX.ins[e].index].script}throw Error("Can't find pubkey in input without Utxo data")}function em(e,t,r,i){let n=ey(r,t,i),{meaningfulScript:o}=eI(n,r,"input",t.redeemScript,t.witnessScript);return ek(e,o)}function ev(e,t,r,i){let n=i.__TX.outs[r].script,{meaningfulScript:o}=eI(n,r,"output",t.redeemScript,t.witnessScript);return ek(e,o)}function ew(e){if(!e)return;let t=w.decompile(e);if(!t)return;let r=t[t.length-1];if(!i.isBuffer(r)||e_(r)||eS(r))return;let n=w.decompile(r);if(n)return r}function eE(e){if(!e)return;let t=ef(e),r=t[t.length-1];if(e_(r))return;let i=w.decompile(r);if(i)return r}function e_(e){return 33===e.length&&w.isCanonicalPubKey(e)}function eS(e){return w.isCanonicalScriptSignature(e)}function eI(e,t,r,i,n){let o;let a=z(e),s=a&&i&&H(i),u=H(e);if(a&&void 0===i)throw Error("scriptPubkey is P2SH but redeemScript missing");if((u||s)&&void 0===n)throw Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");return s?(o=n,Q(t,e,i,r),ee(t,i,n,r),eP(o)):u?(o=n,ee(t,e,n,r),eP(o)):a?(o=i,Q(t,e,i,r)):o=e,{meaningfulScript:o,type:s?"p2sh-p2wsh":a?"p2sh":u?"p2wsh":"raw"}}function eP(e){if(D(e)||z(e))throw Error("P2WPKH or P2SH can not be contained within P2WSH")}function ek(e,t){let r=(0,p.hash160)(e),i=w.decompile(t);if(null===i)throw Error("Unknown script error");return i.some(t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)))}function eT(e){return D(e)?"witnesspubkeyhash":K(e)?"pubkeyhash":j(e)?"multisig":L(e)?"pubkey":"nonstandard"}function eO(e){return[...Array(e).keys()]}function eA(e){void 0===e&&(e={});let t=e.rng||P;return t(32)}async function ex(e,t){let r=[];t.slice(0,t.length-1).forEach(([e,t])=>{let i={value:e,asset:t,valueBlindingFactor:eA(),assetBlindingFactor:eA()};r.push(i)});let[n,o]=t[t.length-1],a={value:n,asset:o,assetBlindingFactor:eA(),valueBlindingFactor:i.from([])},s=e.map(({value:e})=>e),c=t.map(([e])=>e).concat(n),f=e.map(({assetBlindingFactor:e})=>e),h=r.map(({assetBlindingFactor:e})=>e).concat(a.assetBlindingFactor),p=e.map(({valueBlindingFactor:e})=>e),d=r.map(({valueBlindingFactor:e})=>e),g=await (0,l.default)(),b=new u.Confidential(g),y=await b.valueBlindingFactor(s,c,f,h,p,d);return a.valueBlindingFactor=y,r.push(a),r}async function eN(e,t){if(!e){if(!t)throw Error("need witnessUtxo");return eR(t)}if(i.isBuffer(e)){if(!t)throw Error("need witnessUtxo");let r=await (0,l.default)(),n=new u.Confidential(r);return n.unblindOutputWithKey(t,e)}return e}function eR(e){let t={value:I.ElementsValue.fromBytes(e.value).number.toString(10),valueBlindingFactor:g.ZERO,asset:e.asset.slice(1),assetBlindingFactor:g.ZERO};return t}function eB(e){if(e.assetSats<0)throw Error("asset amount must be greater than zero.");if(e.tokenSats<0)throw Error("token amount must be positive.");if(0===e.assetSats&&0===e.tokenSats)throw Error("if assetSats is 0, need to issue a least 1 token satoshi.")}function eC(e){if(!e.nonWitnessUtxo&&!e.witnessUtxo)throw Error("need witnessUtxo or nonWitnessUtxo");if(e.assetSats<=0)throw Error("asset amount must be greater than zero.");if(e.tokenSats<0)throw Error("token amount must be positive.");if(32!==e.tokenPrevout.txHash.length)throw Error("invalid token output hash");if(32!==e.prevoutBlinder.length)throw Error("invalid blinder");if(!eU(e))throw Error("token prevout must be confidential");if(32!==e.entropy.length)throw Error("invalid entropy");if(!(0,f.isConfidential)(e.tokenAddress))throw Error("token address must be confidential");if(!(0,f.isConfidential)(e.assetAddress))throw Error("asset address must be confidential")}function eU(e){return!!(e.witnessUtxo&&eM(e.witnessUtxo)||e.nonWitnessUtxo&&eM(g.Transaction.fromBuffer(e.nonWitnessUtxo).outs[e.tokenPrevout.vout]))}function eM(e){return void 0!==e.rangeProof&&void 0!==e.surjectionProof&&!e.nonce.equals(i.of(0))}function ej(e,t){let r=e[t];if(void 0===r)throw Error(`No output #${t}`);return r}t.witnessStackToScriptWitness=ep,t.computeOutputsBlindingData=ex,t.toBlindingData=eN,t.validateAddIssuanceArgs=eB,t.validateAddReissuanceArgs=eC},56504:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){if(e.length%4!=0||e.length/4-1<1)throw Error("invalid BIP32 derivation format");let t=e.slice(0,4),r=[];for(let i=4;i<e.length;i+=4)r.push(e.slice(i,i+4).readUInt32LE());let n=a(r);return{masterFingerprint:t,path:n}}function o(e,r){let n=r.split("/"),o=i.allocUnsafe(4+4*n.length);e.copy(o,0);let a=4;return n.forEach(e=>{let r="'"===e.slice(-1),i=2147483647&parseInt(r?e.slice(0,-1):e,10);r&&(i+=t.hardenedKeyStart),o.writeUInt32LE(i,a),a+=4}),o}function a(e){let t=e.map(e=>s(e));return t.join("/")}function s(e){return e<t.hardenedKeyStart?e.toString():(e-=t.hardenedKeyStart).toString()+"'"}Object.defineProperty(t,"__esModule",{value:!0}),t.encodeBIP32Derivation=t.decodeBip32Derivation=t.hardenedKeyStart=void 0,t.hardenedKeyStart=2147483648,t.decodeBip32Derivation=n,t.encodeBIP32Derivation=o},5164:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.findTapLeafToFinalize=t.sortSignatures=t.serializeTaprootSignature=t.toXOnly=void 0;let n=r(11737),o=r(1307),a=e=>{switch(e.length){case 32:return e;case 33:return i.from(e.slice(1));default:throw Error("Invalid pubkey length")}};function s(e,t){let r=t?i.from([t]):i.from([]);return i.concat([e,r])}function u(e,t){let r=(0,n.tapLeafHash)({scriptHex:t.script.toString("hex"),version:t.leafVersion});return(e.tapScriptSig||[]).filter(e=>e.leafHash.equals(r)).map(e=>l(t.script,e)).sort((e,t)=>t.positionInScript-e.positionInScript).map(e=>e.signature)}function l(e,t){return Object.assign({positionInScript:(0,o.pubkeyPositionInScript)(t.pubkey,e)},t)}function c(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);let i=(e.tapLeafScript||[]).sort((e,t)=>e.controlBlock.length-t.controlBlock.length).find(t=>f(t,e.tapScriptSig,r));if(!i)throw Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return i}function f(e,t,r){let i=(0,n.tapLeafHash)({scriptHex:e.script.toString("hex"),version:e.leafVersion}),o=!r||r.equals(i);return o&&void 0!==t.find(e=>e.leafHash.equals(i))}t.toXOnly=a,t.serializeTaprootSignature=s,t.sortSignatures=u,t.findTapLeafToFinalize=c},71669:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Blinder=void 0;let n=r(32474);class o{constructor(e,t,r,i){if(0===t.length)throw Error("Missing owned inputs");e.sanityCheck(),this.pset=e,this.ownedInputs=t,this.blindingValidator=r,this.blindingGenerator=i}blindNonLast(e){this.blind(e,!1)}blindLast(e){this.blind(e,!0)}blind(e,t){if(this.pset.isFullyBlinded())return;let{issuanceBlindingArgs:r,outputBlindingArgs:n}=e;if(0===n.length)throw Error("missing outputs blinding args");r&&r.length>0&&r.forEach(e=>this.validateIssuanceBlindingArgs(e));let o=n.sort((e,t)=>e.index-t.index);o.forEach((e,r)=>{let i=t&&r===o.length-1;this.validateOutputBlindingArgs(e,i)}),this.validateBlindingData(t,n,r);let a=this.calculateInputScalar(r),s=this.calculateOutputScalar(o),u=this.pset.copy();r&&r.forEach(({index:e,issuanceValueCommitment:t,issuanceValueRangeProof:r,issuanceValueBlindProof:i,issuanceTokenCommitment:n,issuanceTokenRangeProof:o,issuanceTokenBlindProof:a})=>{u.inputs[e].issuanceValueCommitment=t,u.inputs[e].issuanceValueRangeproof=r,u.inputs[e].issuanceBlindValueProof=i,u.inputs[e].issuanceInflationKeysCommitment=n,u.inputs[e].issuanceInflationKeysRangeproof=o,u.inputs[e].issuanceBlindInflationKeysProof=a});for(let l=0;l<o.length;l++){let{index:c,assetBlinder:f,assetCommitment:h,assetSurjectionProof:p,assetBlindProof:d,valueBlinder:g,nonceCommitment:b,nonce:y}=o[l],{valueCommitment:m,valueRangeProof:v,valueBlindProof:w}=o[l],E=u.outputs[c],_=E.value.toString(10);if(t&&l===o.length-1){let S=this.calculateLastValueBlinder(g,s,a);m=this.blindingGenerator.lastValueCommitment(_,h,S),v=this.blindingGenerator.lastValueRangeProof(_,E.asset,m,S,f,E.script||i.alloc(0),y),w=this.blindingGenerator.lastBlindValueProof(_,m,h,S)}u.outputs[c].valueCommitment=m,u.outputs[c].valueRangeproof=v,u.outputs[c].blindValueProof=w,u.outputs[c].assetCommitment=h,u.outputs[c].assetSurjectionProof=p,u.outputs[c].blindAssetProof=d,u.outputs[c].ecdhPubkey=b,u.outputs[c].blinderIndex=void 0}t?u.globals.scalars=void 0:(u.globals.scalars||(u.globals.scalars=[]),u.globals.scalars.push(s)),u.sanityCheck(),this.pset.globals=u.globals,this.pset.inputs=u.inputs,this.pset.outputs=u.outputs}calculateInputScalar(e){let t=i.from(n.ZERO);for(let r of this.ownedInputs){t=this.blindingGenerator.computeAndAddToScalarOffset(t,r.value,r.assetBlindingFactor,r.valueBlindingFactor);let o=this.pset.inputs[r.index];if(o.hasIssuance()||o.hasReissuance()){let a=e&&e.find(({index:e})=>e===r.index);if(a){let s=a.issuanceValueBlinder&&a.issuanceValueBlinder.length>0?a.issuanceValueBlinder:n.ZERO;if(t=this.blindingGenerator.computeAndAddToScalarOffset(t,o.issuanceValue?o.issuanceValue.toString(10):"0",n.ZERO,s),o.issuanceInflationKeys>0){let u=a.issuanceTokenBlinder&&a.issuanceTokenBlinder.length>0?a.issuanceTokenBlinder:n.ZERO;t=this.blindingGenerator.computeAndAddToScalarOffset(t,o.issuanceInflationKeys.toString(10),n.ZERO,u)}}}}return t}calculateOutputScalar(e){let t=i.from(n.ZERO);for(let r of e){let o=this.pset.outputs[r.index];t=this.blindingGenerator.computeAndAddToScalarOffset(t,o.value.toString(10),r.assetBlinder,r.valueBlinder)}return t}calculateLastValueBlinder(e,t,r){let i=this.blindingGenerator.subtractScalars(t,r),n=this.blindingGenerator.subtractScalars(e,i);if(this.pset.globals.scalars)for(let o of this.pset.globals.scalars)n=this.blindingGenerator.subtractScalars(n,o);return n}validateIssuanceBlindingArgs(e){let{index:t,issuanceAsset:r,issuanceToken:i,issuanceValueCommitment:n,issuanceTokenCommitment:o,issuanceValueRangeProof:a,issuanceTokenRangeProof:s,issuanceValueBlindProof:u,issuanceTokenBlindProof:l,issuanceValueBlinder:c,issuanceTokenBlinder:f}=e;if(t<0||t>=this.pset.globals.inputCount)throw Error("Input index out of range");let h=this.pset.inputs[t];if(!h.hasIssuance()&&!h.hasReissuance())throw Error("Missing issuance on target input");if(0===r.length)throw Error("Missing issuance asset");if(32!==r.length)throw Error("Invalid issuance asset length");if(0===n.length)throw Error("Missing issuance value commitment");if(33!==n.length)throw Error("Invalid issuance value commitment length");if(0===c.length)throw Error("Missing issuance value blinder");if(32!==c.length)throw Error("Invalid issuance value blinder length");if(0===a.length)throw Error("Missing issuance value range proof");if(0===u.length)throw Error("Missing issuance blind value proof");if(h.issuanceInflationKeys>0){if(0===i.length)throw Error("Missing issuance token");if(32!==i.length)throw Error("Invalid issuance token length");if(0===o.length)throw Error("Missing issuance token commitment");if(33!==o.length)throw Error("Invalid issuance token commitment length");if(0===f.length)throw Error("Missing issuance token blinder");if(32!==f.length)throw Error("Invalid issuance token blinder length");if(0===s.length)throw Error("Missing issuance token range proof");if(0===l.length)throw Error("Missing issuance blind token value proof")}}async validateOutputBlindingArgs(e,t){let{index:r,nonce:i,nonceCommitment:n,valueCommitment:o,assetCommitment:a,valueRangeProof:s,assetSurjectionProof:u,valueBlindProof:l,assetBlindProof:c,valueBlinder:f,assetBlinder:h}=e;if(r<0||r>=this.pset.globals.outputCount)throw Error("Output index out of range");let p=this.pset.outputs[r];if(!p.needsBlinding())throw Error("Target output does not need blinding (does not have a blinding pubkey set)");if(!this.ownOutput(p.blinderIndex))throw Error("Output is not owned by this blinder");if(0===i.length)throw Error("Missing nonce");if(32!==i.length)throw Error("Invalid nonce length");if(0===n.length)throw Error("Missing nonce commitment");if(33!==n.length)throw Error("Invalid nonce commitment length");if(0===f.length)throw Error("Missing value blinder");if(32!==f.length)throw Error("Invalid value blinder length");if(0===h.length)throw Error("Missing asset blinder");if(32!==h.length)throw Error("Invalid asset blinder length");if(0===a.length)throw Error("Missing asset commitment");if(33!==a.length)throw Error("Invalid asset commitment length");if(0===u.length)throw Error("Missing asset surjection proof");if(0===c.length)throw Error("Missing blind asset proof");if(!t){if(0===o.length)throw Error("Missing value commitment");if(33!==o.length)throw Error("Invalid value commitment length");if(0===s.length)throw Error("Missing value range proof");if(0===l.length)throw Error("Missing blind value proof")}}ownOutput(e){return void 0!==this.ownedInputs.find(({index:t})=>t===e)}validateBlindingData(e,t,r){let i=this.pset.inputs.map((e,t)=>{let r=this.ownedInputs.find(({index:e})=>e===t);return r?{asset:r.asset,assetBlinder:r.assetBlindingFactor}:{asset:e.getUtxo().asset,assetBlinder:n.ZERO}});this.pset.inputs.forEach((e,t)=>{if((e.hasIssuance()||e.hasReissuance())&&(i.push({asset:e.getIssuanceAssetHash(),assetBlinder:n.ZERO}),e.issuanceInflationKeys>0)){let o=r&&void 0!==r.find(({index:e})=>e===t);i.push({asset:e.getIssuanceInflationKeysHash(o),assetBlinder:n.ZERO})}});let o=i.map(e=>e.asset),a=i.map(e=>e.assetBlinder);for(let s=0;s<t.length;s++){let{index:u,assetBlinder:l,assetCommitment:c,assetSurjectionProof:f,assetBlindProof:h,valueCommitment:p,valueRangeProof:d,valueBlindProof:g}=t[s],b=this.pset.outputs[u],y=e&&s===t.length-1;if(!this.blindingValidator.verifyAssetSurjectionProof(o,a,b.asset,l,f))throw Error("Invalid output asset surjection proof");if(!this.blindingValidator.verifyBlindAssetProof(b.asset,c,h))throw Error("Invalid output asset blind proof");if(!y){if(!this.blindingValidator.verifyValueRangeProof(p,c,d,b.script))throw Error("Invalid output value range proof");if(!this.blindingValidator.verifyBlindValueProof(p,c,g))throw Error("Invalid output value blind proof")}}}}t.Blinder=o},97410:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Creator=t.CreatorOutput=t.CreatorInput=void 0;let o=r(79787),a=r(84682),s=r(29725),u=r(37192),l=r(42035),c=r(63231),f=r(32474),h=n(r(53288));class p{constructor(e,t,r,i,n){this.txid=e,this.txIndex=t,this.sequence=r||f.Transaction.DEFAULT_SEQUENCE,this.heightLocktime=i||0,this.timeLocktime=n||0}validate(){if(0===this.txid.length)throw Error("missing prevout txid");if(64!==this.txid.length)throw Error("invalid prevout txid length");if(this.txIndex<0)throw Error("missing prevout tx index")}toPartialInput(){let e=(0,l.reverseBuffer)(i.from(this.txid,"hex")),t=new s.PsetInput(e,this.txIndex,this.sequence);return t.requiredHeightLocktime=this.heightLocktime,t.requiredTimeLocktime=this.timeLocktime,t}}t.CreatorInput=p;class d{constructor(e,t,r,i,n){this.asset=e,this.amount=t,this.script=r,this.blindingPublicKey=i,this.blinderIndex=n}validate(){if(0===this.asset.length)throw Error("missing asset");if(32!==i.from(this.asset,"hex").length)throw Error("invalid asset length");if(this.blindingPublicKey&&(void 0===this.blinderIndex||this.blinderIndex<0))throw Error("missing blinder index for confidential output")}toPartialOutput(){let e=c.AssetHash.fromHex(this.asset),t=new u.PsetOutput(this.amount,e.bytesWithoutPrefix,this.script||i.of());return this.blindingPublicKey&&(t.blinderIndex=this.blinderIndex,t.blindingPubkey=this.blindingPublicKey),t}}t.CreatorOutput=d;class g{static newPset(e){let t=e?e.locktime:void 0,r=new h.default(0);r.set(0),r.set(1);let i=new o.PsetGlobal(2,0,0,2,t);i.txModifiable=r,i.xpubs=[],i.scalars=[],i.proprietaryData=[],i.unknowns=[];let n=new a.Pset(i);return e&&e.inputs&&e.inputs.forEach(e=>{e.validate(),n.addInput(e.toPartialInput())}),e&&e.outputs&&e.outputs.forEach(e=>{e.validate(),n.addOutput(e.toPartialOutput())}),n}}t.Creator=g},62678:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Extractor=void 0;let n=r(63231),o=r(32474),a=r(21426),s=r(1307);class u{static extract(e){if(e.sanityCheck(),!e.isComplete())throw Error("Pset must be completed to extract final raw transaction");let t=new o.Transaction;return t.version=e.globals.txVersion,t.locktime=e.locktime(),e.inputs.forEach(e=>{t.addInput(e.previousTxid,e.previousTxIndex,e.sequence);let r=t.ins.length-1;if(e.hasIssuance()||e.hasReissuance()){let n=e.issuanceValueCommitment&&e.issuanceValueCommitment.length>0?e.issuanceValueCommitment:e.issuanceValue>0?a.ElementsValue.fromNumber(e.issuanceValue).bytes:i.of(0),o=e.issuanceInflationKeysCommitment&&e.issuanceInflationKeysCommitment.length>0?e.issuanceInflationKeysCommitment:e.issuanceInflationKeys>0?a.ElementsValue.fromNumber(e.issuanceInflationKeys).bytes:i.of(0);t.ins[r].issuance={assetAmount:n,tokenAmount:o,assetEntropy:e.issuanceAssetEntropy,assetBlindingNonce:e.issuanceBlindingNonce},e.issuanceValueRangeproof&&e.issuanceValueRangeproof.length>0&&(t.ins[r].issuanceRangeProof=e.issuanceValueRangeproof),e.issuanceInflationKeysRangeproof&&e.issuanceInflationKeysRangeproof.length>0&&(t.ins[r].inflationRangeProof=e.issuanceInflationKeysRangeproof)}t.ins[r].isPegin=e.peginWitness&&e.peginWitness.length>0,t.ins[r].isPegin&&(t.ins[r].peginWitness=e.peginWitness),e.finalScriptSig&&e.finalScriptSig.length>0&&(t.ins[r].script=e.finalScriptSig),e.finalScriptWitness&&e.finalScriptWitness.length>0&&(t.ins[r].witness=(0,s.scriptWitnessToWitnessStack)(e.finalScriptWitness))}),e.outputs.forEach(e=>{let r=e.script||i.from([]),o=e.valueCommitment&&e.valueCommitment.length>0?e.valueCommitment:a.ElementsValue.fromNumber(e.value).bytes,s=e.assetCommitment&&e.assetCommitment.length>0?e.assetCommitment:n.AssetHash.fromBytes(e.asset).bytes,u=e.ecdhPubkey&&e.ecdhPubkey.length>0?e.ecdhPubkey:i.of(0);t.addOutput(r,o,s,u,e.valueRangeproof,e.assetSurjectionProof)}),t}}t.Extractor=u},86828:function(e,t){"use strict";var r,i,n,o,a,s,u,l,c,f,h,p;Object.defineProperty(t,"__esModule",{value:!0}),t.OutputProprietaryTypes=t.OutputTypes=t.InputProprietaryTypes=t.InputTypes=t.GLOBAL_PROPRIETARY_TYPE_NAMES=t.GlobalProprietaryTypes=t.GlobalTypes=t.separator=void 0,t.separator=0,(u=r=t.GlobalTypes||(t.GlobalTypes={}))[u.XPUB=1]="XPUB",u[u.TX_VERSION=2]="TX_VERSION",u[u.FALLBACK_LOCKTIME=3]="FALLBACK_LOCKTIME",u[u.INPUT_COUNT=4]="INPUT_COUNT",u[u.OUTPUT_COUNT=5]="OUTPUT_COUNT",u[u.TX_MODIFIABLE=6]="TX_MODIFIABLE",u[u.SIGHASH_SINGLE_INPUTS=7]="SIGHASH_SINGLE_INPUTS",u[u.VERSION=251]="VERSION",u[u.PROPRIETARY=252]="PROPRIETARY",(l=i=t.GlobalProprietaryTypes||(t.GlobalProprietaryTypes={}))[l.SCALAR=0]="SCALAR",l[l.TX_MODIFIABLE=1]="TX_MODIFIABLE",t.GLOBAL_PROPRIETARY_TYPE_NAMES=["scalar","txModifiable"],(c=n=t.InputTypes||(t.InputTypes={}))[c.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",c[c.WITNESS_UTXO=1]="WITNESS_UTXO",c[c.PARTIAL_SIG=2]="PARTIAL_SIG",c[c.SIGHASH_TYPE=3]="SIGHASH_TYPE",c[c.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",c[c.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",c[c.BIP32_DERIVATION=6]="BIP32_DERIVATION",c[c.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",c[c.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",c[c.POR_COMMITMENT=9]="POR_COMMITMENT",c[c.RIPEMD_160=10]="RIPEMD_160",c[c.SHA_256=11]="SHA_256",c[c.HASH_160=12]="HASH_160",c[c.HASH_256=13]="HASH_256",c[c.PREVIOUS_TXID=14]="PREVIOUS_TXID",c[c.PREVIOUS_TXINDEX=15]="PREVIOUS_TXINDEX",c[c.SEQUENCE=16]="SEQUENCE",c[c.REQUIRED_TIME_LOCKTIME=17]="REQUIRED_TIME_LOCKTIME",c[c.REQUIRED_HEIGHT_LOCKTIME=18]="REQUIRED_HEIGHT_LOCKTIME",c[c.TAP_KEY_SIG=19]="TAP_KEY_SIG",c[c.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",c[c.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",c[c.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",c[c.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",c[c.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",c[c.PROPRIETARY=252]="PROPRIETARY",(f=o=t.InputProprietaryTypes||(t.InputProprietaryTypes={}))[f.ISSUANCE_VALUE=0]="ISSUANCE_VALUE",f[f.ISSUANCE_VALUE_COMMITMENT=1]="ISSUANCE_VALUE_COMMITMENT",f[f.ISSUANCE_VALUE_RANGEPROOF=2]="ISSUANCE_VALUE_RANGEPROOF",f[f.ISSUANCE_INFLATION_KEYS_RANGEPROOF=3]="ISSUANCE_INFLATION_KEYS_RANGEPROOF",f[f.PEGIN_TX=4]="PEGIN_TX",f[f.PEGIN_TXOUT_PROOF=5]="PEGIN_TXOUT_PROOF",f[f.PEGIN_GENESIS_HASH=6]="PEGIN_GENESIS_HASH",f[f.PEGIN_CLAIM_SCRIPT=7]="PEGIN_CLAIM_SCRIPT",f[f.PEGIN_VALUE=8]="PEGIN_VALUE",f[f.PEGIN_WITNESS=9]="PEGIN_WITNESS",f[f.ISSUANCE_INFLATION_KEYS=10]="ISSUANCE_INFLATION_KEYS",f[f.ISSUANCE_INFLATION_KEYS_COMMITMENT=11]="ISSUANCE_INFLATION_KEYS_COMMITMENT",f[f.ISSUANCE_BLINDING_NONCE=12]="ISSUANCE_BLINDING_NONCE",f[f.ISSUANCE_ASSET_ENTROPY=13]="ISSUANCE_ASSET_ENTROPY",f[f.UTXO_RANGEPROOF=14]="UTXO_RANGEPROOF",f[f.ISSUANCE_BLIND_VALUE_PROOF=15]="ISSUANCE_BLIND_VALUE_PROOF",f[f.ISSUANCE_BLIND_INFLATION_KEYS_PROOF=16]="ISSUANCE_BLIND_INFLATION_KEYS_PROOF",(h=a=t.OutputTypes||(t.OutputTypes={}))[h.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",h[h.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",h[h.BIP32_DERIVATION=2]="BIP32_DERIVATION",h[h.AMOUNT=3]="AMOUNT",h[h.SCRIPT=4]="SCRIPT",h[h.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",h[h.TAP_TREE=6]="TAP_TREE",h[h.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",h[h.PROPRIETARY=252]="PROPRIETARY",(p=s=t.OutputProprietaryTypes||(t.OutputProprietaryTypes={}))[p.VALUE_COMMITMENT=1]="VALUE_COMMITMENT",p[p.ASSET=2]="ASSET",p[p.ASSET_COMMITMENT=3]="ASSET_COMMITMENT",p[p.VALUE_RANGEPROOF=4]="VALUE_RANGEPROOF",p[p.ASSET_SURJECTION_PROOF=5]="ASSET_SURJECTION_PROOF",p[p.BLINDING_PUBKEY=6]="BLINDING_PUBKEY",p[p.ECDH_PUBKEY=7]="ECDH_PUBKEY",p[p.BLINDER_INDEX=8]="BLINDER_INDEX",p[p.BLIND_VALUE_PROOF=9]="BLIND_VALUE_PROOF",p[p.BLIND_ASSET_PROOF=10]="BLIND_ASSET_PROOF"},26040:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Finalizer=void 0;let i=r(75578),n=r(5164),o=r(1307);class a{constructor(e){e.sanityCheck(),this.pset=e}finalize(){let e=this.pset.copy();e.inputs.forEach((e,t)=>{this.finalizeInput(t)}),e.sanityCheck,this.pset.globals=e.globals,this.pset.inputs=e.inputs,this.pset.outputs=e.outputs}finalizeInput(e,t=u){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.inputs[e];if(r.isFinalized())return this;if(void 0===r.sighashType)throw Error("Missing input sighash type");if(!r.getUtxo())throw Error("Missing input (non-)witness utxo");let i=this.pset.copy(),{finalScriptSig:n,finalScriptWitness:o}=t(e,i);if(n&&(i.inputs[e].finalScriptSig=n),o&&(i.inputs[e].finalScriptWitness=o),!n&&!o&&!r.finalScriptWitness)throw Error(`Unknown error finalizing input #${e}`);return i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}}function s(e){let t={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};return t.isP2SH=!!e.redeemScript,t.isP2WSH=!!e.witnessScript,e.witnessScript?t.script=e.witnessScript:e.redeemScript?t.script=e.redeemScript:e.nonWitnessUtxo?t.script=e.nonWitnessUtxo.outs[e.previousTxIndex].script:e.witnessUtxo&&(t.script=e.witnessUtxo.script),(e.witnessScript||(0,o.isP2WPKH)(t.script))&&(t.isSegwit=!0),t}t.Finalizer=a;let u=(e,t)=>{let r=t.inputs[e];if((!r.partialSigs||0===r.partialSigs.length)&&(!r.tapKeySig||0===r.tapKeySig.length)&&(!r.tapScriptSig||0===r.tapScriptSig.length))throw Error(`Missing partial signatures for input at index ${e}. If the script does not have a CHECKSIG operation you must pass a custom finalizer function`);return r.isTaproot()?c(e,t):l(e,t)},l=(e,t)=>{let r=t.inputs[e],{script:i,isP2SH:n,isP2WSH:o,isSegwit:a}=s(r);if(!i)throw Error(`No script found for input #${e}`);return f(e,r,i,a,n,o)},c=(e,t)=>{let r=t.inputs[e];if(!r.witnessUtxo)throw Error(`Cannot finalize input #${e}. Missing withness utxo.`);return r.tapKeySig?{finalScriptWitness:(0,o.witnessStackToScriptWitness)([r.tapKeySig])}:d(e,r)};function f(e,t,r,i,n,a){let s=(0,o.classifyScript)(r);if(!p(t,r,s))throw Error(`Can not finalize input #${e}`);return h(r,s,t.partialSigs,i,n,a)}function h(e,t,r,n,a,s){let u,l;if("nonstandard"===t)return{finalScriptSig:void 0,finalScriptWitness:void 0};let c=(0,o.getPayment)(e,t,r),f=s?i.payments.p2wsh({redeem:c}):null,h=a?i.payments.p2sh({redeem:f||c}):null;return n?(l=f?(0,o.witnessStackToScriptWitness)(f.witness):(0,o.witnessStackToScriptWitness)(c.witness),h&&(u=h.input)):u=h?h.input:c.input,{finalScriptSig:u,finalScriptWitness:l}}function p(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return(0,o.hasSigs)(1,e.partialSigs);case"multisig":let n=i.payments.p2ms({output:t});return(0,o.hasSigs)(n.m,e.partialSigs,n.pubkeys);default:return!1}}function d(e,t,r){let i=(0,n.findTapLeafToFinalize)(t,e,r);try{let a=(0,n.sortSignatures)(t,i),s=a.concat(i.script).concat(i.controlBlock);return{finalScriptWitness:(0,o.witnessStackToScriptWitness)(s)}}catch(u){throw Error(`Can not finalize taproot input #${e}: ${u}`)}}},79787:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PsetGlobal=t.GlobalDuplicateFieldError=void 0;let o=r(86828),a=r(73597),s=r(6389),u=n(r(57795)),l=n(r(53288)),c=r(42035),f=r(84682),h=r(56504),p=78;class d extends Error{constructor(e){e&&(e="Duplicated global "+e),super(e)}}t.GlobalDuplicateFieldError=d;class g{constructor(e,t,r,i,n){this.txVersion=e||0,this.inputCount=t||0,this.outputCount=r||0,this.version=i||0,this.fallbackLocktime=n}static fromBuffer(e){let t;let r=new g;for(;;){try{t=a.KeyPair.fromBuffer(e)}catch(i){if(i instanceof Error&&i===a.ErrEmptyKey)return r.sanityCheck(),r;throw i}switch(t.key.keyType){case o.GlobalTypes.XPUB:if(t.key.keyData.length!==p+1&&![2,3].includes(t.key.keyData[46]))throw Error("Invalid xpub length");let n=t.key.keyData.slice(1),{masterFingerprint:c,path:b}=(0,h.decodeBip32Derivation)(t.value);r.xpubs||(r.xpubs=[]),r.xpubs.push({extendedKey:n,masterFingerprint:c,derivationPath:b});break;case o.GlobalTypes.TX_VERSION:if(r.txVersion>0)throw new d("tx version");if(4!==t.value.length)throw Error("Invalid global tx version length");r.txVersion=t.value.readUInt32LE();break;case o.GlobalTypes.FALLBACK_LOCKTIME:if(r.fallbackLocktime>0)throw new d("fallback locktime");if(4!==t.value.length)throw Error("Invalid global fallback locktime length");r.fallbackLocktime=t.value.readUInt32LE();break;case o.GlobalTypes.INPUT_COUNT:if(r.inputCount>0)throw new d("input count");r.inputCount=u.default.decode(t.value);break;case o.GlobalTypes.OUTPUT_COUNT:if(r.outputCount>0)throw new d("output count");r.outputCount=u.default.decode(t.value);break;case o.GlobalTypes.TX_MODIFIABLE:if(r.txModifiable)throw new d("tx modifiable");if(1!==t.value.length)throw Error("Invalid global tx modifiable length");r.txModifiable=new l.default(t.value[0]);break;case o.GlobalTypes.VERSION:if(r.version>0)throw new d("version");if(4!==t.value.length)throw Error("Invalid global version length");r.version=t.value.readUInt32LE();break;case o.GlobalTypes.PROPRIETARY:let y=s.ProprietaryData.fromKeyPair(t);if(0===f.magicPrefix.compare(y.identifier))switch(y.subType){case o.GlobalProprietaryTypes.SCALAR:if(32!==y.keyData.length)throw Error("Invalid global scalar length");r.scalars||(r.scalars=[]),r.scalars.push(y.keyData);break;case o.GlobalProprietaryTypes.TX_MODIFIABLE:if(r.modifiable)throw new d("pset modifiable");if(1!==t.value.length)throw Error("Invalid global pset modifiable length");r.modifiable=new l.default(t.value[0]);break;default:r.proprietaryData||(r.proprietaryData=[]),r.proprietaryData.push(y)}break;default:r.unknowns||(r.unknowns=[]),r.unknowns.push(t)}}}sanityCheck(){if(this.txVersion<2)throw Error("Global tx version must be at least 2");if(2!==this.txVersion)throw Error("Global version must be exactly 2");if(this.txModifiable&&parseInt(this.txModifiable.toString(),2)>7)throw Error("Invalid global tx modifiable value");if(this.modifiable&&0!==parseInt(this.modifiable.toString(),2))throw Error("Invalid global pset modifiable value");if(this.xpubs&&this.xpubs.some((e,t)=>{if(t===this.xpubs.length-1)return!1;let r=this.xpubs.slice(t+1);return r.some(t=>0===e.extendedKey.compare(t.extendedKey))}))throw new d("xpub");if(this.scalars&&this.scalars.some((e,t)=>{if(t===this.scalars.length-1)return!1;let r=this.scalars.slice(t+1);return r.some(t=>0===e.compare(t))}))throw new d("scalar");return this}toBuffer(){let e=this.getKeyPairs(),t=e.map(e=>e.toBuffer()),r=0;t.forEach(e=>{r+=e.length});let i=c.BufferWriter.withCapacity(r);return t.forEach(e=>i.writeSlice(e)),i.buffer}getKeyPairs(){let e=[];this.xpubs&&this.xpubs.length>0&&this.xpubs.forEach(({extendedKey:t,masterFingerprint:r,derivationPath:n})=>{let s=i.concat([i.of(t.length),t]),u=new a.Key(o.GlobalTypes.XPUB,s),l=(0,h.encodeBIP32Derivation)(r,n);e.push(new a.KeyPair(u,l))});let t=i.allocUnsafe(4);t.writeUInt32LE(this.txVersion,0);let r=new a.Key(o.GlobalTypes.TX_VERSION);if(e.push(new a.KeyPair(r,t)),void 0!==this.fallbackLocktime){let n=i.allocUnsafe(4);n.writeUInt32LE(this.fallbackLocktime,0);let l=new a.Key(o.GlobalTypes.FALLBACK_LOCKTIME);e.push(new a.KeyPair(l,n))}let c=i.allocUnsafe(u.default.encodingLength(this.inputCount));u.default.encode(this.inputCount,c,0);let f=new a.Key(o.GlobalTypes.INPUT_COUNT);e.push(new a.KeyPair(f,c));let p=i.allocUnsafe(u.default.encodingLength(this.outputCount));u.default.encode(this.outputCount,p,0);let d=new a.Key(o.GlobalTypes.OUTPUT_COUNT);if(e.push(new a.KeyPair(d,p)),this.txModifiable){let g=i.allocUnsafe(1);g.writeUInt8(Number(this.txModifiable.toString(10)),0);let b=new a.Key(o.GlobalTypes.TX_MODIFIABLE);e.push(new a.KeyPair(b,g))}if(this.scalars&&this.scalars.length>0&&this.scalars.forEach(t=>{let r=s.ProprietaryData.proprietaryKey(o.GlobalProprietaryTypes.SCALAR,t),i=new a.Key(o.GlobalTypes.PROPRIETARY,r);e.push(new a.KeyPair(i))}),this.modifiable&&parseInt(this.modifiable.toString(),2)>0){let y=i.allocUnsafe(1);y.writeUInt8(Number(this.modifiable.toString(2)),0);let m=s.ProprietaryData.proprietaryKey(o.GlobalProprietaryTypes.TX_MODIFIABLE),v=new a.Key(o.GlobalTypes.PROPRIETARY,m);e.push(new a.KeyPair(v,y))}let w=i.allocUnsafe(4);w.writeUInt32LE(this.version,0);let E=new a.Key(o.GlobalTypes.VERSION);return e.push(new a.KeyPair(E,w)),this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach(t=>{let r=s.ProprietaryData.proprietaryKey(t.subType,t.keyData),i=new a.Key(o.GlobalTypes.PROPRIETARY,r);e.push(new a.KeyPair(i,t.value))}),e.concat(this.unknowns||[]),e}}t.PsetGlobal=g},78552:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classifyScript=t.scriptWitnessToWitnessStack=t.witnessStackToScriptWitness=t.ZKPValidator=t.ZKPGenerator=t.Updater=t.Signer=t.PsetOutput=t.PsetInput=t.PsetGlobal=t.Pset=t.CreatorOutput=t.CreatorInput=t.Finalizer=t.Extractor=t.Creator=t.Blinder=void 0;let i=r(79787);Object.defineProperty(t,"PsetGlobal",{enumerable:!0,get:function(){return i.PsetGlobal}});let n=r(29725);Object.defineProperty(t,"PsetInput",{enumerable:!0,get:function(){return n.PsetInput}});let o=r(37192);Object.defineProperty(t,"PsetOutput",{enumerable:!0,get:function(){return o.PsetOutput}});let a=r(84682);Object.defineProperty(t,"Pset",{enumerable:!0,get:function(){return a.Pset}});let s=r(97410);Object.defineProperty(t,"Creator",{enumerable:!0,get:function(){return s.Creator}}),Object.defineProperty(t,"CreatorInput",{enumerable:!0,get:function(){return s.CreatorInput}}),Object.defineProperty(t,"CreatorOutput",{enumerable:!0,get:function(){return s.CreatorOutput}});let u=r(35288);Object.defineProperty(t,"Updater",{enumerable:!0,get:function(){return u.Updater}});let l=r(71669);Object.defineProperty(t,"Blinder",{enumerable:!0,get:function(){return l.Blinder}});let c=r(2572);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return c.Signer}});let f=r(26040);Object.defineProperty(t,"Finalizer",{enumerable:!0,get:function(){return f.Finalizer}});let h=r(62678);Object.defineProperty(t,"Extractor",{enumerable:!0,get:function(){return h.Extractor}});let p=r(1307);Object.defineProperty(t,"witnessStackToScriptWitness",{enumerable:!0,get:function(){return p.witnessStackToScriptWitness}}),Object.defineProperty(t,"scriptWitnessToWitnessStack",{enumerable:!0,get:function(){return p.scriptWitnessToWitnessStack}}),Object.defineProperty(t,"classifyScript",{enumerable:!0,get:function(){return p.classifyScript}});let d=r(74775);Object.defineProperty(t,"ZKPGenerator",{enumerable:!0,get:function(){return d.ZKPGenerator}}),Object.defineProperty(t,"ZKPValidator",{enumerable:!0,get:function(){return d.ZKPValidator}})},29725:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PsetInput=t.InputDuplicateFieldError=void 0;let s=r(17656),u=r(42035),l=r(25221),c=r(32474),f=r(56504),h=r(86828),p=r(73597),d=r(6389),g=r(84682),b=a(r(40081)),y=r(1307);class m extends Error{constructor(e){e&&(e="Duplicated input "+e),super(e)}}t.InputDuplicateFieldError=m;class v{constructor(e,t,r){this.previousTxid=e||i.from([]),this.previousTxIndex=t||0,this.sequence=r}static fromBuffer(e){let t;let r=new v;for(;;){try{t=p.KeyPair.fromBuffer(e)}catch(n){if(n instanceof Error&&n===p.ErrEmptyKey)return r.sanityCheck(),r;throw n}switch(t.key.keyType){case h.InputTypes.NON_WITNESS_UTXO:if(r.nonWitnessUtxo)throw new m("non-witness utxo");r.nonWitnessUtxo=c.Transaction.fromBuffer(t.value);break;case h.InputTypes.WITNESS_UTXO:if(r.witnessUtxo)throw new m("witness utxo");r.witnessUtxo=E(t.value);break;case h.InputTypes.PARTIAL_SIG:r.partialSigs||(r.partialSigs=[]);let o=t.key.keyData;if(33!==o.length)throw Error("Invalid partial sig's pubkey length");if(r.partialSigs.find(e=>e.pubkey.equals(o)))throw new m("partial sig");let a=t.value;b.signature.decode(a),r.partialSigs.push({pubkey:o,signature:a});break;case h.InputTypes.SIGHASH_TYPE:if(void 0!==r.sighashType)throw new m("sighash type");if(4!==t.value.length)throw Error("Invalid input sighash type length");r.sighashType=t.value.readUInt32LE();break;case h.InputTypes.REDEEM_SCRIPT:if(r.redeemScript&&r.redeemScript.length>0)throw new m("redeem script");r.redeemScript=t.value;break;case h.InputTypes.WITNESS_SCRIPT:if(r.witnessScript&&r.witnessScript.length>0)throw new m("witness script");r.witnessScript=t.value;break;case h.InputTypes.BIP32_DERIVATION:let l=t.key.keyData;if(33!==l.length)throw Error("Invalid input bip32 derivation pubkey length");if(r.bip32Derivation||(r.bip32Derivation=[]),r.bip32Derivation.find(e=>e.pubkey.equals(l)))throw new m("bip32 derivation");let{masterFingerprint:y,path:w}=(0,f.decodeBip32Derivation)(t.value);r.bip32Derivation.push({pubkey:l,masterFingerprint:y,path:w});break;case h.InputTypes.FINAL_SCRIPTSIG:if(r.finalScriptSig&&r.finalScriptSig.length>0)throw new m("final scriptsig");r.finalScriptSig=t.value;break;case h.InputTypes.FINAL_SCRIPTWITNESS:if(r.finalScriptWitness&&r.finalScriptWitness.length>0)throw new m("final script witness");r.finalScriptWitness=t.value;break;case h.InputTypes.RIPEMD_160:let _=t.key.keyData.toString("hex");if(20!==_.length)throw Error("Invalid length for key of ripemd160 preimages");r.ripemd160Preimages||(r.ripemd160Preimages={}),r.ripemd160Preimages[_]=t.value;break;case h.InputTypes.SHA_256:let S=t.key.keyData.toString("hex");if(32!==S.length)throw Error("Invalid length for key of sha256 preimages");r.sha256Preimages||(r.sha256Preimages={}),r.sha256Preimages[S]=t.value;break;case h.InputTypes.HASH_160:let I=t.key.keyData.toString("hex");if(20!==I.length)throw Error("Invalid length for key of hash160 preimages");r.hash160Preimages||(r.hash160Preimages={}),r.hash160Preimages[I]=t.value;break;case h.InputTypes.HASH_256:let P=t.key.keyData.toString("hex");if(32!==P.length)throw Error("Invalid length for key of hash256 preimages");r.hash256Preimages||(r.hash256Preimages={}),r.hash256Preimages[P]=t.value;break;case h.InputTypes.PREVIOUS_TXID:if(r.previousTxid&&r.previousTxid.length>0)throw new m("previous txid");if(32!==t.value.length)throw Error("Invalid input previous txid length");r.previousTxid=t.value;break;case h.InputTypes.PREVIOUS_TXINDEX:if(r.previousTxIndex>0)throw new m("previous txindex");if(4!==t.value.length)throw Error("Invalid input previous tx index length");r.previousTxIndex=t.value.readUInt32LE();break;case h.InputTypes.SEQUENCE:if(void 0!==r.sequence)throw new m("sequence");if(4!==t.value.length)throw Error("Invalid input sequence length");r.sequence=t.value.readUInt32LE();break;case h.InputTypes.REQUIRED_TIME_LOCKTIME:if(r.requiredTimeLocktime>0)throw new m("time locktime");if(4!==t.value.length)throw Error("Invalid input time-based locktime length");r.requiredTimeLocktime=t.value.readUInt32LE();break;case h.InputTypes.REQUIRED_HEIGHT_LOCKTIME:if(r.requiredHeightLocktime>0)throw new m("height locktime");if(4!==t.value.length)throw Error("Invalid input height-based locktime length");r.requiredHeightLocktime=t.value.readUInt32LE();break;case h.InputTypes.TAP_KEY_SIG:if(r.tapKeySig&&r.tapKeySig.length>0)throw new m("taproot keysig");if(64!==t.value.length&&65!==t.value.length)throw Error("Invalid input taproot key signature length");r.tapKeySig=t.value;break;case h.InputTypes.TAP_SCRIPT_SIG:if(r.tapScriptSig||(r.tapScriptSig=[]),64!==t.key.keyData.length)throw Error("Invalid input TAP_SCRIPT_SIG key data length");let k=t.key.keyData.slice(0,32),T=t.key.keyData.slice(32);if(r.tapScriptSig.find(e=>e.pubkey.equals(k)))throw new m("taproot scriptsig");if(64!==t.value.length&&65!==t.value.length)throw Error("Invalid input taproot key signature length");r.tapScriptSig.push({pubkey:k,leafHash:T,signature:t.value});break;case h.InputTypes.TAP_LEAF_SCRIPT:if(r.tapLeafScript||(r.tapLeafScript=[]),(t.key.keyData.length-1)%32!=0)throw Error("Invalid input TAP_LEAF_SCRIPT key data length");let O=t.key.keyData,A=t.value.slice(-1)[0];if((254&O[0])!==A)throw Error("Invalid input taproot leaf script version");r.tapLeafScript.push({controlBlock:O,leafVersion:A,script:t.value.slice(0,-1)});break;case h.InputTypes.TAP_BIP32_DERIVATION:let x=t.key.keyData;if(33!==x.length)throw Error("Invalid input bip32 derivation pubkey length");r.tapBip32Derivation||(r.tapBip32Derivation=[]);let N=t.key.keyData;if(r.tapBip32Derivation.find(e=>e.pubkey.equals(N)))throw new m("taproot bip32 derivation");let R=u.varuint.decode(t.value),B=u.varuint.encodingLength(R),C=(0,f.decodeBip32Derivation)(t.value.slice(B+32*R)),U=Array(R);for(let M=0,j=B;M<R;M++,j+=32)U[M]=t.value.slice(j,j+32);r.tapBip32Derivation.push({pubkey:N,masterFingerprint:C.masterFingerprint,path:C.path,leafHashes:U});break;case h.InputTypes.TAP_INTERNAL_KEY:if(r.tapInternalKey&&r.tapInternalKey.length>0)throw new m("taproot internal key");if(32!==t.value.length)throw Error("Invalid input taproot internal key length");r.tapInternalKey=t.value;break;case h.InputTypes.TAP_MERKLE_ROOT:if(r.tapMerkleRoot&&r.tapMerkleRoot.length>0)throw new m("taproot merkle root");if(32!==t.value.length)throw Error("Invalid input taproot merkle root length");r.tapMerkleRoot=t.value;break;case h.InputTypes.PROPRIETARY:let L=d.ProprietaryData.fromKeyPair(t);if(0===i.compare(L.identifier,g.magicPrefix))switch(L.subType){case h.InputProprietaryTypes.ISSUANCE_VALUE:if(r.issuanceValue>0)throw new m("issuance value");if(8!==t.value.length)throw Error("Invalid input issuance value length");r.issuanceValue=(0,u.readUInt64LE)(t.value,0);break;case h.InputProprietaryTypes.ISSUANCE_VALUE_COMMITMENT:if(r.issuanceValueCommitment&&r.issuanceValueCommitment.length>0)throw new m("issuance value commitment");if(33!==t.value.length)throw Error("Invalid input issuance value commitment length");r.issuanceValueCommitment=t.value;break;case h.InputProprietaryTypes.ISSUANCE_VALUE_RANGEPROOF:if(r.issuanceValueRangeproof&&r.issuanceValueRangeproof.length>0)throw new m("issuance value range proof");r.issuanceValueRangeproof=t.value;break;case h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_RANGEPROOF:if(r.issuanceInflationKeysRangeproof&&r.issuanceInflationKeysRangeproof.length>0)throw new m("issuance inflation keys range proof");r.issuanceInflationKeysRangeproof=t.value;break;case h.InputProprietaryTypes.PEGIN_TX:if(void 0!==r.peginTx)throw new m("pegin tx");try{r.peginTx=s.Transaction.fromBuffer(t.value)}catch(K){throw Error("Invalid input pegin tx")}break;case h.InputProprietaryTypes.PEGIN_TXOUT_PROOF:if(r.peginTxoutProof&&r.peginTxoutProof.length>0)throw new m("pegin txout proof");r.peginTxoutProof=t.value;break;case h.InputProprietaryTypes.PEGIN_GENESIS_HASH:if(r.peginGenesisHash&&r.peginGenesisHash.length>0)throw new m("pegin genesis hash");if(32!==t.value.length)throw Error("Invalid input pegin genesis hash length");r.peginGenesisHash=t.value;break;case h.InputProprietaryTypes.PEGIN_CLAIM_SCRIPT:if(r.peginClaimScript&&r.peginClaimScript.length>0)throw new m("pegin claim script");r.peginClaimScript=t.value;break;case h.InputProprietaryTypes.PEGIN_VALUE:if(r.peginValue>0)throw new m("pegin value");if(8!==t.value.length)throw Error("Invalid input pegin value length");r.peginValue=(0,u.readUInt64LE)(t.value,0);break;case h.InputProprietaryTypes.PEGIN_WITNESS:if(r.peginWitness&&r.peginWitness.length>0)throw new m("pegin witness");let D=new u.BufferReader(t.value);try{r.peginWitness=D.readVector()}catch(H){throw Error("Invalid input pegin witness")}break;case h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS:if(r.issuanceInflationKeys>0)throw new m("issuance inflation keys");if(8!==t.value.length)throw Error("Invalid input issuance inflation keys length");r.issuanceInflationKeys=(0,u.readUInt64LE)(t.value,0);break;case h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_COMMITMENT:if(r.issuanceInflationKeysCommitment&&r.issuanceInflationKeysCommitment.length>0)throw new m("issuance inflation keys commitment");if(33!==t.value.length)throw Error("Invalid input issuance inflation keys commitment length");r.issuanceInflationKeysCommitment=t.value;break;case h.InputProprietaryTypes.ISSUANCE_BLINDING_NONCE:if(r.issuanceBlindingNonce&&r.issuanceBlindingNonce.length>0)throw new m("issuance blinding nonce");if(32!==t.value.length)throw Error("Invalid input issuance blinding nonce length");r.issuanceBlindingNonce=t.value;break;case h.InputProprietaryTypes.ISSUANCE_ASSET_ENTROPY:if(r.issuanceAssetEntropy&&r.issuanceAssetEntropy.length>0)throw new m("issuance asset entropy");if(32!==t.value.length)throw Error("Invalid input issuance asset entropy length");r.issuanceAssetEntropy=t.value;break;case h.InputProprietaryTypes.UTXO_RANGEPROOF:if(r.utxoRangeProof&&r.utxoRangeProof.length>0)throw new m("utxo range proof");r.utxoRangeProof=t.value;break;case h.InputProprietaryTypes.ISSUANCE_BLIND_VALUE_PROOF:if(r.issuanceBlindValueProof&&r.issuanceBlindValueProof.length>0)throw new m("issuance blind value proof");r.issuanceBlindValueProof=t.value;break;case h.InputProprietaryTypes.ISSUANCE_BLIND_INFLATION_KEYS_PROOF:if(r.issuanceBlindInflationKeysProof&&r.issuanceBlindInflationKeysProof.length>0)throw new m("issuance blind inflation keys proof");r.issuanceBlindInflationKeysProof=t.value;break;default:r.proprietaryData||(r.proprietaryData=[]),r.proprietaryData.push(L)}break;default:r.unknowns||(r.unknowns=[]),r.unknowns.push(t)}}}sanityCheck(){if(0===this.previousTxid.length)throw Error("Missing input previous txid");if(this.previousTxIndex<0)throw Error("Missing input previous tx index");if(!this.witnessUtxo&&this.witnessScript&&this.witnessScript.length>0)throw Error("Input witness script cannot be set if witness utxo is unset");if(!this.witnessUtxo&&this.finalScriptWitness&&this.finalScriptWitness.length>0)throw Error("Input final script witness cannot be set if witness utxo is unset");let e=this.issuanceValueCommitment&&this.issuanceValueCommitment.length>0,t=this.issuanceBlindValueProof&&this.issuanceBlindValueProof.length>0;if(this.issuanceValue&&e!==t)throw Error("Missing input issuance value commitment or blind proof");let r=this.issuanceInflationKeysCommitment&&this.issuanceInflationKeysCommitment.length>0,i=this.issuanceBlindInflationKeysProof&&this.issuanceBlindInflationKeysProof.length>0;if(this.issuanceInflationKeys&&r!==i)throw Error("Missing input issuance inflation keys commitment or blind proof");if(void 0!==this.sighashType&&this.sighashType<0)throw Error("Invalid sighash type");return this}hasIssuance(){return!!this.issuanceBlindingNonce&&this.issuanceBlindingNonce.equals(c.ZERO)}hasIssuanceBlinded(){return this.issuanceValueCommitment.length>0}hasReissuance(){return!!this.issuanceBlindingNonce&&!this.issuanceBlindingNonce.equals(c.ZERO)}isFinalized(){return this.finalScriptSig&&this.finalScriptSig.length>0||this.finalScriptWitness&&this.finalScriptWitness.length>0}isTaproot(){return this.tapInternalKey&&this.tapInternalKey.length>0||this.tapMerkleRoot&&this.tapMerkleRoot.length>0||this.tapLeafScript&&this.tapLeafScript.length>0||this.tapBip32Derivation&&this.tapBip32Derivation.length>0||this.witnessUtxo&&(0,y.isP2TR)(this.witnessUtxo.script)}getIssuanceAssetHash(){if(!this.hasIssuance()&&!this.hasReissuance())return;if(!this.issuanceAssetEntropy)throw Error("missing issuance asset entropy");let e=this.issuanceAssetEntropy;return this.hasReissuance()||(e=(0,l.generateEntropy)({txHash:this.previousTxid,vout:this.previousTxIndex},this.issuanceAssetEntropy)),(0,l.calculateAsset)(e)}getIssuanceInflationKeysHash(e){if(!this.hasIssuance()&&!this.hasReissuance())return;if(!this.issuanceAssetEntropy)throw Error("missing issuance asset entropy");let t=this.issuanceAssetEntropy;return this.hasIssuance()&&(t=(0,l.generateEntropy)({txHash:this.previousTxid,vout:this.previousTxIndex},this.issuanceAssetEntropy)),(0,l.calculateReissuanceToken)(t,e)}getUtxo(){if(this.witnessUtxo||this.nonWitnessUtxo){if(!this.nonWitnessUtxo){let e=this.witnessUtxo;return e.rangeProof=this.utxoRangeProof,e}return this.nonWitnessUtxo.outs[this.previousTxIndex]}}toBuffer(){let e=this.getKeyPairs(),t=e.map(e=>e.toBuffer()),r=0;t.forEach(e=>{r+=e.length});let i=u.BufferWriter.withCapacity(r);return t.forEach(e=>i.writeSlice(e)),i.buffer}getKeyPairs(){let e=[];if(this.nonWitnessUtxo){let t=new p.Key(h.InputTypes.NON_WITNESS_UTXO),r=this.nonWitnessUtxo.toBuffer();e.push(new p.KeyPair(t,r))}if(this.witnessUtxo){let n=new p.Key(h.InputTypes.WITNESS_UTXO),o=w(this.witnessUtxo);e.push(new p.KeyPair(n,o))}if(this.partialSigs&&this.partialSigs.length>0&&this.partialSigs.forEach(({pubkey:t,signature:r})=>{let i=new p.Key(h.InputTypes.PARTIAL_SIG,t);e.push(new p.KeyPair(i,r))}),void 0!==this.sighashType){let a=new p.Key(h.InputTypes.SIGHASH_TYPE),s=i.allocUnsafe(4);s.writeUInt32LE(this.sighashType),e.push(new p.KeyPair(a,s))}if(this.redeemScript&&this.redeemScript.length>0){let l=new p.Key(h.InputTypes.REDEEM_SCRIPT);e.push(new p.KeyPair(l,this.redeemScript))}if(this.witnessScript&&this.witnessScript.length>0){let c=new p.Key(h.InputTypes.WITNESS_SCRIPT);e.push(new p.KeyPair(c,this.witnessScript))}if(this.bip32Derivation&&this.bip32Derivation.length>0&&this.bip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:i})=>{let n=new p.Key(h.InputTypes.BIP32_DERIVATION,t),o=(0,f.encodeBIP32Derivation)(r,i);e.push(new p.KeyPair(n,o))}),this.finalScriptSig&&this.finalScriptSig.length>0){let g=new p.Key(h.InputTypes.FINAL_SCRIPTSIG);e.push(new p.KeyPair(g,this.finalScriptSig))}if(this.finalScriptWitness&&this.finalScriptWitness.length>0){let b=new p.Key(h.InputTypes.FINAL_SCRIPTWITNESS);e.push(new p.KeyPair(b,this.finalScriptWitness))}this.ripemd160Preimages&&Object.keys(this.ripemd160Preimages).length>0&&Object.entries(this.ripemd160Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.RIPEMD_160,i.from(t,"hex"));e.push(new p.KeyPair(n,r))}),this.sha256Preimages&&Object.keys(this.sha256Preimages).length>0&&Object.entries(this.sha256Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.SHA_256,i.from(t,"hex"));e.push(new p.KeyPair(n,r))}),this.hash160Preimages&&Object.keys(this.hash160Preimages).length>0&&Object.entries(this.hash160Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.HASH_160,i.from(t,"hex"));e.push(new p.KeyPair(n,r))}),this.hash256Preimages&&Object.keys(this.hash256Preimages).length>0&&Object.entries(this.hash256Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.HASH_256,i.from(t,"hex"));e.push(new p.KeyPair(n,r))});let y=new p.Key(h.InputTypes.PREVIOUS_TXID);e.push(new p.KeyPair(y,this.previousTxid));let m=new p.Key(h.InputTypes.PREVIOUS_TXINDEX),v=i.allocUnsafe(4);if(v.writeUInt32LE(this.previousTxIndex),e.push(new p.KeyPair(m,v)),this.sequence>0){let E=new p.Key(h.InputTypes.SEQUENCE),_=i.allocUnsafe(4);_.writeUInt32LE(this.sequence),e.push(new p.KeyPair(E,_))}if(this.requiredTimeLocktime>0){let S=new p.Key(h.InputTypes.REQUIRED_TIME_LOCKTIME),I=i.allocUnsafe(4);I.writeUInt32LE(this.requiredTimeLocktime),e.push(new p.KeyPair(S,I))}if(this.requiredHeightLocktime>0){let P=new p.Key(h.InputTypes.REQUIRED_HEIGHT_LOCKTIME),k=i.allocUnsafe(4);k.writeUInt32LE(this.requiredHeightLocktime),e.push(new p.KeyPair(P,k))}if(this.tapKeySig&&this.tapKeySig.length>0){let T=new p.Key(h.InputTypes.TAP_KEY_SIG);e.push(new p.KeyPair(T,this.tapKeySig))}if(this.tapScriptSig&&this.tapScriptSig.length>0&&this.tapScriptSig.forEach(({pubkey:t,signature:r,leafHash:n})=>{let o=i.concat([t,n]),a=new p.Key(h.InputTypes.TAP_SCRIPT_SIG,o);e.push(new p.KeyPair(a,r))}),this.tapLeafScript&&this.tapLeafScript.length>0&&this.tapLeafScript.forEach(({leafVersion:t,script:r,controlBlock:n})=>{let o=new p.Key(h.InputTypes.TAP_LEAF_SCRIPT,n),a=i.concat([r,i.of(t)]);e.push(new p.KeyPair(o,a))}),this.tapBip32Derivation&&this.tapBip32Derivation.length>0&&this.tapBip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:n,leafHashes:o})=>{let a=new p.Key(h.InputTypes.TAP_BIP32_DERIVATION,t),s=u.varuint.encodingLength(o.length),l=i.allocUnsafe(s);u.varuint.encode(o.length,l);let c=i.concat([l,...o,(0,f.encodeBIP32Derivation)(r,n)]);e.push(new p.KeyPair(a,c))}),this.tapInternalKey&&this.tapInternalKey.length>0){let O=new p.Key(h.InputTypes.TAP_INTERNAL_KEY);e.push(new p.KeyPair(O,this.tapInternalKey))}if(this.tapMerkleRoot&&this.tapMerkleRoot.length>0){let A=new p.Key(h.InputTypes.TAP_MERKLE_ROOT);e.push(new p.KeyPair(A,this.tapMerkleRoot))}if(this.issuanceValue>0){let x=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_VALUE),N=new p.Key(h.InputTypes.PROPRIETARY,x),R=i.allocUnsafe(8);(0,u.writeUInt64LE)(R,this.issuanceValue,0),e.push(new p.KeyPair(N,R))}if(this.issuanceValueCommitment&&this.issuanceValueCommitment.length>0){let B=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_VALUE_COMMITMENT),C=new p.Key(h.InputTypes.PROPRIETARY,B);e.push(new p.KeyPair(C,this.issuanceValueCommitment))}if(this.issuanceValueRangeproof&&this.issuanceValueRangeproof.length>0){let U=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_VALUE_RANGEPROOF),M=new p.Key(h.InputTypes.PROPRIETARY,U);e.push(new p.KeyPair(M,this.issuanceValueRangeproof))}if(this.issuanceInflationKeysRangeproof&&this.issuanceInflationKeysRangeproof.length>0){let j=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_RANGEPROOF),L=new p.Key(h.InputTypes.PROPRIETARY,j);e.push(new p.KeyPair(L,this.issuanceInflationKeysRangeproof))}if(this.peginTx){let K=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_TX),D=new p.Key(h.InputTypes.PROPRIETARY,K);e.push(new p.KeyPair(D,this.peginTx.toBuffer()))}if(this.peginTxoutProof&&this.peginTxoutProof.length>0){let H=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_TXOUT_PROOF),z=new p.Key(h.InputTypes.PROPRIETARY,H);e.push(new p.KeyPair(z,this.peginTxoutProof))}if(this.peginGenesisHash&&this.peginGenesisHash.length>0){let F=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_GENESIS_HASH),V=new p.Key(h.InputTypes.PROPRIETARY,F);e.push(new p.KeyPair(V,this.peginGenesisHash))}if(this.peginClaimScript&&this.peginClaimScript.length>0){let q=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_CLAIM_SCRIPT),W=new p.Key(h.InputTypes.PROPRIETARY,q);e.push(new p.KeyPair(W,this.peginClaimScript))}if(this.peginValue>0){let G=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_VALUE),X=new p.Key(h.InputTypes.PROPRIETARY,G),Y=i.allocUnsafe(8);(0,u.writeUInt64LE)(Y,this.peginValue,0),e.push(new p.KeyPair(X,Y))}if(this.peginWitness&&this.peginWitness.length>0){let Z=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_WITNESS),$=new u.BufferWriter(i.allocUnsafe(0));$.writeVector(this.peginWitness);let J=new p.Key(h.InputTypes.PROPRIETARY,Z);e.push(new p.KeyPair(J,$.buffer))}if(this.issuanceInflationKeys>0){let Q=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS),ee=new p.Key(h.InputTypes.PROPRIETARY,Q),et=i.allocUnsafe(8);(0,u.writeUInt64LE)(et,this.issuanceInflationKeys,0),e.push(new p.KeyPair(ee,et))}if(this.issuanceInflationKeysCommitment&&this.issuanceInflationKeysCommitment.length>0){let er=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_COMMITMENT),ei=new p.Key(h.InputTypes.PROPRIETARY,er);e.push(new p.KeyPair(ei,this.issuanceInflationKeysCommitment))}if(this.issuanceBlindingNonce&&this.issuanceBlindingNonce.length>0){let en=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_BLINDING_NONCE),eo=new p.Key(h.InputTypes.PROPRIETARY,en);e.push(new p.KeyPair(eo,this.issuanceBlindingNonce))}if(this.issuanceAssetEntropy&&this.issuanceAssetEntropy.length>0){let ea=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_ASSET_ENTROPY),es=new p.Key(h.InputTypes.PROPRIETARY,ea);e.push(new p.KeyPair(es,this.issuanceAssetEntropy))}if(this.utxoRangeProof&&this.utxoRangeProof.length>0){let eu=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.UTXO_RANGEPROOF),el=new p.Key(h.InputTypes.PROPRIETARY,eu);e.push(new p.KeyPair(el,this.utxoRangeProof))}if(this.issuanceBlindValueProof&&this.issuanceBlindValueProof.length>0){let ec=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_BLIND_VALUE_PROOF),ef=new p.Key(h.InputTypes.PROPRIETARY,ec);e.push(new p.KeyPair(ef,this.issuanceBlindValueProof))}if(this.issuanceBlindInflationKeysProof&&this.issuanceBlindInflationKeysProof.length>0){let eh=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_BLIND_INFLATION_KEYS_PROOF),ep=new p.Key(h.InputTypes.PROPRIETARY,eh);e.push(new p.KeyPair(ep,this.issuanceBlindInflationKeysProof))}return this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach(t=>{let r=d.ProprietaryData.proprietaryKey(t.subType,t.keyData),i=new p.Key(h.InputTypes.PROPRIETARY,r);e.push(new p.KeyPair(i,t.value))}),e.concat(this.unknowns||[]),e}}function w(e){let t=e.asset.length+e.value.length+u.varuint.encodingLength(e.script.length)+e.script.length+e.nonce.length,r=i.allocUnsafe(t),n=new u.BufferWriter(r,0);return n.writeSlice(e.asset),n.writeSlice(e.value),n.writeSlice(e.nonce),n.writeVarSlice(e.script),r}function E(e){if(e.length<45)throw Error("Invalid input witness utxo length");let t=new u.BufferReader(e),r=t.readSlice(33),i=t.readConfidentialValue(),n=t.readConfidentialNonce(),o=t.readVarSlice();return{asset:r,value:i,nonce:n,script:o}}t.PsetInput=v},73597:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=t.Key=t.ErrEmptyKey=void 0;let n=r(42035);t.ErrEmptyKey=Error("no more key pairs");class o{constructor(e,t){this.keyType=e,this.keyData=t||i.from([])}static fromBuffer(e){let r=e.readVarSlice();if(0===r.length)throw t.ErrEmptyKey;if(r.length>1e4)throw Error("invalid key size");return new o(r[0],r.slice(1))}toBuffer(){let e=i.concat([i.of(this.keyType),this.keyData]),t=n.varuint.encodingLength(e.length)+e.length,r=n.BufferWriter.withCapacity(t);return r.writeVarSlice(e),r.buffer}}t.Key=o;class a{constructor(e,t){this.key=e,this.value=t||i.from([])}static fromBuffer(e){let t=o.fromBuffer(e),r=e.readVarSlice();return new a(t,r)}toBuffer(){let e=this.key.toBuffer(),t=e.length+n.varuint.encodingLength(this.value.length)+this.value.length,r=n.BufferWriter.withCapacity(t);return r.writeSlice(e),r.writeVarSlice(this.value),r.buffer}}t.KeyPair=a},37192:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.PsetOutput=t.OutputDuplicateFieldError=void 0;let n=r(42035),o=r(56504),a=r(86828),s=r(73597),u=r(6389),l=r(84682),c=r(1307);class f extends Error{constructor(e){e&&(e="Duplicated output "+e),super(e)}}t.OutputDuplicateFieldError=f;class h{constructor(e,t,r){this.value=e||0,this.asset=t||i.from([]),this.script=r}static fromBuffer(e){let t;let r=new h;for(;;){try{t=s.KeyPair.fromBuffer(e)}catch(c){if(c instanceof Error&&c===s.ErrEmptyKey)return r.sanityCheck(),r;throw c}switch(t.key.keyType){case a.OutputTypes.REDEEM_SCRIPT:if(r.redeemScript&&r.redeemScript.length>0)throw new f("redeem script");r.redeemScript=t.value;break;case a.OutputTypes.WITNESS_SCRIPT:if(r.witnessScript&&r.witnessScript.length>0)throw new f("witness script");r.witnessScript=t.value;break;case a.OutputTypes.BIP32_DERIVATION:let p=t.key.keyData;if(33!==p.length)throw Error("Invalid output bip32 pubkey length");if(r.bip32Derivation||(r.bip32Derivation=[]),r.bip32Derivation.find(e=>e.pubkey.equals(p)))throw new f("bip32 derivation");let{masterFingerprint:d,path:g}=(0,o.decodeBip32Derivation)(t.value);r.bip32Derivation.push({pubkey:p,masterFingerprint:d,path:g});break;case a.OutputTypes.AMOUNT:if(r.value>0)throw new f("value");if(8!==t.value.length)throw Error("Invalid output amount length");r.value=(0,n.readUInt64LE)(t.value,0);break;case a.OutputTypes.SCRIPT:if(r.script&&r.script.length>0)throw new f("script");r.script=t.value;break;case a.OutputTypes.TAP_BIP32_DERIVATION:let b=t.key.keyData;if(33!==b.length)throw Error("Invalid output bip32 derivation pubkey length");r.tapBip32Derivation||(r.tapBip32Derivation=[]);let y=t.key.keyData;if(r.tapBip32Derivation.find(e=>e.pubkey.equals(y)))throw new f("taproot bip32 derivation");let m=n.varuint.decode(t.value),v=n.varuint.encodingLength(m),w=(0,o.decodeBip32Derivation)(t.value.slice(v+32*m)),E=Array(m);for(let _=0,S=v;_<m;_++,S+=32)E[_]=t.value.slice(S,S+32);r.tapBip32Derivation.push({pubkey:y,masterFingerprint:w.masterFingerprint,path:w.path,leafHashes:E});break;case a.OutputTypes.TAP_TREE:if(r.tapTree)throw new f("taproot tree");let I=0,P=[];for(;I<t.value.length;){let k=t.value[I++],T=t.value[I++],O=n.varuint.decode(t.value,I);I+=n.varuint.encodingLength(O),P.push({depth:k,leafVersion:T,script:t.value.slice(I,I+O)}),I+=O}r.tapTree={leaves:P};break;case a.OutputTypes.TAP_INTERNAL_KEY:if(r.tapInternalKey&&r.tapInternalKey.length>0)throw new f("taproot internal key");if(32!==t.value.length)throw Error("Invalid output taproot internal key length");r.tapInternalKey=t.value;break;case a.OutputTypes.PROPRIETARY:let A=u.ProprietaryData.fromKeyPair(t);if(0===i.compare(A.identifier,l.magicPrefix))switch(A.subType){case a.OutputProprietaryTypes.VALUE_COMMITMENT:if(r.valueCommitment&&r.valueCommitment.length>0)throw new f("value commitment");if(33!==t.value.length)throw Error("Invalid output value commitment length");r.valueCommitment=t.value;break;case a.OutputProprietaryTypes.ASSET:if(r.asset&&r.asset.length>0)throw new f("asset");if(32!==t.value.length)throw Error("Invalid output asset length");r.asset=t.value;break;case a.OutputProprietaryTypes.ASSET_COMMITMENT:if(r.assetCommitment&&r.assetCommitment.length>0)throw new f("asset commitment");if(33!==t.value.length)throw Error("Invalid output asset commitment length");r.assetCommitment=t.value;break;case a.OutputProprietaryTypes.VALUE_RANGEPROOF:if(r.valueRangeproof&&r.valueRangeproof.length>0)throw new f("value range proof");r.valueRangeproof=t.value;break;case a.OutputProprietaryTypes.ASSET_SURJECTION_PROOF:if(r.assetSurjectionProof&&r.assetSurjectionProof.length>0)throw new f("asset surjection proof");r.assetSurjectionProof=t.value;break;case a.OutputProprietaryTypes.BLINDING_PUBKEY:if(r.blindingPubkey&&r.blindingPubkey.length>0)throw new f("blinding pubkey");if(33!==t.value.length)throw Error("Invalid output blinding pubkey length");r.blindingPubkey=t.value;break;case a.OutputProprietaryTypes.ECDH_PUBKEY:if(r.ecdhPubkey&&r.ecdhPubkey.length>0)throw new f("ecdh pubkey");if(33!==t.value.length)throw Error("Invalid output ecdh pubkey length");r.ecdhPubkey=t.value;break;case a.OutputProprietaryTypes.BLINDER_INDEX:if(void 0!==r.blinderIndex)throw new f("blinder index");if(4!==t.value.length)throw Error("Invalid output blinder index length");r.blinderIndex=t.value.readUInt32LE();break;case a.OutputProprietaryTypes.BLIND_VALUE_PROOF:if(r.blindValueProof&&r.blindValueProof.length>0)throw new f("blind value proof");r.blindValueProof=t.value;break;case a.OutputProprietaryTypes.BLIND_ASSET_PROOF:if(r.blindAssetProof&&r.blindAssetProof.length>0)throw new f("blind asset proof");r.blindAssetProof=t.value;break;default:r.proprietaryData||(r.proprietaryData=[]),r.proprietaryData.push(A)}break;default:r.unknowns||(r.unknowns=[]),r.unknowns.push(t)}}}sanityCheck(){let e=this.valueCommitment&&this.valueCommitment.length>0,t=this.blindValueProof&&this.blindValueProof.length>0;if(this.value>0&&e!==t)throw Error("Missing output value commitment or blind proof");let r=this.assetCommitment&&this.assetCommitment.length>0,i=this.blindAssetProof&&this.blindAssetProof.length>0;if(!r&&(!this.asset||0===this.asset.length))throw Error("Missing output asset");if(this.asset&&this.asset.length>0&&r!==i)throw Error("Missing output asset commitment or blind proof");if(this.isPartiallyBlinded()&&!this.isFullyBlinded())throw Error("Output is partially blinded while it must be either unblinded or fully blinded");if(this.isFullyBlinded()&&this.blinderIndex>0)throw Error("Blinder index must be unset for fully blinded output");return this}needsBlinding(){return this.blindingPubkey&&this.blindingPubkey.length>0}isPartiallyBlinded(){return this.valueCommitment&&this.valueCommitment.length>0||this.assetCommitment&&this.assetCommitment.length>0||this.valueRangeproof&&this.valueRangeproof.length>0||this.assetSurjectionProof&&this.assetSurjectionProof.length>0||this.ecdhPubkey&&this.ecdhPubkey.length>0}isFullyBlinded(){return this.valueCommitment&&this.valueCommitment.length>0&&this.assetCommitment&&this.assetCommitment.length>0&&this.valueRangeproof&&this.valueRangeproof.length>0&&(this.assetSurjectionProof&&this.assetSurjectionProof.length)>0&&this.ecdhPubkey&&this.ecdhPubkey.length>0}isTaproot(){return!!(this.tapInternalKey||this.tapTree||this.tapBip32Derivation&&this.tapBip32Derivation.length||this.script&&(0,c.isP2TR)(this.script))}toBuffer(){let e=this.getKeyPairs(),t=e.map(e=>e.toBuffer()),r=0;t.forEach(e=>{r+=e.length});let i=n.BufferWriter.withCapacity(r);return t.forEach(e=>i.writeSlice(e)),i.buffer}getKeyPairs(){let e=[];if(this.redeemScript&&this.redeemScript.length>0){let t=new s.Key(a.OutputTypes.REDEEM_SCRIPT);e.push(new s.KeyPair(t,this.redeemScript))}if(this.witnessScript&&this.witnessScript.length>0){let r=new s.Key(a.OutputTypes.WITNESS_SCRIPT);e.push(new s.KeyPair(r,this.witnessScript))}if(this.bip32Derivation&&this.bip32Derivation.length>0&&this.bip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:i})=>{let n=new s.Key(a.OutputTypes.BIP32_DERIVATION,t),u=(0,o.encodeBIP32Derivation)(r,i);e.push(new s.KeyPair(n,u))}),this.tapBip32Derivation&&this.tapBip32Derivation.length>0&&this.tapBip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:u,leafHashes:l})=>{let c=new s.Key(a.OutputTypes.TAP_BIP32_DERIVATION,t),f=n.varuint.encodingLength(l.length),h=i.allocUnsafe(f);n.varuint.encode(l.length,h);let p=i.concat([h,...l,(0,o.encodeBIP32Derivation)(r,u)]);e.push(new s.KeyPair(c,p))}),this.tapTree){let l=new s.Key(a.OutputTypes.TAP_TREE),c=[].concat(...this.tapTree.leaves.map(e=>[i.of(e.depth,e.leafVersion),n.varuint.encode(e.script.length),e.script])),f=i.concat(c);e.push(new s.KeyPair(l,f))}if(this.tapInternalKey&&this.tapInternalKey.length>0){let h=new s.Key(a.OutputTypes.TAP_INTERNAL_KEY);e.push(new s.KeyPair(h,this.tapInternalKey))}let p=new s.Key(a.OutputTypes.AMOUNT),d=i.allocUnsafe(8);(0,n.writeUInt64LE)(d,this.value,0),e.push(new s.KeyPair(p,d));let g=new s.Key(a.OutputTypes.SCRIPT);if(e.push(new s.KeyPair(g,this.script||i.alloc(0))),this.valueCommitment&&this.valueCommitment.length>0){let b=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.VALUE_COMMITMENT),y=new s.Key(a.OutputTypes.PROPRIETARY,b);e.push(new s.KeyPair(y,this.valueCommitment))}if(this.assetCommitment&&this.assetCommitment.length>0){let m=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ASSET_COMMITMENT),v=new s.Key(a.OutputTypes.PROPRIETARY,m);e.push(new s.KeyPair(v,this.assetCommitment))}if(this.asset&&this.asset.length>0){let w=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ASSET),E=new s.Key(a.OutputTypes.PROPRIETARY,w);e.push(new s.KeyPair(E,this.asset))}if(this.valueRangeproof&&this.valueRangeproof.length>0){let _=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.VALUE_RANGEPROOF),S=new s.Key(a.OutputTypes.PROPRIETARY,_);e.push(new s.KeyPair(S,this.valueRangeproof))}if(this.assetSurjectionProof&&this.assetSurjectionProof.length>0){let I=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ASSET_SURJECTION_PROOF),P=new s.Key(a.OutputTypes.PROPRIETARY,I);e.push(new s.KeyPair(P,this.assetSurjectionProof))}if(this.blindingPubkey&&this.blindingPubkey.length>0){let k=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLINDING_PUBKEY),T=new s.Key(a.OutputTypes.PROPRIETARY,k);e.push(new s.KeyPair(T,this.blindingPubkey))}if(this.ecdhPubkey&&this.ecdhPubkey.length>0){let O=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ECDH_PUBKEY),A=new s.Key(a.OutputTypes.PROPRIETARY,O);e.push(new s.KeyPair(A,this.ecdhPubkey))}let x=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLINDER_INDEX),N=new s.Key(a.OutputTypes.PROPRIETARY,x),R=i.allocUnsafe(4),B=0;if(this.blinderIndex>0&&(B=this.blinderIndex),R.writeUInt32LE(B),e.push(new s.KeyPair(N,R)),this.blindValueProof&&this.blindValueProof.length>0){let C=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLIND_VALUE_PROOF),U=new s.Key(a.OutputTypes.PROPRIETARY,C);e.push(new s.KeyPair(U,this.blindValueProof))}if(this.blindAssetProof&&this.blindAssetProof.length>0){let M=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLIND_ASSET_PROOF),j=new s.Key(a.OutputTypes.PROPRIETARY,M);e.push(new s.KeyPair(j,this.blindAssetProof))}return this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach(t=>{let r=u.ProprietaryData.proprietaryKey(t.subType,t.keyData),i=new s.Key(a.OutputTypes.PROPRIETARY,r);e.push(new s.KeyPair(i,t.value))}),e.concat(this.unknowns||[]),e}}t.PsetOutput=h},6389:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ProprietaryData=void 0;let n=r(42035),o=r(84682);class a{constructor(e,t,r,i){this.identifier=e,this.subType=t,this.keyData=r,this.value=i}static fromKeyPair(e){if(252!==e.key.keyType)throw Error("invalid proprietary data key type");let t=new n.BufferReader(e.key.keyData),r=e.key.keyData.length,o=t.offset,s=t.readVarSlice();if(0===s.length)throw Error("invalid proprietary data identifier");let u=t.readUInt8();o=t.offset-o;let l=r-o,c=i.from([]);return l>0&&(c=t.readSlice(l)),new a(s,u,c,e.value)}static proprietaryKey(e,t){let r=s(t),a=i.allocUnsafe(r),u=new n.BufferWriter(a);return u.writeVarSlice(o.magicPrefix),u.writeSlice(i.from([e])),t&&t.length>0&&u.writeSlice(t),a}}function s(e){let t=e?e.length:0;return n.varuint.encodingLength(o.magicPrefix.length)+o.magicPrefix.length+1+t}t.ProprietaryData=a},84682:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Pset=t.magicPrefixWithSeparator=t.magicPrefix=void 0;let s=r(45217),u=r(42035),l=r(64660),c=r(32474),f=r(86828),h=r(79787),p=r(29725),d=r(37192),g=a(r(40081)),b=r(87562),y=r(82422),m=r(21426),v=r(63231),w=r(1307);t.magicPrefix=i.from([112,115,101,116]),t.magicPrefixWithSeparator=i.concat([t.magicPrefix,i.of(255)]);class E{constructor(e,t,r){this.inputs=t||[],this.outputs=r||[],this.globals=e||new h.PsetGlobal}static fromBase64(e){let t=i.from(e,"base64");return this.fromBuffer(t)}static fromBuffer(e){let r=new u.BufferReader(e),i=r.readSlice(t.magicPrefixWithSeparator.length);if(!i.equals(t.magicPrefixWithSeparator))throw Error("invalid magic prefix");let n=h.PsetGlobal.fromBuffer(r),o=[];for(let a=0;a<n.inputCount;a++){let s=p.PsetInput.fromBuffer(r);o.push(s)}let l=[];for(let c=0;c<n.outputCount;c++){let f=d.PsetOutput.fromBuffer(r);l.push(f)}let g=new E(n,o,l);return g.sanityCheck(),g}static ECCKeysGenerator(e){return t=>{let r=(0,w.randomBytes)(t),i=(0,s.ECPairFactory)(e).fromPrivateKey(r).publicKey;return{privateKey:r,publicKey:i}}}static ECDSASigValidator(e){return(t,r,i)=>(0,s.ECPairFactory)(e).fromPublicKey(t).verify(r,i)}static SchnorrSigValidator(e){return(t,r,i)=>e.verifySchnorr(r,t,i.slice(0,64))}sanityCheck(){if(this.globals.sanityCheck(),this.inputs.forEach(e=>e.sanityCheck()),this.outputs.forEach(e=>e.sanityCheck()),this.isFullyBlinded()&&this.globals.scalars&&this.globals.scalars.length>0)throw Error("global scalars must be empty for fully blinded pset");return this}copy(){return new E(this.globals,this.inputs,this.outputs)}inputsModifiable(){return!this.globals.txModifiable||1===this.globals.txModifiable.get(0)}outputsModifiable(){return!this.globals.txModifiable||1===this.globals.txModifiable.get(1)}hasSighashSingle(){return!!this.globals.txModifiable&&1===this.globals.txModifiable.get(2)}needsBlinding(){return this.outputs.some(e=>e.needsBlinding()&&!e.isFullyBlinded())}isFullyBlinded(){return!!this.needsBlinding()&&!this.outputs.some(e=>e.needsBlinding()&&!e.isFullyBlinded())}isComplete(){return this.inputs.every(e=>e.isFinalized())}locktime(){let e=0,t=0;return(this.inputs.forEach(r=>{r.requiredTimeLocktime>0&&r.requiredTimeLocktime>t&&(t=r.requiredTimeLocktime),r.requiredHeightLocktime>0&&r.requiredHeightLocktime>e&&(e=r.requiredHeightLocktime)}),e>0)?e:t>0?t:this.globals.fallbackLocktime||0}unsignedTx(){let e=new c.Transaction;return e.version=this.globals.txVersion,e.locktime=this.locktime(),this.inputs.forEach(t=>{let r;if(t.hasIssuance()||t.hasReissuance()){let n=t.issuanceValueCommitment;n&&0!==n.length||(n=m.ElementsValue.fromNumber(t.issuanceValue).bytes);let o=t.issuanceInflationKeysCommitment;o&&0!==o.length||(o=t.issuanceInflationKeys?m.ElementsValue.fromNumber(t.issuanceInflationKeys).bytes:i.of(0));let a=t.issuanceAssetEntropy,s=t.issuanceBlindingNonce;r={assetEntropy:a,assetAmount:n,tokenAmount:o,assetBlindingNonce:s}}e.addInput(t.previousTxid,t.previousTxIndex,t.sequence,void 0,r)}),this.outputs.forEach(t=>{let r=t.valueCommitment||m.ElementsValue.fromNumber(t.value).bytes,n=t.assetCommitment||v.AssetHash.fromBytes(t.asset).bytes,o=t.script||i.from([]),a=t.ecdhPubkey||i.of(0);e.addOutput(o,r,n,a,t.valueRangeproof,t.assetSurjectionProof)}),e}validateAllSignatures(e){return this.inputs.every((t,r)=>this.validateInputSignatures(r,e))}addInput(e){if(e.sanityCheck(),this.isDuplicatedInput(e))throw Error("given input already exists in pset");if(!this.inputsModifiable())throw Error("pset is locked for updates on inputs");if(e.requiredHeightLocktime>0||e.requiredTimeLocktime>0){let t=this.locktime(),r=e.requiredTimeLocktime,i=e.requiredHeightLocktime,n=!1;this.inputs.forEach(e=>{if(e.requiredTimeLocktime>0&&!e.requiredHeightLocktime&&(i=0,0===r)||!e.requiredTimeLocktime&&e.requiredHeightLocktime>0&&(r=0,0===i))throw Error("invalid input locktime");e.requiredTimeLocktime>0&&r>0&&(r=Math.max(r,e.requiredTimeLocktime)),e.requiredHeightLocktime>0&&i>0&&(i=Math.max(i,e.requiredHeightLocktime)),e.partialSigs.length>0&&(n=!0)});let o=this.globals.fallbackLocktime;if(r>0&&(o=r),i>0&&(o=i),n&&t!==o)throw Error("invalid input locktime")}return this.inputs.push(e),this.globals.inputCount++,this}addOutput(e){if(e.sanityCheck(),!this.outputsModifiable())throw Error("pset is locked for updates on outputs");return this.outputs.push(e),this.globals.outputCount++,this}validateInputSignatures(e,t){if(e<0||e>=this.globals.inputCount)throw Error("input index out of range");let r=this.inputs[e];return!!r.partialSigs&&0!==r.partialSigs.length&&r.partialSigs.every(r=>this.validatePartialSignature(e,t,r))}validatePartialSignature(e,t,r){if(e<0||e>=this.globals.inputCount)throw Error("input index out of range");let i=this.inputs[e];if(!i.partialSigs||0===i.partialSigs.length)return!1;let n=i.getUtxo();if(!n)throw Error("missing input (non-)witness utxo");let o=r.signature[r.signature.length-1],a=this.getInputPreimage(e,o),s=i.redeemScript||i.witnessScript||n.script;_(r.pubkey,s,"verify");let{signature:u}=g.signature.decode(r.signature);return t(r.pubkey,a,u)}getInputPreimage(e,t,r,i){if(e<0||e>=this.globals.inputCount)throw Error("input index out of range");let n=this.inputs[e],o=n.getUtxo();if(!o)throw Error("missing input (non-)witness utxo");let a=this.unsignedTx();if(n.isTaproot()){if(!r||32!==r.length)throw Error("Missing or invalid genesis block hash");let s=[],u=[];return this.inputs.forEach((e,t)=>{let r=e.getUtxo();if(!r)throw Error(`Missing input ${t} (non-)witness utxo`);s.push(r.script),u.push({asset:r.asset,value:r.value})}),a.hashForWitnessV1(e,s,u,t,r,i)}let l=n.redeemScript||o.script,c=(0,b.getScriptType)(l);switch(c){case b.ScriptType.P2Pkh:case b.ScriptType.P2Sh:return a.hashForSignature(e,l,t);case b.ScriptType.P2Wpkh:let f=(0,y.p2pkh)({hash:o.script.slice(2)}).output;return a.hashForWitnessV0(e,f,o.value,t);case b.ScriptType.P2Wsh:if(!n.witnessScript||0===n.witnessScript.length)throw Error("missing witness script for p2wsh input");return a.hashForWitnessV0(e,n.witnessScript,o.value,t);default:throw Error("unknown input (non-)witness utxo script type")}}toBase64(){let e=this.toBuffer();return e.toString("base64")}toBuffer(){let e=t.magicPrefixWithSeparator.length,r=this.globals.toBuffer();e+=r.length+1;let i=this.inputs.map(e=>e.toBuffer());i.forEach(t=>e+=t.length+1);let n=this.outputs.map(e=>e.toBuffer());n.forEach(t=>e+=t.length+1);let o=u.BufferWriter.withCapacity(e);return o.writeSlice(t.magicPrefixWithSeparator),o.writeSlice(r),o.writeUInt8(f.separator),i.forEach(e=>{o.writeSlice(e),o.writeUInt8(f.separator)}),n.forEach(e=>{o.writeSlice(e),o.writeUInt8(f.separator)}),o.buffer}isDuplicatedInput(e){return this.inputs.some(t=>t.previousTxid.equals(e.previousTxid)&&t.previousTxIndex===e.previousTxIndex)}}function _(e,t,r){if(!S(e,t))throw Error(`Cannot ${r} for this input with the key ${e.toString("hex")}`)}function S(e,t){let r=(0,l.hash160)(e),i=g.decompile(t);if(null===i)throw Error("Unknown script error");return i.some(t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)))}t.Pset=E},2572:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=void 0;let i=r(32474),n=r(35288),o=r(1307);class a{constructor(e){e.sanityCheck(),this.pset=e}addSignature(e,t,r){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let n=this.pset.inputs[e];if(n.isFinalized())throw Error("Input is already finalized");if(void 0===n.sighashType)throw Error("Missing input sighash type");if((31&n.sighashType)===i.Transaction.SIGHASH_ALL&&this.pset.outputs.some(e=>e.needsBlinding()&&!e.isFullyBlinded()))throw Error("Pset must be fully blinded");return n.isTaproot()?this._addTaprootSignature(e,t,r):this._addSignature(e,t,r)}_addSignature(e,t,r){let i=this.pset.inputs[e],a=this.pset.copy(),s=i.sighashType,{partialSig:u,witnessScript:l,redeemScript:c}=t;if(!u)throw Error("Missing partial signature for input");if(u.signature.slice(-1)[0]!==s)throw Error("Input and signature sighash types must match");let f=new n.Updater(a);if(l&&l.length>0&&(f.addInWitnessScript(e,l),i.witnessUtxo||(f.addInWitnessUtxo(e,i.nonWitnessUtxo.outs[i.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)),c&&c.length>0){f.addInRedeemScript(e,c);let h=(0,o.isP2WPKH)(c)||(0,o.isP2WSH)(c);h&&!i.witnessUtxo&&(f.addInWitnessUtxo(e,i.nonWitnessUtxo.outs[i.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)}if(a.inputs[e].nonWitnessUtxo){let p=i.nonWitnessUtxo.outs[i.previousTxIndex].script,d=(0,o.isP2WPKH)(p)||(0,o.isP2WSH)(p);d&&(f.addInWitnessUtxo(e,i.nonWitnessUtxo.outs[i.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)}return f.addInPartialSignature(e,u,r),a.sanityCheck(),this.pset.globals=a.globals,this.pset.inputs=a.inputs,this.pset.outputs=a.outputs,this}_addTaprootSignature(e,t,r){let i=this.pset.copy(),{tapKeySig:o,tapScriptSigs:a,genesisBlockHash:s}=t;if(!o&&(!a||!a.length))throw Error("Missing taproot signature");let u=new n.Updater(i);return o&&u.addInTapKeySig(e,o,s,r),a&&a.forEach(t=>{u.addInTapScriptSig(e,t,s,r)}),i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}}t.Signer=a},35288:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Updater=void 0;let s=r(87562),u=r(63231),l=r(25221),c=r(97410),f=a(r(40081));class h{constructor(e){e.sanityCheck(),this.pset=e}addInputs(e){let t=this.pset.copy();return e.forEach(e=>{let r=new c.CreatorInput(e.txid,e.txIndex,e.sequence,e.heightLocktime,e.timeLocktime);r.validate(),t.addInput(r.toPartialInput());let i=t.inputs.length-1;if(e.witnessUtxo&&this.addInWitnessUtxo(i,e.witnessUtxo),e.witnessUtxo&&e.witnessUtxo.rangeProof&&this.addInUtxoRangeProof(i,e.witnessUtxo.rangeProof),e.nonWitnessUtxo&&this.addInNonWitnessUtxo(i,e.nonWitnessUtxo),e.nonWitnessUtxo&&e.nonWitnessUtxo.outs[e.txIndex]){let n=e.nonWitnessUtxo.outs[e.txIndex];n.rangeProof&&this.addInUtxoRangeProof(i,n.rangeProof)}void 0!==e.sighashType&&this.addInSighashType(i,e.sighashType),e.tapInternalKey&&this.addInTapInternalKey(i,e.tapInternalKey),e.tapLeafScript&&this.addInTapLeafScript(i,e.tapLeafScript),e.tapMerkleRoot&&this.addInTapMerkleRoot(i,e.tapMerkleRoot),e.issaunceOpts&&this.addInIssuance(i,e.issaunceOpts),e.reissuanceOpts&&this.addInReissuance(i,e.reissuanceOpts)}),t.sanityCheck(),this.pset.globals=t.globals,this.pset.inputs=t.inputs,this.pset.outputs=t.outputs,this}addOutputs(e){let t=this.pset.copy();return e.forEach(e=>{let r=new c.CreatorOutput(e.asset,e.amount,e.script,e.blindingPublicKey,e.blinderIndex);r.validate(),t.addOutput(r.toPartialOutput())}),t.sanityCheck(),this.pset.globals=t.globals,this.pset.inputs=t.inputs,this.pset.outputs=t.outputs,this}addInNonWitnessUtxo(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy(),i=t.getHash(!1);if(!i.equals(r.inputs[e].previousTxid))throw Error("Non-witness utxo hash does not match prevout txid");return r.inputs[e].nonWitnessUtxo=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInWitnessUtxo(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].witnessUtxo=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInRedeemScript(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].redeemScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInWitnessScript(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].witnessScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(33!==t.pubkey.length)throw Error("Invalid pubkey length");let r=this.pset.copy();if(r.inputs[e].bip32Derivation||(r.inputs[e].bip32Derivation=[]),r.inputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated bip32 derivation pubkey");return r.inputs[e].bip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInSighashType(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(t<0)throw Error("Invalid sighash type");let r=this.pset.copy();return r.inputs[e].sighashType=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInUtxoRangeProof(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].utxoRangeProof=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInIssuance(e,t){this.validateIssuanceInput(e),p(t);let r=this.pset.copy(),i=t.assetAmount||0,n=t.tokenAmount||0,o=(0,l.newIssuance)(i,n,t.contract);r.inputs[e].issuanceValue=i,r.inputs[e].issuanceInflationKeys=n,r.inputs[e].issuanceAssetEntropy=o.assetEntropy,r.inputs[e].issuanceBlindingNonce=o.assetBlindingNonce;let a=(0,l.generateEntropy)({txHash:r.inputs[e].previousTxid,vout:r.inputs[e].previousTxIndex},o.assetEntropy);if(i>0){let f,h;let d=u.AssetHash.fromBytes((0,l.calculateAsset)(a)).hex;t.assetAddress&&(0,s.isConfidential)(t.assetAddress)&&(f=e,h=(0,s.fromConfidential)(t.assetAddress).blindingKey);let g=new c.CreatorOutput(d,i,(0,s.toOutputScript)(t.assetAddress),h,f);r.addOutput(g.toPartialOutput())}if(n>0){let b,y;let m=u.AssetHash.fromBytes((0,l.calculateReissuanceToken)(a,t.blindedIssuance)).hex;t.tokenAddress&&(0,s.isConfidential)(t.tokenAddress)&&(b=e,y=(0,s.fromConfidential)(t.tokenAddress).blindingKey);let v=new c.CreatorOutput(m,n,(0,s.toOutputScript)(t.tokenAddress),y,b);r.addOutput(v.toPartialOutput())}return r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInReissuance(e,t){this.validateReissuanceInput(e),d(t);let r=this.pset.copy(),n="string"==typeof t.entropy?i.from(t.entropy,"hex").reverse():t.entropy,o="string"==typeof t.tokenAssetBlinder?i.from(t.tokenAssetBlinder,"hex").reverse():t.tokenAssetBlinder,a=u.AssetHash.fromBytes((0,l.calculateAsset)(n)).hex,f=u.AssetHash.fromBytes((0,l.calculateReissuanceToken)(n,!0)).hex;r.inputs[e].issuanceAssetEntropy=n,r.inputs[e].issuanceBlindingNonce=o,r.inputs[e].issuanceValue=t.assetAmount,r.inputs[e].issuanceInflationKeys=0;let h=(0,s.fromConfidential)(t.assetAddress).blindingKey,p=new c.CreatorOutput(a,t.assetAmount,(0,s.toOutputScript)(t.assetAddress),h,e),g=(0,s.fromConfidential)(t.tokenAddress).blindingKey,b=new c.CreatorOutput(f,t.tokenAmount,(0,s.toOutputScript)(t.tokenAddress),g,e);return r.addOutput(p.toPartialOutput()),r.addOutput(b.toPartialOutput()),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInPartialSignature(e,t,r){if(e<0||e>=this.pset.globals.inputCount)throw Error("input index out of range");if(b(t),(this.pset.inputs[e].partialSigs||[]).some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated signature pubkey");let i=this.pset.copy(),n=t.signature.slice(-1)[0],o=i.getInputPreimage(e,n),{signature:a}=f.signature.decode(t.signature);if(!r(t.pubkey,o,a))throw Error("Invalid signature");return i.inputs[e].partialSigs||(i.inputs[e].partialSigs=[]),i.inputs[e].partialSigs.push(t),i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}addInTimeLocktime(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(t<0)throw Error("Invalid required time locktime");let r=this.pset.copy();return r.inputs[e].requiredTimeLocktime=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInHeightLocktime(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(t<0)throw Error("Invalid required height locktime");let r=this.pset.copy();return r.inputs[e].requiredHeightLocktime=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapKeySig(e,t,r,i){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(64!==t.length&&65!==t.length)throw Error("Invalid taproot key signature length");if(32!==r.length)throw Error("Invalid genesis block hash length");let n=this.pset.copy(),o=n.inputs[e];if(!o.getUtxo())throw Error("Missing input witness utxo");if(void 0===o.sighashType)throw Error("Missing input sighash type");let a=o.getUtxo().script.slice(2),s=n.getInputPreimage(e,o.sighashType,r);if(!i(a,s,t))throw Error(`Invalid taproot key signature for input ${e}`);return n.inputs[e].tapKeySig=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapScriptSig(e,t,r,i){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(32!==t.pubkey.length)throw Error("Invalid xonly pubkey length");if(32!==t.leafHash.length)throw Error("Invalid leaf hash length");if(64!==t.signature.length&&65!==t.signature.length)throw Error("Invalid signature length");if(32!==r.length)throw Error("Invalid genesis block hash length");let n=this.pset.copy(),o=n.inputs[e];if(void 0===o.sighashType)throw Error("Missing input sighash type");let a=n.getInputPreimage(e,o.sighashType,r,t.leafHash);if(!i(t.pubkey,a,t.signature))throw Error(`Invalid taproot script signature for input ${e}`);return n.inputs[e].tapScriptSig||(n.inputs[e].tapScriptSig=[]),n.inputs[e].tapScriptSig.push(t),n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapLeafScript(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].tapLeafScript||(r.inputs[e].tapLeafScript=[]),r.inputs[e].tapLeafScript.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(33!==t.pubkey.length)throw Error("Invalid input taproot pubkey length");let r=this.pset.copy();if(r.inputs[e].tapBip32Derivation||(r.inputs[e].tapBip32Derivation=[]),r.inputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated taproot bip32 derivation pubkey");return r.inputs[e].tapBip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapInternalKey(e,t){if(e<0||e>this.pset.globals.inputCount)throw Error("Input index out of range");if(32!==t.length)throw Error("Invalid taproot internal key length");if(this.pset.inputs[e].tapInternalKey&&this.pset.inputs[e].tapInternalKey.length>0)throw Error("Duplicated taproot internal key");let r=this.pset.copy();return r.inputs[e].tapInternalKey=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapMerkleRoot(e,t){if(e<0||e>this.pset.globals.inputCount)throw Error("Input index out of range");if(32!==t.length)throw Error("Invalid taproot merkle root length");if(this.pset.inputs[e].tapMerkleRoot&&this.pset.inputs[e].tapMerkleRoot.length>0)throw Error("Duplicated taproot merkle root");let r=this.pset.copy();return r.inputs[e].tapMerkleRoot=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");if(33!==t.pubkey.length)throw Error("Invalid pubkey length");let r=this.pset.copy();if(r.outputs[e].bip32Derivation||(r.outputs[e].bip32Derivation=[]),r.outputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated bip32 derivation pubkey");return r.outputs[e].bip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutRedeemScript(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");let r=this.pset.copy();return r.outputs[e].redeemScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutWitnessScript(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");let r=this.pset.copy();return r.outputs[e].witnessScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutTapInternalKey(e,t){if(e<0||e>this.pset.globals.outputCount)throw Error("Output index out of range");if(32!==t.length)throw Error("Invalid taproot internal key length");if(this.pset.outputs[e].tapInternalKey&&this.pset.outputs[e].tapInternalKey.length>0)throw Error("Duplicated taproot internal key");let r=this.pset.copy();return r.outputs[e].tapInternalKey=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutTapTree(e,t){if(e<0||e>this.pset.globals.outputCount)throw Error("Output index out of range");if(this.pset.outputs[e].tapTree)throw Error("Duplicated taproot tree");let r=this.pset.copy();return r.outputs[e].tapTree=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutTapBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");if(33!==t.pubkey.length)throw Error("Invalid output taproot pubkey length");let r=this.pset.copy();if(r.outputs[e].tapBip32Derivation||(r.outputs[e].tapBip32Derivation=[]),r.outputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated taproot bip32 derivation pubkey");return r.outputs[e].tapBip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}validateIssuanceInput(e){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let t=this.pset.inputs[e];if(t.issuanceAssetEntropy&&t.issuanceAssetEntropy.length>0)throw Error("Input "+e+" already has an issuance")}validateReissuanceInput(e){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let t=this.pset.inputs[e];if(t.issuanceAssetEntropy&&t.issuanceAssetEntropy.length>0)throw Error(`Input ${e} already has an issuance`);let r=t.getUtxo();if(!r)throw Error("Input is missing prevout (non-)witness utxo");if(r.nonce.length<=1)throw Error("Input prevout (non-)witness utxo must be confidential")}}function p(e){let t=e.assetAmount||0,r=e.tokenAmount||0;if(t<=0&&r<=0)throw Error("Either asset or token amounts must be a positive number");if(t>0&&(!e.assetAddress||0===e.assetAddress.length))throw Error("Asset address must be defined if asset amount is non-zero");if(r>0&&(!e.tokenAddress||0===e.tokenAddress.length))throw Error("Token address must be defined if token amount is non-zero");if(!g(e.assetAddress,e.tokenAddress))throw Error("Asset and token addresses must be of same network and both unconfidential or confidential")}function d(e){let t="string"==typeof e.entropy?i.from(e.entropy,"hex").reverse():e.entropy;if(32!==t.length)throw Error("Invalid entropy length");let r="string"==typeof e.tokenAssetBlinder?i.from(e.tokenAssetBlinder,"hex").reverse():e.tokenAssetBlinder;if(32!==r.length)throw Error("Invalid token asset blinder length");if(e.assetAmount<=0)throw Error("Asset amount must be a positive number");if(e.tokenAmount<=0)throw Error("Token amount must be a positive number");if(0===e.assetAddress.length)throw Error("Missing asset address");if(0===e.tokenAddress.length)throw Error("Missing token address");if(!g(e.assetAddress,e.tokenAddress))throw Error("Asset and token addresses must be both of same network and both confidential");if(!(0,s.isConfidential)(e.assetAddress))throw Error("Asset and token addresses must be both confidential")}function g(e,t){if(!e||0===e.length||!t||0===t.length)return!0;let r=(0,s.getNetwork)(e),i=(0,s.getNetwork)(t);if(r.name!==i.name)return!1;let n=(0,s.isConfidential)(e),o=(0,s.isConfidential)(t);return n===o}function b(e){if(33!==e.pubkey.length)throw Error("Invalid pubkey length");f.signature.decode(e.signature)}t.Updater=h},1307:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.pubkeyPositionInScript=t.isP2TR=t.isP2SH=t.isP2WSH=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=t.classifyScript=t.scriptWitnessToWitnessStack=t.witnessStackToScriptWitness=t.hasSigs=t.getPayment=void 0;let s=a(r(61798)),u=r(75578),l=r(42035),c=r(64660),f=r(53418),h=a(r(40081));function p(e,t,r){switch(t){case"multisig":let i=g(e,r);return u.payments.p2ms({output:e,signatures:i});case"pubkey":return u.payments.p2pk({output:e,signature:r[0].signature});case"pubkeyhash":return u.payments.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});case"witnesspubkeyhash":return u.payments.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});default:throw Error("unknown script")}}function d(e,t,r){let i;if(!t)return!1;if((i=r?r.map(e=>{let r=m(e);return t.find(e=>e.pubkey.equals(r))}).filter(e=>!!e):t).length>e)throw Error("Too many signatures");return i.length===e}function g(e,t){let r=u.payments.p2ms({output:e});return r.pubkeys.map(e=>(t.filter(t=>t.pubkey.equals(e))[0]||{}).signature).filter(e=>!!e)}function b(e){var t;let r=i.allocUnsafe(0);function n(e){r=i.concat([r,i.from(e)])}function o(e){let t=r.length,n=l.varuint.encodingLength(e);r=i.concat([r,i.allocUnsafe(n)]),l.varuint.encode(e,r,t)}function a(e){o(e.length),n(e)}return o((t=e).length),t.forEach(a),r}function y(e){let t=0;function r(r){return t+=r,e.slice(t-r,t)}function i(){let r=l.varuint.decode(e,t);return t+=l.varuint.decode.bytes,r}function n(){return r(i())}return function(){let e=i(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function m(e){if(65===e.length){let t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}function v(e){return(0,t.isP2WPKH)(e)?"witnesspubkeyhash":(0,t.isP2PKH)(e)?"pubkeyhash":(0,t.isP2MS)(e)?"multisig":(0,t.isP2PK)(e)?"pubkey":"nonstandard"}function w(e){return t=>{try{return e({output:t}),!0}catch(r){return!1}}}t.getPayment=p,t.hasSigs=d,t.witnessStackToScriptWitness=b,t.scriptWitnessToWitnessStack=y,t.classifyScript=v,t.isP2MS=w(u.payments.p2ms),t.isP2PK=w(u.payments.p2pk),t.isP2PKH=w(u.payments.p2pkh),t.isP2WPKH=w(u.payments.p2wpkh),t.isP2WSH=w(u.payments.p2wsh),t.isP2SH=w(u.payments.p2sh);let E=e=>e[0]===f.OPS.OP_1;function _(e,t){let r=(0,c.hash160)(e),i=e.slice(1,33),n=h.decompile(t);if(null===n)throw Error("Unknown script error");return n.findIndex(t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)||t.equals(i)))}function S(e){void 0===e&&(e={});let t=e.rng||s.default;return t(32)}t.isP2TR=E,t.pubkeyPositionInScript=_,t.randomBytes=S},74775:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ZKPGenerator=t.ZKPValidator=void 0;let n=r(90947),o=r(32474),a=r(21426),s=r(1307);class u{constructor(e){this.confidential=new n.Confidential(e)}verifyValueRangeProof(e,t,r,i){try{return this.confidential.rangeProofVerify(e,t,r,i)}catch(n){return!1}}verifyAssetSurjectionProof(e,t,r,i,n){try{return this.confidential.surjectionProofVerify(e,t,r,i,n)}catch(o){return!1}}verifyBlindValueProof(e,t,r){try{return this.confidential.rangeProofVerify(e,t,r)}catch(i){return!1}}verifyBlindAssetProof(e,t,r){try{return this.confidential.assetBlindProofVerify(e,t,r)}catch(i){return!1}}}t.ZKPValidator=u;class l{constructor(e,...t){for(let r of(this.zkp=e,this.confidential=new n.Confidential(e),t))r(this)}static WithBlindingKeysOfInputs(e){return t=>{t.inBlindingKeys=e}}static WithMasterBlindingKey(e){return t=>{t.masterBlindingKey=e}}static WithOwnedInputs(e){return t=>{t.ownedInputs=e}}computeAndAddToScalarOffset(e,t,r,i){if(r.equals(o.ZERO)&&i.equals(o.ZERO))return e.slice();let n=this.calculateScalarOffset(t,r,i);if(e.equals(o.ZERO))return n;let{ec:a}=this.zkp,s=a.prvkeyNegate(n);return e.equals(s)?o.ZERO:a.prvkeyTweakAdd(e,n)}subtractScalars(e,t){if(t.equals(o.ZERO))return e.slice();let{ec:r}=this.zkp,i=r.prvkeyNegate(t);return e.equals(o.ZERO)?i:r.prvkeyTweakAdd(e,i)}lastValueCommitment(e,t,r){return this.confidential.valueCommitment(e,t,r)}lastBlindValueProof(e,t,r,i){let n=(0,s.randomBytes)(this.opts);return this.confidential.blindValueProof(e,t,r,i,n)}lastValueRangeProof(e,t,r,i,n,o,a){return this.confidential.rangeProof(e,a,t,n,i,r,o)}unblindInputs(e,t){c(e),t&&f(e,t);let r=t||Array.from({length:e.globals.inputCount},(e,t)=>t);if(this.ownedInputs&&this.ownedInputs.length>0)return this.ownedInputs;let i=r.map(t=>{let r=e.inputs[t].getUtxo(),i=this.unblindUtxo(r);return i.index=t,i});return this.ownedInputs=i,i}blindIssuances(e,t){return c(e),p(e,t),Object.entries(t).map(([t,r])=>{let n=e.inputs[parseInt(t,10)],a={};if(n.issuanceValue>0){let u=n.issuanceValue.toString(10),l=n.getIssuanceAssetHash(),c=(0,s.randomBytes)(this.opts),f=this.confidential.assetCommitment(l,o.ZERO),h=this.confidential.valueCommitment(u,f,c),p=(0,s.randomBytes)(this.opts),d=this.confidential.blindValueProof(u,h,f,c,p),g=this.confidential.rangeProof(u,r,l,o.ZERO,c,h,i.from([]));a={...a,index:parseInt(t,10),issuanceAsset:l,issuanceValueCommitment:h,issuanceValueRangeProof:g,issuanceValueBlindProof:d,issuanceValueBlinder:c}}if(n.issuanceInflationKeys>0){let b=n.issuanceInflationKeys.toString(10),y=n.getIssuanceInflationKeysHash(!0),m=(0,s.randomBytes)(this.opts),v=this.confidential.assetCommitment(y,o.ZERO),w=this.confidential.valueCommitment(b,v,m),E=(0,s.randomBytes)(this.opts),_=this.confidential.blindValueProof(b,w,v,m,E),S=this.confidential.rangeProof(b,r,y,o.ZERO,m,w,i.from([]));a={...a,issuanceToken:y,issuanceTokenCommitment:w,issuanceTokenRangeProof:S,issuanceTokenBlindProof:_,issuanceTokenBlinder:m}}return a})}blindOutputs(e,t,r,n){c(e),r&&h(e,r),n&&n.length>0&&d(e,n);let o=r&&r.length>0?r:e.outputs.reduce((e,t,r)=>(t.needsBlinding()&&e.push(r),e),[]),{assets:a,assetBlinders:u}=this.getInputAssetsAndBlinders(e,n);return o.map(r=>{let n=e.outputs[r],o=(0,s.randomBytes)(this.opts),l=(0,s.randomBytes)(this.opts),c=(0,s.randomBytes)(this.opts),f=n.value.toString(10),h=this.confidential.assetCommitment(n.asset,o),p=this.confidential.valueCommitment(f,h,l),d=t(),g=d.publicKey,b=this.confidential.nonceHash(n.blindingPubkey,d.privateKey),y=n.script||i.from([]),m=this.confidential.rangeProof(f,b,n.asset,o,l,p,y),v=this.confidential.surjectionProof(n.asset,o,a,u,c),w=(0,s.randomBytes)(this.opts),E=this.confidential.blindValueProof(f,p,h,l,w),_=this.confidential.blindAssetProof(n.asset,h,o);return{index:r,nonce:b,nonceCommitment:g,valueCommitment:p,assetCommitment:h,valueRangeProof:m,assetSurjectionProof:v,valueBlindProof:E,assetBlindProof:_,valueBlinder:l,assetBlinder:o}})}calculateScalarOffset(e,t,r){if(t.equals(o.ZERO)||"0"===e)return r.slice();let{ec:n}=this.zkp,a=i.alloc(32,0);a.writeBigUInt64BE(BigInt(e),24);let s=n.prvkeyTweakMul(t,a);if(0===r.length)throw Error("Missing value blinder");let u=n.prvkeyNegate(r);return u.equals(s)?o.ZERO:n.prvkeyTweakAdd(s,r)}unblindUtxo(e){if(1===e.nonce.length)return{index:0,value:a.ElementsValue.fromBytes(e.value).number.toString(10),asset:e.asset.slice(1),valueBlindingFactor:o.ZERO,assetBlindingFactor:o.ZERO};if(!this.inBlindingKeys&&!this.masterBlindingKey)throw Error("Missing either input private blinding keys or SLIP-77 master blinding key");let t=this.inBlindingKeys?this.inBlindingKeys:[this.masterBlindingKey.derive(e.script).privateKey];for(let r of t)try{let i=this.confidential.unblindOutputWithKey(e,r);return{index:0,value:i.value,asset:i.asset,valueBlindingFactor:i.valueBlindingFactor,assetBlindingFactor:i.assetBlindingFactor}}catch(n){}throw Error("Could not unblind output with any blinding key")}getInputAssetsAndBlinders(e,t){let r=this.maybeUnblindInUtxos(e);e.inputs.forEach((e,n)=>{if((e.hasIssuance()||e.hasReissuance())&&(r.push({value:"",valueBlindingFactor:i.from([]),asset:e.getIssuanceAssetHash(),assetBlindingFactor:o.ZERO}),e.issuanceInflationKeys>0)){let a=t&&void 0!==t.find(({index:e})=>e===n);r.push({value:"",valueBlindingFactor:i.from([]),asset:e.getIssuanceInflationKeysHash(a),assetBlindingFactor:o.ZERO})}});let n=[],a=[];return r.forEach(({asset:e,assetBlindingFactor:t})=>{n.push(e),a.push(t)}),{assets:n,assetBlinders:a}}maybeUnblindInUtxos(e){if(this.ownedInputs&&this.ownedInputs.length>0)return e.inputs.map((e,t)=>{let r=this.ownedInputs.find(({index:e})=>e===t);return r?{value:"",valueBlindingFactor:i.from([]),asset:r.asset,assetBlindingFactor:r.assetBlindingFactor}:{value:"",valueBlindingFactor:i.from([]),asset:e.getUtxo().asset,assetBlindingFactor:o.ZERO}});if(!this.inBlindingKeys&&!this.masterBlindingKey)throw Error("Missing either input private blinding keys or SLIP-77 master blinding key");return e.inputs.map(e=>{let t=e.getUtxo();try{let r=this.unblindUtxo(t);return{value:r.value,asset:r.asset,valueBlindingFactor:r.valueBlindingFactor,assetBlindingFactor:r.assetBlindingFactor}}catch(n){return{value:"",asset:t.asset,valueBlindingFactor:i.from([]),assetBlindingFactor:o.ZERO}}})}}function c(e){e.sanityCheck(),e.inputs.forEach((e,t)=>{if(!e.getUtxo())throw Error("Missing (non-)witness utxo for input "+t)})}function f(e,t){t.length>0&&t.forEach(t=>{if(t<0||t>=e.globals.inputCount)throw Error("Input index out of range")})}function h(e,t){t.length>0&&t.forEach(t=>{if(t<0||t>=e.globals.outputCount)throw Error("Output index out of range")})}function p(e,t){Object.entries(t).forEach(([t,r])=>{let i=parseInt(t,10);if(i<0||i>=e.globals.inputCount)throw Error("Input index out of range");if(!e.inputs[i].hasIssuance()&&!e.inputs[i].hasReissuance())throw Error("Input does not have any issuance or reissuance to blind");if(32!==r.length)throw Error("Invalid private blinding key length for input "+i)})}function d(e,t){t.length>0&&t.forEach(t=>{if(t.index<0||t.index>=e.globals.inputCount)throw Error("Input index of blinded issuance is out of range")})}t.ZKPGenerator=l},69107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;let i=r(53418);function n(e){return e<i.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function o(e,t,r){let o=n(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(i.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(i.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(i.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o}function a(e,t){let r,n;let o=e.readUInt8(t);if(o<i.OPS.OP_PUSHDATA1)r=o,n=1;else if(o===i.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(o===i.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(o!==i.OPS.OP_PUSHDATA4)throw Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:o,number:r,size:n}}t.encodingLength=n,t.encode=o,t.decode=a},40081:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.isPushOnly=t.OPS=void 0;let s=a(r(61188)),u=r(53418);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return u.OPS}});let l=a(r(69107)),c=a(r(58022)),f=a(r(74078)),h=a(r(5)),{typeforce:p}=h,d=u.OPS.OP_RESERVED;function g(e){return h.Number(e)&&(e===u.OPS.OP_0||e>=u.OPS.OP_1&&e<=u.OPS.OP_16||e===u.OPS.OP_1NEGATE)}function b(e){return h.Buffer(e)||g(e)}function y(e){return h.Array(e)&&e.every(b)}function m(e){if(0===e.length)return u.OPS.OP_0;if(1===e.length){if(e[0]>=1&&e[0]<=16)return d+e[0];if(129===e[0])return u.OPS.OP_1NEGATE}}function v(e){return i.isBuffer(e)}function w(e){return h.Array(e)}function E(e){return i.isBuffer(e)}function _(e){if(v(e))return e;p(h.Array,e);let t=e.reduce((e,t)=>E(t)?1===t.length&&void 0!==m(t)?e+1:e+l.encodingLength(t.length)+t.length:e+1,0),r=i.allocUnsafe(t),n=0;if(e.forEach(e=>{if(E(e)){let t=m(e);if(void 0!==t){r.writeUInt8(t,n),n+=1;return}n+=l.encode(r,e.length,n),e.copy(r,n),n+=e.length}else r.writeUInt8(e,n),n+=1}),n!==r.length)throw Error("Could not decode chunks");return r}function S(e){if(w(e))return e;p(h.Buffer,e);let t=[],r=0;for(;r<e.length;){let i=e[r];if(i>u.OPS.OP_0&&i<=u.OPS.OP_PUSHDATA4){let n=l.decode(e,r);if(null===n||(r+=n.size)+n.number>e.length)return null;let o=e.slice(r,r+n.number);r+=n.number;let a=m(o);void 0!==a?t.push(a):t.push(o)}else t.push(i),r+=1}return t}function I(e){return v(e)&&(e=S(e)),e.map(e=>{if(E(e)){let t=m(e);if(void 0===t)return e.toString("hex");e=t}return u.REVERSE_OPS[e]}).join(" ")}function P(e){return p(h.String,e),_(e.split(" ").map(e=>void 0!==u.OPS[e]?u.OPS[e]:(p(h.Hex,e),i.from(e,"hex"))))}function k(e){return p(y,e=S(e)),e.map(e=>E(e)?e:e===u.OPS.OP_0?i.allocUnsafe(0):c.encode(e-d))}function T(e){return h.isPoint(e)}function O(e){let t=-129&e;return t>0&&t<4}function A(e){return!!(i.isBuffer(e)&&O(e[e.length-1]))&&s.check(e.slice(0,-1))}t.isPushOnly=y,t.compile=_,t.decompile=S,t.toASM=I,t.fromASM=P,t.toStack=k,t.isCanonicalPubKey=T,t.isDefinedHashType=O,t.isCanonicalScriptSignature=A,t.number=c,t.signature=f},58022:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e,t,r){t=t||4,r=void 0===r||r;let i=e.length;if(0===i)return 0;if(i>t)throw TypeError("Script number overflow");if(r&&(127&e[i-1])==0&&(i<=1||(128&e[i-2])==0))throw Error("Non-minimally encoded script number");if(5===i){let n=e.readUInt32LE(0),o=e.readUInt8(4);return 128&o?-((-129&o)*4294967296+n):4294967296*o+n}let a=0;for(let s=0;s<i;++s)a|=e[s]<<8*s;return 128&e[i-1]?-(a&~(128<<8*(i-1))):a}function o(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function a(e){let t=Math.abs(e),r=o(t),n=i.allocUnsafe(r),a=e<0;for(let s=0;s<r;++s)n.writeUInt8(255&t,s),t>>=8;return 128&n[r-1]?n.writeUInt8(a?128:0,r-1):a&&(n[r-1]|=128),n}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=n,t.encode=a},74078:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;let s=a(r(61188)),u=a(r(5)),{typeforce:l}=u,c=i.alloc(1,0);function f(e){let t=0;for(;0===e[t];)++t;return t===e.length?c:128&(e=e.slice(t))[0]?i.concat([c,e],1+e.length):e}function h(e){0===e[0]&&(e=e.slice(1));let t=i.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}function p(e){let t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw Error("Invalid hashType "+t);let n=s.decode(e.slice(0,-1)),o=h(n.r),a=h(n.s),u=i.concat([o,a],64);return{signature:u,hashType:t}}function d(e,t){l({signature:u.BufferN(64),hashType:u.UInt8},{signature:e,hashType:t});let r=-129&t;if(r<=0||r>=4)throw Error("Invalid hashType "+t);let n=i.allocUnsafe(1);n.writeUInt8(t,0);let o=f(e.slice(0,32)),a=f(e.slice(32,64));return i.concat([s.encode(o,a),n])}t.decode=p,t.encode=d},6231:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.sha256Midstate=t.hash=t.Hash=t.blockSize=t.digestLength=void 0,t.digestLength=32,t.blockSize=64;let n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(e,t,r,i,o){let a,s,u,l,c,f,h,p,d,g,b,y,m;for(;o>=64;){for(g=0,a=t[0],s=t[1],u=t[2],l=t[3],c=t[4],f=t[5],h=t[6],p=t[7];g<16;g++)b=i+4*g,e[g]=(255&r[b])<<24|(255&r[b+1])<<16|(255&r[b+2])<<8|255&r[b+3];for(g=16;g<64;g++)y=((d=e[g-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,m=((d=e[g-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,e[g]=(y+e[g-7]|0)+(m+e[g-16]|0);for(g=0;g<64;g++)y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&h)|0)+(p+(n[g]+e[g]|0)|0)|0,m=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&s^a&u^s&u)|0,p=h,h=f,f=c,c=l+y|0,l=u,u=s,s=a,a=y+m|0;t[0]+=a,t[1]+=s,t[2]+=u,t[3]+=l,t[4]+=c,t[5]+=f,t[6]+=h,t[7]+=p,i+=64,o-=64}return i}class a{constructor(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.finished=!1,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(e,t=e.length){if(this.finished)throw Error("SHA256: can't update because hash was finished.");let r=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[r++],t--;64===this.bufferLength&&(o(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(r=o(this.temp,this.state,e,r,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[r++],t--;return this}finish(e){if(!this.finished){let t=this.bytesHashed,r=this.bufferLength,i=t/536870912|0,n=t<<3,a=t%64<56?64:128;this.buffer[r]=128;for(let s=r+1;s<a-8;s++)this.buffer[s]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=n>>>24&255,this.buffer[a-3]=n>>>16&255,this.buffer[a-2]=n>>>8&255,this.buffer[a-1]=n>>>0&255,o(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(let u=0;u<8;u++)e[4*u+0]=this.state[u]>>>24&255,e[4*u+1]=this.state[u]>>>16&255,e[4*u+2]=this.state[u]>>>8&255,e[4*u+3]=this.state[u]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(let r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}function s(e){let t=new a().update(e),r=t.digest();return t.clean(),r}function u(e){let r=e;e.length>t.blockSize&&(r=e.slice(0,t.blockSize));let n=new a;n.reset(),n.update(Uint8Array.from(r));let o=i.alloc(t.digestLength);for(let s=0;s<8;s++)o[4*s+0]=n.state[s]>>>24&255,o[4*s+1]=n.state[s]>>>16&255,o[4*s+2]=n.state[s]>>>8&255,o[4*s+3]=n.state[s]>>>0&255;return o}t.Hash=a,t.hash=s,t.sha256Midstate=u},32474:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.ZERO=void 0;let s=r(42035),u=a(r(64660)),l=a(r(40081)),c=r(40081),f=a(r(5)),{typeforce:h}=f,p=i.allocUnsafe(0),d=[];t.ZERO=i.from("0000000000000000000000000000000000000000000000000000000000000000","hex");let g=i.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),b=4,y=2147483648,m=1073741824,v=1073741823,w=4294967295,E=i.from("ffffffffffffffff","hex"),_={script:p,asset:t.ZERO,nonce:t.ZERO,valueBuffer:E};class S{constructor(){this.version=1,this.locktime=0,this.flag=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){let r=new s.BufferReader(e),i=new S;i.version=r.readInt32(),i.flag=r.readUInt8();let n=!1;i.flag&S.ADVANCED_TRANSACTION_FLAG&&(n=!0);let o=r.readVarInt();for(let a=0;a<o;++a){let u;let l=r.readSlice(32),c=r.readUInt32(),f=r.readVarSlice(),h=r.readUInt32(),g=!1;c!==w&&(c&y&&(u=r.readIssuance()),c&m&&(g=!0),c&=v),i.ins.push({hash:l,index:c,script:f,sequence:h,witness:d,isPegin:g,issuance:u,peginWitness:d,issuanceRangeProof:p,inflationRangeProof:p})}let b=r.readVarInt();for(let E=0;E<b;++E){let _=r.readConfidentialAsset(),I=r.readConfidentialValue(),P=r.readConfidentialNonce(),k=r.readVarSlice();i.outs.push({asset:_,value:I,nonce:P,script:k,rangeProof:p,surjectionProof:p})}if(i.locktime=r.readUInt32(),n){for(let T=0;T<o;++T){let{witness:O,peginWitness:A,issuanceRangeProof:x,inflationRangeProof:N}=r.readConfidentialInFields();i.ins[T].witness=O,i.ins[T].peginWitness=A,i.ins[T].issuanceRangeProof=x,i.ins[T].inflationRangeProof=N}for(let R=0;R<b;++R){let{rangeProof:B,surjectionProof:C}=r.readConfidentialOutFields();i.outs[R].rangeProof=B,i.outs[R].surjectionProof=C}}if(t)return i;if(r.offset!==e.length)throw Error("Transaction has unexpected data");return i}static fromHex(e){return S.fromBuffer(i.from(e,"hex"),!1)}static isCoinbaseHash(e){h(f.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&S.isCoinbaseHash(this.ins[0].hash)}validateIssuance(e,t,r,i){return h(f.Hash256bit,e),h(f.Hash256bit,t),h(f.oneOf(f.ConfidentialValue,f.ConfidentialCommitment,f.BufferOne),r),h(f.oneOf(f.ConfidentialValue,f.ConfidentialCommitment,f.BufferOne),i),!0}addInput(e,t,r,i,n){h(f.tuple(f.Hash256bit,f.UInt32,f.maybe(f.UInt32),f.maybe(f.Buffer),f.maybe(f.Object)),arguments);let o=!1;if(t!==w){if(t&y){if(n)this.validateIssuance(n.assetBlindingNonce,n.assetEntropy,n.assetAmount,n.tokenAmount);else throw Error("Issuance flag has been set but the Issuance object is not defined or invalid")}t&m&&(o=!0),t&=v}return this.ins.push({hash:e,index:t,isPegin:o,issuance:n,script:i||p,witness:d,peginWitness:d,issuanceRangeProof:p,inflationRangeProof:p,sequence:r||S.DEFAULT_SEQUENCE})-1}addOutput(e,t,r,i,n,o){return h(f.tuple(f.Buffer,f.oneOf(f.ConfidentialValue,f.ConfidentialCommitment),f.AssetBufferWithFlag,f.oneOf(f.ConfidentialCommitment,f.BufferOne),f.maybe(f.Buffer),f.maybe(f.Buffer)),arguments),this.outs.push({script:e,value:t,asset:r,nonce:i||p,rangeProof:n||p,surjectionProof:o||p})-1}hasWitnesses(){return 1===this.flag||this.ins.some(e=>0!==e.witness.length)||this.outs.some(e=>0!==e.rangeProof.length&&0!==e.surjectionProof.length)}weight(){let e=this.__byteLength(!1),t=this.__byteLength(!0);return e*(b-1)+t}virtualSize(){let e=(this.weight()+b-1)/b;return Math.floor(e)}byteLength(e){return this.__byteLength(e||!0)}clone(){let e=new S;return e.version=this.version,e.locktime=this.locktime,e.flag=this.flag,e.ins=this.ins.map(e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness,isPegin:e.isPegin,issuance:e.issuance,peginWitness:e.peginWitness,issuanceRangeProof:e.issuanceRangeProof,inflationRangeProof:e.inflationRangeProof})),e.outs=this.outs.map(e=>({script:e.script,value:e.value,asset:e.asset,nonce:e.nonce,rangeProof:e.rangeProof,surjectionProof:e.surjectionProof})),e}hashForSignature(e,t,r){if(h(f.tuple(f.UInt32,f.Buffer,f.Number),arguments),e>=this.ins.length)return g;let n=l.compile(l.decompile(t).filter(e=>e!==c.OPS.OP_CODESEPARATOR)),o=this.clone();if((31&r)===S.SIGHASH_NONE)o.outs=[],o.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)});else if((31&r)===S.SIGHASH_SINGLE){if(e>=this.outs.length)return g;o.outs.length=e+1;for(let a=0;a<e;a++)o.outs[a]=_;o.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)})}r&S.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=n):(o.ins.forEach(e=>{e.script=p}),o.ins[e].script=n);let s=i.allocUnsafe(o.__byteLength(!1,!0)+4);return s.writeInt32LE(r,s.length-4),o.__toBuffer(s,0,!1,!0,!0),u.hash256(s)}hashForWitnessV1(e,t,r,n,o,a,l){if(h(f.tuple(f.UInt32,h.arrayOf(f.Buffer),h.arrayOf(f.Object),f.UInt32),arguments),t.length!==this.ins.length)throw Error("Must supply prevout script and value for all inputs");let c=n===S.SIGHASH_DEFAULT?S.SIGHASH_ALL:n&S.SIGHASH_OUTPUT_MASK,d=n&S.SIGHASH_INPUT_MASK,g=d===S.SIGHASH_ANYONECANPAY,b=c===S.SIGHASH_NONE,y=c===S.SIGHASH_SINGLE,m=p,v=p,w=p,E=p,_=p,U=p,M=p,j=p,L=p;if(g||(m=x(this.ins),U=O(this.ins),L=k(r),M=P(this.ins),_=N(t),v=R(this.ins),E=B(this.ins)),b||y){if(y&&e<this.outs.length){let K=this.outs[e];w=C([K]),j=I([K])}}else w=C(this.outs),j=I(this.outs);let D=(a?2:0)+(l?1:0),H=g?37+r[e].asset.length+r[e].value.length+(0,s.varSliceSize)(t[e])+4+(this.ins[e].issuance?A(this.ins[e]):1):4,z=74+H,F=z+(g?0:224)+(b||y?0:64)+(l?32:0)+(y?64:0)+(a?37:0),V=s.BufferWriter.withCapacity(F);if(V.writeSlice(o),V.writeSlice(o),V.writeUInt8(n),V.writeInt32(this.version),V.writeUInt32(this.locktime),g||(V.writeSlice(U),V.writeSlice(m),V.writeSlice(L),V.writeSlice(_),V.writeSlice(v),V.writeSlice(E),V.writeSlice(M)),b||y||(V.writeSlice(w),V.writeSlice(j)),V.writeUInt8(D),g){let q=this.ins[e];if(V.writeUInt8(T(q)),V.writeSlice(q.hash),V.writeUInt32(q.index),V.writeSlice(r[e].asset),V.writeSlice(r[e].value),V.writeVarSlice(t[e]),V.writeUInt32(q.sequence),q.issuance){V.writeSlice(q.issuance.assetBlindingNonce),V.writeSlice(q.issuance.assetEntropy),V.writeSlice(q.issuance.assetAmount),V.writeSlice(q.issuance.tokenAmount);let W=s.BufferWriter.withCapacity((0,s.varSliceSize)(q.issuanceRangeProof)+(0,s.varSliceSize)(q.inflationRangeProof));W.writeVarSlice(q.issuanceRangeProof||i.of(0)),W.writeVarSlice(q.inflationRangeProof||i.of(0));let G=u.sha256(W.end());V.writeSlice(G)}else V.writeSlice(i.of(0))}else V.writeUInt32(e);if(l){let X=s.BufferWriter.withCapacity((0,s.varSliceSize)(l));X.writeVarSlice(l),V.writeSlice(u.sha256(X.end()))}return y&&(V.writeSlice(w),V.writeSlice(j)),a&&(V.writeSlice(a),V.writeUInt8(0),V.writeUInt32(4294967295)),u.taggedHash("TapSighash/elements",V.end())}hashForWitnessV0(e,r,n,o){h(f.tuple(f.UInt32,f.Buffer,f.Buffer,f.UInt32),arguments);let a=t.ZERO,l=t.ZERO,c=t.ZERO,p=t.ZERO;if(!(o&S.SIGHASH_ANYONECANPAY)){let d=s.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(e=>{d.writeSlice(e.hash),d.writeUInt32(e.index)}),l=u.hash256(d.end())}if(!(o&S.SIGHASH_ANYONECANPAY)&&(31&o)!==S.SIGHASH_SINGLE&&(31&o)!==S.SIGHASH_NONE){let g=s.BufferWriter.withCapacity(4*this.ins.length);this.ins.forEach(e=>{g.writeUInt32(e.sequence)}),c=u.hash256(g.end())}if(!(o&S.SIGHASH_ANYONECANPAY)){let b=this.ins.reduce((e,t)=>t.issuance?e+A(t):e+1,0),y=0===b?this.ins.length:b,m=s.BufferWriter.withCapacity(y);this.ins.forEach(e=>{e.issuance?(m.writeSlice(e.issuance.assetBlindingNonce),m.writeSlice(e.issuance.assetEntropy),m.writeSlice(e.issuance.assetAmount),m.writeSlice(e.issuance.tokenAmount)):m.writeSlice(i.of(0))}),p=u.hash256(m.end())}if((31&o)!==S.SIGHASH_SINGLE&&(31&o)!==S.SIGHASH_NONE){let v=this.outs.reduce((e,t)=>e+t.asset.length+t.value.length+t.nonce.length+(0,s.varSliceSize)(t.script),0),w=s.BufferWriter.withCapacity(v);this.outs.forEach(e=>{w.writeSlice(e.asset),w.writeSlice(e.value),w.writeSlice(e.nonce),w.writeVarSlice(e.script)}),a=u.hash256(w.end())}else if((31&o)===S.SIGHASH_SINGLE&&e<this.outs.length){let E=this.outs[e],_=E.asset.length+E.value.length+E.nonce.length+(0,s.varSliceSize)(E.script),I=s.BufferWriter.withCapacity(_);I.writeSlice(E.asset),I.writeSlice(E.value),I.writeSlice(E.nonce),I.writeVarSlice(E.script),a=u.hash256(I.end())}let P=this.ins[e],k=void 0!==P.issuance,T=4+l.length+c.length+p.length+P.hash.length+4+(0,s.varSliceSize)(r)+n.length+4+a.length+A(P)+4+4,O=s.BufferWriter.withCapacity(T);return O.writeUInt32(this.version),O.writeSlice(l),O.writeSlice(c),O.writeSlice(p),O.writeSlice(P.hash),O.writeUInt32(P.index),O.writeVarSlice(r),O.writeSlice(n),O.writeUInt32(P.sequence),k&&(O.writeSlice(P.issuance.assetBlindingNonce),O.writeSlice(P.issuance.assetEntropy),O.writeSlice(P.issuance.assetAmount),O.writeSlice(P.issuance.tokenAmount)),O.writeSlice(a),O.writeUInt32(this.locktime),O.writeUInt32(o),u.hash256(O.end())}getHash(e){return e&&this.isCoinbase()?i.alloc(32,0):u.hash256(this.__toBuffer(void 0,void 0,e,!0))}getId(){return(0,s.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0,!1)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){h(f.tuple(f.Number,[f.Buffer]),arguments),this.ins[e].witness=t}setPeginWitness(e,t){h(f.tuple(f.Number,[f.Buffer]),arguments),this.ins[e].peginWitness=t}setInputIssuanceRangeProof(e,t){if(h(f.tuple(f.Buffer),arguments),void 0===this.ins[e].issuance)throw Error("Issuance not set for input #"+e);this.ins[e].issuanceRangeProof=t}setInputInflationRangeProof(e,t){if(h(f.tuple(f.Buffer),arguments),void 0===this.ins[e].issuance)throw Error("Issuance not set for input #"+e);this.ins[e].inflationRangeProof=t}setOutputNonce(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.outs[e].nonce=t}setOutputRangeProof(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.outs[e].rangeProof=t}setOutputSurjectionProof(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.outs[e].surjectionProof=t}__byteLength(e,t){let r=t?0:1,i=8+r+s.varuint.encodingLength(this.ins.length)+s.varuint.encodingLength(this.outs.length);for(let n of this.ins)i+=40+(0,s.varSliceSize)(n.script),n.issuance&&(i+=64+n.issuance.assetAmount.length+n.issuance.tokenAmount.length);for(let o of this.outs)i+=o.asset.length+o.value.length+o.nonce.length+(0,s.varSliceSize)(o.script);if(e&&this.hasWitnesses()){for(let a of this.ins){for(let u of(i+=(0,s.varSliceSize)(a.issuanceRangeProof),i+=(0,s.varSliceSize)(a.inflationRangeProof),i+=s.varuint.encodingLength(a.witness.length),a.witness))i+=(0,s.varSliceSize)(u);for(let l of(i+=s.varuint.encodingLength((a.peginWitness||[]).length),a.peginWitness||[]))i+=(0,s.varSliceSize)(l)}for(let c of this.outs)i+=(0,s.varSliceSize)(c.surjectionProof),i+=(0,s.varSliceSize)(c.rangeProof)}return i}__toBuffer(e,t,r,n,o){e||(e=i.allocUnsafe(this.__byteLength(r,o)));let a=new s.BufferWriter(e,t||0);a.writeInt32(this.version);let u=r&&this.hasWitnesses();if(!o){let l=0;u&&!n&&(l|=S.ADVANCED_TRANSACTION_FLAG),a.writeUInt8(l)}return(a.writeVarInt(this.ins.length),this.ins.forEach(e=>{a.writeSlice(e.hash);let t=e.index;e.issuance&&(t=(t|y)>>>0),e.isPegin&&(t=(t|m)>>>0),a.writeUInt32(t),a.writeVarSlice(e.script),a.writeUInt32(e.sequence),e.issuance&&(a.writeSlice(e.issuance.assetBlindingNonce),a.writeSlice(e.issuance.assetEntropy),a.writeSlice(e.issuance.assetAmount),a.writeSlice(e.issuance.tokenAmount))}),a.writeVarInt(this.outs.length),this.outs.forEach(e=>{let t=o&&u?i.alloc(1):e.value;a.writeSlice(e.asset),a.writeSlice(t),a.writeSlice(e.nonce),o&&u&&a.writeUInt64(0),a.writeVarSlice(e.script)}),a.writeUInt32(this.locktime),!o&&u&&(this.ins.forEach(e=>{a.writeConfidentialInFields(e)}),this.outs.forEach(e=>{a.writeConfidentialOutFields(e)})),void 0!==t)?e.slice(t,a.offset):e}}function I(e){let t=e=>(0,s.varSliceSize)(e.rangeProof||i.alloc(0))+(0,s.varSliceSize)(e.surjectionProof||i.alloc(0)),r=e.reduce((e,r)=>e+t(r),0),n=s.BufferWriter.withCapacity(r);for(let o of e)n.writeVarSlice(o.surjectionProof||i.of(0)),n.writeVarSlice(o.rangeProof||i.of(0));return u.sha256(n.end())}function P(e){let t=e=>(0,s.varSliceSize)(e.issuanceRangeProof||i.alloc(1))+(0,s.varSliceSize)(e.inflationRangeProof||i.alloc(1)),r=e.reduce((e,r)=>e+t(r),0),n=s.BufferWriter.withCapacity(r);for(let o of e)n.writeVarSlice(o.issuanceRangeProof||i.of(0)),n.writeVarSlice(o.inflationRangeProof||i.of(0));return u.sha256(n.end())}function k(e){let t=e.reduce((e,t)=>e+t.asset.length+t.value.length,0),r=s.BufferWriter.withCapacity(t);for(let i of e)r.writeSlice(i.asset),r.writeSlice(i.value);return u.sha256(r.end())}function T(e){let t=void 0!==e.issuance;return(t?y>>>24:0)|(e.isPegin?m>>>24:0)}function O(e){let t=s.BufferWriter.withCapacity(e.length);for(let r of e)t.writeUInt8(T(r));return u.sha256(t.end())}function A(e){return e.issuance?e.issuance.assetBlindingNonce.length+e.issuance.assetEntropy.length+e.issuance.assetAmount.length+e.issuance.tokenAmount.length:0}function x(e){let t=s.BufferWriter.withCapacity(36*e.length);for(let r of e)t.writeSlice(r.hash),t.writeUInt32(r.index);return u.sha256(t.end())}function N(e){let t=s.BufferWriter.withCapacity(e.map(s.varSliceSize).reduce((e,t)=>e+t));return e.forEach(e=>t.writeVarSlice(e)),u.sha256(t.end())}function R(e){let t=s.BufferWriter.withCapacity(4*e.length);return e.forEach(e=>t.writeUInt32(e.sequence)),u.sha256(t.end())}function B(e){let t=e.reduce((e,t)=>t.issuance?e+A(t):e+1,0),r=0===t?e.length:t,n=s.BufferWriter.withCapacity(r);return e.forEach(e=>{e.issuance?(n.writeSlice(e.issuance.assetBlindingNonce),n.writeSlice(e.issuance.assetEntropy),n.writeSlice(e.issuance.assetAmount),n.writeSlice(e.issuance.tokenAmount)):n.writeSlice(i.of(0))}),u.sha256(n.end())}function C(e){let t=e.reduce((e,t)=>e+t.asset.length+t.value.length+t.nonce.length+(0,s.varSliceSize)(t.script),0),r=s.BufferWriter.withCapacity(t);return e.forEach(e=>{r.writeSlice(e.asset),r.writeSlice(e.value),r.writeSlice(e.nonce),r.writeVarSlice(e.script)}),u.sha256(r.end())}t.Transaction=S,S.DEFAULT_SEQUENCE=4294967295,S.SIGHASH_DEFAULT=0,S.SIGHASH_ALL=1,S.SIGHASH_NONE=2,S.SIGHASH_SINGLE=3,S.SIGHASH_ANYONECANPAY=128,S.SIGHASH_OUTPUT_MASK=3,S.SIGHASH_INPUT_MASK=128,S.ADVANCED_TRANSACTION_FLAG=1},5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Object=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.BufferOne=t.ConfidentialValue=t.AssetBuffer=t.AssetBufferWithFlag=t.ConfidentialCommitment=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;let i=r(21876);t.typeforce=r(2401);let n=i.Buffer.alloc(32,0),o=i.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function a(e){if(!i.Buffer.isBuffer(e)||e.length<33)return!1;let t=e[0],r=e.slice(1,33);if(0===r.compare(n)||r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;let a=e.slice(33);return!(0===a.compare(n)||a.compare(o)>=0)&&4===t&&65===e.length}t.isPoint=a;let s=2147483647;function u(e){return t.typeforce.UInt32(e)&&e<=s}function l(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function c(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign}t.UInt31=u,t.BIP32Path=l,l.toJSON=()=>"BIP32 derivation path",t.Signer=c;let f=21*1e14;function h(e){return t.typeforce.UInt53(e)&&e<=f}function p(e){return!!(e&&"output"in e&&i.Buffer.isBuffer(e.output))&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version)}function d(e){return(0,t.Array)(e)?2===e.length&&e.every(e=>d(e)):p(e)}t.Satoshi=h,t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8,assetHash:t.typeforce.String,confidentialPrefix:t.typeforce.UInt8,name:t.typeforce.String}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=p,t.isTaptree=d,t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.ConfidentialCommitment=t.typeforce.BufferN(33),t.AssetBufferWithFlag=t.typeforce.BufferN(33),t.AssetBuffer=t.typeforce.BufferN(32),t.ConfidentialValue=t.typeforce.BufferN(9),t.BufferOne=t.typeforce.BufferN(1),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.Object=t.typeforce.Object,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},21426:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ElementsValue=void 0;let n=r(42035);class o{constructor(e,t){this.prefix=e,this.value=t}static fromNumber(e){if(e<0)throw Error("Invalid negative number");let t=i.allocUnsafe(8);return(0,n.writeUInt64LE)(t,e,0),new o(this.UNCONFIDENTIAL_PREFIX,t.reverse())}static fromHex(e){let t=i.from(e,"hex");return this.fromBytes(t)}static fromBytes(e){if(8===e.length)return new o(o.UNCONFIDENTIAL_PREFIX,e);let t=e.length>0?e[0]:0,r=e.length>1?e.slice(1):i.alloc(0);if(t!==o.UNCONFIDENTIAL_PREFIX&&!o.CONFIDENTIAL_PREFIXES.includes(t))throw Error("Invalid value prefix");if(t===o.UNCONFIDENTIAL_PREFIX&&8!==r.length)throw Error("Invalid unconfidential value length");if(o.CONFIDENTIAL_PREFIXES.includes(t)&&32!==r.length)throw Error("Invalid confidential value length");return new o(t,r)}get hex(){return i.concat([i.of(this.prefix),this.value]).toString("hex")}get bytes(){return i.concat([i.of(this.prefix),this.value])}get number(){if(this.prefix!==o.UNCONFIDENTIAL_PREFIX)throw Error("Invalid value prefix");return(0,n.readUInt64LE)(a(this.value),0)}}function a(e){return i.from(e).reverse()}t.ElementsValue=o,o.UNCONFIDENTIAL_PREFIX=1,o.CONFIDENTIAL_PREFIXES=[8,9]},93169:function(e,t,r){"use strict";var i,n,o,a,s=r(21876).Buffer,u=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptType=t.isConfidential=t.decodeType=t.getNetwork=t.toOutputScript=t.fromOutputScript=t.toConfidential=t.toBlech32=t.toBech32=t.toBase58Check=t.fromConfidential=t.fromBlech32=t.fromBech32=t.fromBase58Check=t.ScriptType=t.AddressType=void 0;let f=c(r(76272)),h=c(r(43564)),p=c(r(14627)),d=c(r(63145)),g=r(93726),b=r(27715),y=c(r(58334)),m=r(75961),{typeforce:v}=d,w=40,E=2,_=16,S=1,I=80;function P(e,t){let r=e.slice(2);if(r.length<E||r.length>w)throw TypeError("Invalid program length for segwit address");let i=e[0]-I;if(i<S||i>_)throw TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw TypeError("Invalid script for segwit address");return R(r,i,t.bech32)}function k(e){return e>=4}function T(e){let t=y.decode(e);if(t.length<21)throw TypeError(e+" is too short");if(t.length>21)throw TypeError(e+" is too long");let r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}function O(e){let t,r;try{t=b.bech32.decode(e)}catch(i){}if(t){if(0!==(r=t.words[0]))throw TypeError(e+" uses wrong encoding")}else if(0===(r=(t=b.bech32m.decode(e)).words[0]))throw TypeError(e+" uses wrong encoding");let n=b.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:s.from(n)}}function A(e){let t;try{t=g.Blech32Address.fromString(e,g.BLECH32)}catch{t=g.Blech32Address.fromString(e,g.BLECH32M)}let r=s.from(t.blindingPublicKey,"hex"),i=s.from(t.witness,"hex"),n=s.concat([s.from([t.witnessVersion?t.witnessVersion+I:t.witnessVersion,i.length]),i]);return{version:t.witnessVersion,pubkey:r,data:n}}function x(e){let t=L(e);return e.startsWith(t.blech32)?D(e,t):K(e,t)}function N(e,t){v(d.tuple(d.Hash160bit,d.UInt8),arguments);let r=s.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),y.encode(r)}function R(e,t,r){let i=b.bech32.toWords(e);return i.unshift(t),0===t?b.bech32.encode(r,i):b.bech32m.encode(r,i)}function B(e,t,r,i){return g.Blech32Address.from(e.slice(2).toString("hex"),t.toString("hex"),r,i).address}function C(e,t){let r=L(e);return e.startsWith(r.bech32)?z(e,t,r):H(e,t,r)}function U(e,t){t=t||f.liquid;try{return h.p2pkh({output:e,network:t}).address}catch(r){}try{return h.p2sh({output:e,network:t}).address}catch(i){}try{return h.p2wpkh({output:e,network:t}).address}catch(n){}try{return h.p2wsh({output:e,network:t}).address}catch(o){}try{return P(e,t)}catch(a){}throw Error(p.toASM(e)+" has no matching Address")}function M(e,t){let r,i,n;t=t||L(e);try{r=T(e)}catch(o){}if(r){if(r.version===t.pubKeyHash)return h.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return h.p2sh({hash:r.hash}).output}else{try{i=O(e)}catch(a){}if(i){if(i.prefix!==t.bech32)throw Error(e+" has an invalid prefix");if(0===i.version){if(20===i.data.length)return h.p2wpkh({hash:i.data}).output;if(32===i.data.length)return h.p2wsh({hash:i.data}).output}else if(i.version>=S&&i.version<=_&&i.data.length>=E&&i.data.length<=w)return p.compile([i.version+I,i.data])}else{try{n=x(e)}catch(s){}if(n)return M(n.unconfidentialAddress,t)}}throw Error(e+" has no matching Script")}function j(e,t){if(t.startsWith(e.blech32)||t.startsWith(e.bech32))return!0;try{let r=y.decode(t),i=r.readUInt8(0);if(i===e.confidentialPrefix||i===e.pubKeyHash||i===e.scriptHash)return!0}catch{}return!1}function L(e){let t=[f.liquid,f.regtest,f.testnet];for(let r of t)if(j(r,e))return r;throw Error(e+" has an invalid prefix")}function K(e,t){let r=y.decode(e),i=r.readUInt8(1);if(i!==t.pubKeyHash&&i!==t.scriptHash)throw TypeError(e+"is not valid");if(r.length<55)throw TypeError(e+" is too short");if(r.length>55)throw TypeError(e+" is too long");let n=r.slice(2,35),o=r.slice(35,r.length),a=s.of(i),u=s.concat([a,o]),l=y.encode(u),c=M(l);return{blindingKey:n,unconfidentialAddress:l,scriptPubKey:c}}function D(e,t){let r=A(e),i=U(r.data,t);return{blindingKey:r.pubkey,unconfidentialAddress:i,scriptPubKey:r.data}}function H(e,t,r){let i=y.decode(e),n=i.readUInt8(0);if(21!==i.length||n!==r.pubKeyHash&&n!==r.scriptHash)throw TypeError(e+"is not valid");if(t.length<33)throw TypeError("Blinding key is too short");if(t.length>33)throw TypeError("Blinding key is too long");let o=s.alloc(2);o[0]=r.confidentialPrefix,o[1]=n;let a=s.concat([o,t,s.from(i.slice(1))]);return y.encode(a)}function z(e,t,r){let i=M(e,r),n=O(e).version;return B(i,t,r.blech32,n)}function F(e,t){return e.startsWith(t.blech32)}function V(e){let t=A(e);switch(t.data.length-2){case 20:return o.ConfidentialP2Wpkh;case 32:return o.ConfidentialP2Wsh;default:throw Error(`invalid blech32 program length: ${t.data.length-2}`)}}function q(e,t){return e.startsWith(t.bech32)}function W(e){let t=O(e);switch(t.data.length){case 20:return o.P2Wpkh;case 32:return o.P2Wsh;default:throw Error("invalid program length")}}function G(e,t){return Error(`unknown address prefix (${e}), need ${t.pubKeyHash} or ${t.scriptHash}`)}function X(e,t){let r=y.decode(e);if(r.readUInt8(0)===t.confidentialPrefix){let i=r.slice(35);if(20!==i.length)throw Error("decoded address is of unknown size");let n=r.readUInt8(1);switch(n){case t.pubKeyHash:return o.ConfidentialP2Pkh;case t.scriptHash:return o.ConfidentialP2Sh;default:throw G(n,t)}}let a=r.readUInt8(0),s=r.slice(1);if(20!==s.length)throw Error("decoded address is of unknown size");switch(a){case t.pubKeyHash:return o.P2Pkh;case t.scriptHash:return o.P2Sh;default:throw G(a,t)}}function Y(e,t){return(t=t||L(e),q(e,t))?W(e):F(e,t)?V(e):X(e,t)}function Z(e){let t=Y(e);return k(t)}function $(e){switch(e[0]){case m.OPS.OP_0:if(20===e.slice(2).length)return a.P2Wpkh;return a.P2Wsh;case m.OPS.OP_HASH160:return a.P2Sh;case m.OPS.OP_DUP:return a.P2Pkh;case m.OPS.OP_1:return a.P2Tr;default:throw Error("unknow script type")}}(i=o=t.AddressType||(t.AddressType={}))[i.P2Pkh=0]="P2Pkh",i[i.P2Sh=1]="P2Sh",i[i.P2Wpkh=2]="P2Wpkh",i[i.P2Wsh=3]="P2Wsh",i[i.ConfidentialP2Pkh=4]="ConfidentialP2Pkh",i[i.ConfidentialP2Sh=5]="ConfidentialP2Sh",i[i.ConfidentialP2Wpkh=6]="ConfidentialP2Wpkh",i[i.ConfidentialP2Wsh=7]="ConfidentialP2Wsh",(n=a=t.ScriptType||(t.ScriptType={}))[n.P2Pkh=0]="P2Pkh",n[n.P2Sh=1]="P2Sh",n[n.P2Wpkh=2]="P2Wpkh",n[n.P2Wsh=3]="P2Wsh",n[n.P2Tr=4]="P2Tr",t.fromBase58Check=T,t.fromBech32=O,t.fromBlech32=A,t.fromConfidential=x,t.toBase58Check=N,t.toBech32=R,t.toBlech32=B,t.toConfidential=C,t.fromOutputScript=U,t.toOutputScript=M,t.getNetwork=L,t.decodeType=Y,t.isConfidential=Z,t.getScriptType=$},51623:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AssetHash=void 0;class n{constructor(e,t){this.prefix=e,this.value=t}static fromHex(e){let t=i.from(e,"hex");return 32===t.length?this.fromBytes(t.reverse()):this.fromBytes(t)}static fromBytes(e){if(32===e.length)return new n(n.UNCONFIDENTIAL_PREFIX,e);let t=e.length>0?e[0]:0,r=e.length>1?e.slice(1):i.alloc(0);if(t!==n.UNCONFIDENTIAL_PREFIX&&!n.CONFIDENTIAL_PREFIXES.includes(t))throw Error("Invalid asset prefix");if(t===n.UNCONFIDENTIAL_PREFIX&&32!==r.length)throw Error("Invalid unconfidential asset length");if(n.CONFIDENTIAL_PREFIXES.includes(t)&&32!==r.length)throw Error("Invalid confidential asset length");return new n(t,r)}get hex(){return this.prefix===n.UNCONFIDENTIAL_PREFIX?o(this.value).toString("hex"):i.concat([i.of(this.prefix),this.value]).toString("hex")}get bytes(){return i.concat([i.of(this.prefix),this.value])}get bytesWithoutPrefix(){return this.value}}function o(e){return i.from(e).reverse()}t.AssetHash=n,n.UNCONFIDENTIAL_PREFIX=1,n.CONFIDENTIAL_PREFIXES=[10,11]},3803:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.findScriptPath=t.toHashTree=t.tapLeafHash=t.BIP341Factory=t.LEAF_VERSION_TAPSCRIPT=void 0;let n=r(66438),o=r(45217),a=r(39831);function s(e){return{taprootSignKey:b(e),taprootSignScriptStack:p(e),taprootOutputScript:h(e)}}function u(e){let r=e.version||t.LEAF_VERSION_TAPSCRIPT,o=i.from(e.scriptHex,"hex"),s=a.BufferWriter.withCapacity(1+(0,a.varSliceSize)(o));return s.writeUInt8(r),s.writeVarSlice(o),(0,n.taggedHash)("TapLeaf/elements",s.end())}function l(e,r=!1){switch(e.length){case 0:return{hash:i.alloc(32)};case 1:let o=e[0],a=o.version||t.LEAF_VERSION_TAPSCRIPT;if((1&a)!=0)throw Error("Invalid leaf version");return{hash:u(o),scriptHex:r?o.scriptHex:void 0};default:let s=Math.ceil(e.length/2),c=l(e.slice(0,s),r),f=l(e.slice(s),r),h=c.hash,p=f.hash;return c.hash.compare(f.hash)>0&&([h,p]=[p,h]),{left:c,right:f,hash:(0,n.taggedHash)("TapBranch/elements",i.concat([h,p]))}}}function c(e,t){if(e.left){if(e.left.hash.equals(t))return e.right?[e.right.hash]:[];let r=c(e.left,t);if(r.length)return e.right?r.concat([e.right.hash]):r}if(e.right){if(e.right.hash.equals(t))return e.left?[e.left.hash]:[];let i=c(e.right,t);if(i.length)return e.left?i.concat([e.left.hash]):i}return[]}function f(e,t,r){let o=e.slice(1,33),a=i.concat([o,t]),s=(0,n.taggedHash)("TapTweak/elements",a),u=r.xOnlyPointAddTweak(o,s);if(!u)throw Error("Invalid tweaked key");return u}function h(e){return(t,r)=>{let n=i.alloc(0);r&&(n=r.hash);let{xOnlyPubkey:o}=f(t,n,e);return i.concat([i.from([81,32]),o])}}function p(e){return(r,n,o,a)=>{let{parity:s}=f(r,o,e),u=i.of(n.version||t.LEAF_VERSION_TAPSCRIPT+s),l=i.concat([u,r.slice(1),...a]);return[i.from(n.scriptHex,"hex"),l]}}t.LEAF_VERSION_TAPSCRIPT=196,t.BIP341Factory=s,t.tapLeafHash=u,t.toHashTree=l,t.findScriptPath=c;let d=i.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140","hex"),g=i.from("0000000000000000000000000000000000000000000000000000000000000001","hex");function b(e){return(t,r)=>{let a=(0,o.ECPairFactory)(e).fromPrivateKey(r),s=2===a.publicKey[0]?a.privateKey:e.privateAdd(e.privateSub(d,r),g),u=(0,n.taggedHash)("TapTweak/elements",a.publicKey.slice(1,33)),l=e.privateAdd(s,u);if(null===l)throw Error("Invalid Tweak");let c=e.signSchnorr(t,l,i.alloc(32)),f=e.verifySchnorr(t,(0,o.ECPairFactory)(e).fromPrivateKey(i.from(l)).publicKey.slice(1),c);if(!f)throw Error("Invalid Signature");return i.from(c)}}},52869:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){if(e.length<8||e.length>72||48!==e[0]||e[1]!==e.length-2||2!==e[2])return!1;let t=e[3];if(0===t||5+t>=e.length||2!==e[4+t])return!1;let r=e[5+t];return 0!==r&&6+t+r===e.length&&!(128&e[4])&&(!(t>1)||0!==e[4]||!!(128&e[5]))&&!(128&e[t+6])&&(!(r>1)||0!==e[t+6]||!!(128&e[t+7]))}function o(e){if(e.length<8)throw Error("DER sequence length is too short");if(e.length>72)throw Error("DER sequence length is too long");if(48!==e[0])throw Error("Expected DER sequence");if(e[1]!==e.length-2)throw Error("DER sequence length is invalid");if(2!==e[2])throw Error("Expected DER integer");let t=e[3];if(0===t)throw Error("R length is zero");if(5+t>=e.length)throw Error("R length is too long");if(2!==e[4+t])throw Error("Expected DER integer (2)");let r=e[5+t];if(0===r)throw Error("S length is zero");if(6+t+r!==e.length)throw Error("S length is invalid");if(128&e[4])throw Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw Error("R value excessively padded");if(128&e[t+6])throw Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}function a(e,t){let r=e.length,n=t.length;if(0===r)throw Error("R length is zero");if(0===n)throw Error("S length is zero");if(r>33)throw Error("R length is too long");if(n>33)throw Error("S length is too long");if(128&e[0])throw Error("R value is negative");if(128&t[0])throw Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw Error("S value excessively padded");let o=i.allocUnsafe(6+r+n);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=n,t.decode=o,t.encode=a},39831:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varSliceSize=t.varuint=void 0;let s=a(r(63145)),{typeforce:u}=s,l=a(r(57795));t.varuint=l;let c=33,f=9;function h(e,t){if("number"!=typeof e)throw Error("cannot write a non-number as a number");if(e<0)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("RangeError: value out of range");if(Math.floor(e)!==e)throw Error("value has a fractional component")}function p(e){let t=e.length;return l.encodingLength(t)+t}function d(e,t){let r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return h((i*=4294967296)+r,18446744073709552e3),i+r}function g(e,t,r){return h(t,18446744073709552e3),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}function b(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let i=0;i<e.length/2;i++)r=e[i],e[i]=e[t],e[t]=r,t--;return e}function y(e){let t=i.allocUnsafe(e.length);return e.copy(t),t}t.varSliceSize=p,t.readUInt64LE=d,t.writeUInt64LE=g,t.reverseBuffer=b,t.cloneBuffer=y;class m{constructor(e,t=0){this.buffer=e,this.offset=t,u(s.tuple(s.Buffer,s.UInt32),[e,t])}static withCapacity(e){return new m(i.alloc(e))}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=g(this.buffer,e,this.offset)}writeVarInt(e){l.encode(e,this.buffer,this.offset),this.offset+=l.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(e=>this.writeVarSlice(e))}writeConfidentialInFields(e){this.writeVarSlice(e.issuanceRangeProof||i.alloc(0)),this.writeVarSlice(e.inflationRangeProof||i.alloc(0)),this.writeVector(e.witness),this.writeVector(e.peginWitness||[])}writeConfidentialOutFields(e){this.writeVarSlice(e.surjectionProof||i.alloc(0)),this.writeVarSlice(e.rangeProof||i.alloc(0))}end(){if(this.buffer.length===this.offset)return this.buffer;throw Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=m;class v{constructor(e,t=0){this.buffer=e,this.offset=t,u(s.tuple(s.Buffer,s.UInt32),[e,t])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=d(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=l.decode(this.buffer,this.offset);return this.offset+=l.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw Error("Cannot read slice out of bounds");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}readConfidentialAsset(){let e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e?i.concat([t,this.readSlice(c-1)]):10===e||11===e?i.concat([t,this.readSlice(c-1)]):t}readConfidentialNonce(){let e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e?i.concat([t,this.readSlice(c-1)]):2===e||3===e?i.concat([t,this.readSlice(c-1)]):t}readConfidentialValue(){let e=this.readUInt8(),t=this.buffer.slice(this.offset-1,this.offset);return 1===e||255===e?i.concat([t,this.readSlice(f-1)]):8===e||9===e?i.concat([t,this.readSlice(c-1)]):t}readConfidentialInFields(){let e=this.readVarSlice(),t=this.readVarSlice(),r=this.readVector(),i=this.readVector();return{issuanceRangeProof:e,inflationRangeProof:t,witness:r,peginWitness:i}}readConfidentialOutFields(){let e=this.readVarSlice(),t=this.readVarSlice();return{surjectionProof:e,rangeProof:t}}readIssuance(){let e=this.readSlice(32),t=this.readSlice(32),r=this.readConfidentialValue(),i=this.readConfidentialValue();return{assetBlindingNonce:e,assetEntropy:t,assetAmount:r,tokenAmount:i}}}t.BufferReader=v},56196:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.satoshiToConfidentialValue=t.confidentialValueToSatoshi=t.Confidential=void 0;let s=a(r(66438)),u=r(76235),l=r(79746);class c{constructor(e){this.zkp=e}nonceHash(e,t){return s.sha256(this.zkp.ecdh(e,t))}valueBlindingFactor(e,t,r,i,n,o){let a=e.concat(t),s=e.length,u=r.concat(i),l=n.concat(o);return this.zkp.pedersen.blindGeneratorBlindSum(a,s,u,l)}valueCommitment(e,t,r){let{generator:i,pedersen:n}=this.zkp,o=i.parse(t),a=n.commit(r,e,o);return n.commitSerialize(a)}assetCommitment(e,t){let{generator:r}=this.zkp,i=r.generateBlinded(e,t);return r.serialize(i)}unblindOutputWithKey(e,t){let r=this.nonceHash(e.nonce,t);return this.unblindOutputWithNonce(e,r)}unblindOutputWithNonce(e,t){if(!e.rangeProof||0===e.rangeProof.length)throw Error("Missing rangeproof to rewind");let r=this.zkp,i=r.generator.parse(e.asset),{value:n,blindFactor:o,message:a}=r.rangeproof.rewind(e.value,e.rangeProof,t,i,e.script);return{value:n,asset:a.slice(0,32),valueBlindingFactor:o,assetBlindingFactor:a.slice(32)}}rangeProofInfo(e){let{rangeproof:t}=this.zkp,{exp:r,mantissa:i,minValue:n,maxValue:o}=t.info(e);return{minValue:parseInt(n,10),maxValue:parseInt(o,10),ctExp:r,ctBits:parseInt(i,10)}}rangeProofWithNonceHash(e,t,r,i,n,o,a,s,u,l,c){let f=this.nonceHash(t,r);return this.rangeProof(e,f,i,n,o,a,s,u,l,c)}rangeProofVerify(e,t,r,i){let{generator:n,pedersen:o,rangeproof:a}=this.zkp,s=n.parse(t),u=o.commitParse(e);return a.verify(u,r,s,i)}rangeProof(e,t,r,n,o,a,s,u,l,c){let{generator:f,pedersen:h,rangeproof:p}=this.zkp,d=f.generateBlinded(r,n),g=i.concat([r,n]),b=h.commitParse(a),y="0"===e?"0":u||"1",m=l||0,v=c||52;return p.sign(b,o,t,e,d,y,m,v,g,s)}surjectionProof(e,t,r,i,n){let{generator:o,surjectionproof:a}=this.zkp,s=o.generateBlinded(e,t),u=r.map((e,t)=>o.generateBlinded(e,i[t])),l=r.length>3?3:r.length,c=100,f=a.initialize(r,l,e,c,n),h=a.generate(f.proof,u,s,f.inputIndex,i[f.inputIndex],t);return a.serialize(h)}surjectionProofVerify(e,t,r,i,n){let{generator:o,surjectionproof:a}=this.zkp,s=e.map((e,r)=>o.generateBlinded(e,t[r])),u=o.generateBlinded(r,i),l=a.parse(n);return a.verify(l,s,u)}blindValueProof(e,t,r,i,n){let{generator:o,pedersen:a,rangeproof:s}=this.zkp,u=o.parse(r),l=a.commitParse(t);return s.sign(l,i,n,e,u,e,-1)}blindAssetProof(e,t,r){let{generator:i,surjectionproof:n}=this.zkp,o=1,a=100,s=n.initialize([e],o,e,a,u.ZERO),l=i.generate(e),c=i.parse(t),f=n.generate(s.proof,[l],c,s.inputIndex,u.ZERO,r);return n.serialize(f)}assetBlindProofVerify(e,t,r){let{generator:i,surjectionproof:n}=this.zkp,o=[i.generate(e)],a=i.parse(t),s=n.parse(r);return n.verify(s,o,a)}}function f(e){return l.ElementsValue.fromBytes(e).number}function h(e){return l.ElementsValue.fromNumber(e).bytes}t.Confidential=c,t.confidentialValueToSatoshi=f,t.satoshiToConfidentialValue=h},66438:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;let o=n(r(23482));function a(e){try{return(0,o.default)("rmd160").update(e).digest()}catch(t){return(0,o.default)("ripemd160").update(e).digest()}}function s(e){return(0,o.default)("sha1").update(e).digest()}function u(e){return(0,o.default)("sha256").update(e).digest()}function l(e){return a(u(e))}function c(e){return u(u(e))}t.ripemd160=a,t.sha1=s,t.sha256=u,t.hash160=l,t.hash256=c;let f=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapLeaf/elements","TapBranch/elements","TapSighash","TapSighash/elements","TapTweak","TapTweak/elements","KeyAgg list","KeyAgg coefficient"],h=Object.fromEntries(f.map(e=>{let t=u(i.from(e,"utf-8"));return[e,i.concat([t,t])]}));function p(e,t){return u(i.concat([h[e],t]))}t.taggedHash=p},84434:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.opcodes=t.bip341=t.issuance=t.script=t.payments=t.networks=t.crypto=t.confidential=t.address=void 0;let s=o(r(93169));t.address=s;let u=o(r(66438));t.crypto=u;let l=o(r(76272));t.networks=l;let c=o(r(43564));t.payments=c;let f=o(r(14627));t.script=f;let h=o(r(63590));t.issuance=h;let p=o(r(3803));t.bip341=p;let d=o(r(56196));t.confidential=d;var g=r(75961);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return g.OPS}});var b=r(76235);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return b.Transaction}}),a(r(51623),t),a(r(79746),t),a(r(87409),t)},63590:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.amountWithPrecisionToSatoshis=t.calculateReissuanceToken=t.calculateAsset=t.issuanceEntropyFromInput=t.generateEntropy=t.isReissuance=t.newIssuance=t.hashContract=t.validateIssuanceContract=t.hasTokenAmount=void 0;let s=r(39831),u=a(r(66438)),l=r(73694),c=r(79746);function f(e){return!!e.tokenAmount&&e.tokenAmount.length>1}function h(e){let t=e.precision>=0&&e.precision<=8;return t}function p(e){if(!h(e))throw Error("Invalid asset contract");let t=Object.keys(e).sort(),r=t.reduce((t,r)=>({...t,[r]:e[r]}),{});return u.sha256(i.from(JSON.stringify(r))).slice().reverse()}function d(e,t,r){if(e<0)throw Error("Invalid asset amount");if(t<0)throw Error("Invalid token amount");let n=r?p(r):i.alloc(32),o={assetAmount:0===e?i.of(0):c.ElementsValue.fromNumber(e).bytes,tokenAmount:0===t?i.of(0):c.ElementsValue.fromNumber(t).bytes,assetBlindingNonce:i.alloc(32),assetEntropy:n};return o}function g(e){return!e.assetBlindingNonce.equals(i.alloc(32))}function b(e,t=i.alloc(32)){if(32!==e.txHash.length)throw Error("Invalid txHash length");let r=i.allocUnsafe(36),n=new s.BufferWriter(r,0);n.writeSlice(e.txHash),n.writeInt32(e.vout);let o=u.hash256(n.buffer),a=i.concat([o,t]);return(0,l.sha256Midstate)(a)}function y(e){if(!e.issuance)throw Error("input does not contain issuance data");return g(e.issuance)?e.issuance.assetEntropy:b({txHash:e.hash,vout:e.index},e.issuance.assetEntropy)}function m(e){if(32!==e.length)throw Error("Invalid entropy length");let t=i.alloc(32);return(0,l.sha256Midstate)(i.concat([e,t]))}function v(e,t=!1){if(32!==e.length)throw Error("Invalid entropy length");return(0,l.sha256Midstate)(i.concat([e,i.of(w(t)+1),i.alloc(31)]))}function w(e){return e?1:0}function E(e,t=8){return Math.pow(10,t)*e}t.hasTokenAmount=f,t.validateIssuanceContract=h,t.hashContract=p,t.newIssuance=d,t.isReissuance=g,t.generateEntropy=b,t.issuanceEntropyFromInput=y,t.calculateAsset=m,t.calculateReissuanceToken=v,t.amountWithPrecisionToSatoshis=E},76272:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.liquid=void 0;let n=e=>i.from(e,"hex").reverse(),o=n("00902a6b70c2ca83b5d9c815d96a0e2f4202179316970d14ea1847dae5b1ca21"),a=n("a771da8e52ee6ad581ed1e9a99825e5b3b7992225534eaa2ae23244fe26ab1c1"),s=n("1466275836220db2944ca059a3a10ef6fd2ea684b0688d2c379296888a206003");t.liquid={messagePrefix:"\x18Liquid Signed Message:\n",bech32:"ex",blech32:"lq",bip32:{public:76067358,private:76066276},pubKeyHash:57,scriptHash:39,wif:128,confidentialPrefix:12,assetHash:"6f0279e9ed041c3d710a9f57d0c02928416460c4b722ae3457a11eec381c526d",genesisBlockHash:s,name:"liquid"},t.regtest={messagePrefix:"\x18Liquid Signed Message:\n",bech32:"ert",blech32:"el",bip32:{public:70617039,private:70615956},pubKeyHash:235,scriptHash:75,wif:239,confidentialPrefix:4,assetHash:"5ac9f65c0efcc4775e0baec4ec03abdde22473cd3cf33c0419ca290e0751b225",genesisBlockHash:o,name:"regtest"},t.testnet={...t.regtest,bech32:"tex",blech32:"tlq",pubKeyHash:36,scriptHash:19,confidentialPrefix:23,assetHash:"144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49",genesisBlockHash:a,name:"testnet"}},75961:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;let r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_SUBSTR_LAZY:195,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_DETERMINISTICRANDOM:192,OP_CHECKSIGFROMSTACK:193,OP_CHECKSIGFROMSTACKVERIFY:194,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP2:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_SHA256INITIALIZE:196,OP_SHA256UPDATE:197,OP_SHA256FINALIZE:198,OP_INSPECTINPUTOUTPOINT:199,OP_INSPECTINPUTASSET:200,OP_INSPECTINPUTVALUE:201,OP_INSPECTINPUTSCRIPTPUBKEY:202,OP_INSPECTINPUTSEQUENCE:203,OP_INSPECTINPUTISSUANCE:204,OP_PUSHCURRENTINPUTINDEX:205,OP_INSPECTOUTPUTASSET:206,OP_INSPECTOUTPUTVALUE:207,OP_INSPECTOUTPUTNONCE:208,OP_INSPECTOUTPUTSCRIPTPUBKEY:209,OP_INSPECTVERSION:210,OP_INSPECTLOCKTIME:211,OP_INSPECTNUMINPUTS:212,OP_INSPECTNUMOUTPUTS:213,OP_TXWEIGHT:214,OP_ADD64:215,OP_SUB64:216,OP_MUL64:217,OP_DIV64:218,OP_NEG64:219,OP_LESSTHAN64:220,OP_LESSTHANOREQUAL64:221,OP_GREATERTHAN64:222,OP_GREATERTHANOREQUAL64:223,OP_SCRIPTNUMTOLE64:224,OP_LE64TOSCRIPTNUM:225,OP_LE32TOLE64:226,OP_ECMULSCALARVERIFY:227,OP_TWEAKVERIFY:228,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;let i={};for(let n of(t.REVERSE_OPS=i,Object.keys(r))){let o=r[n];i[o]=n}},12322:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;let a=r(76272),s=o(r(14627)),u=r(63145),l=o(r(35838)),c=s.OPS;function f(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function h(e,t){if(!e.data&&!e.output)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.Buffer),data:u.typeforce.maybe(u.typeforce.arrayOf(u.typeforce.Buffer))},e);let r=e.network||a.liquid,i={name:"embed",network:r};if(l.prop(i,"output",()=>{if(e.data)return s.compile([c.OP_RETURN].concat(e.data))}),l.prop(i,"data",()=>{if(e.output)return s.decompile(e.output).slice(1)}),t.validate&&e.output){let n=s.decompile(e.output);if(n[0]!==c.OP_RETURN||!n.slice(1).every(u.typeforce.Buffer))throw TypeError("Output is invalid");if(e.data&&!f(e.data,i.data))throw TypeError("Data mismatch")}return Object.assign(i,e)}t.p2data=h},43564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;let i=r(12322);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return i.p2data}});let n=r(31221);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return n.p2ms}});let o=r(21015);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});let a=r(12411);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});let s=r(22050);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});let u=r(17956);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});let l=r(18820);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return l.p2wsh}})},35838:function(e,t){"use strict";function r(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})}function i(e){let t;return()=>void 0!==t?t:t=e()}Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=r,t.value=i},31221:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;let a=r(76272),s=o(r(14627)),u=r(63145),l=o(r(35838)),c=s.OPS,f=c.OP_RESERVED;function h(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function p(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&void 0!==e.m)&&!e.signatures)throw TypeError("Not enough data");function r(e){return s.isCanonicalScriptSignature(e)||(t.allowIncomplete&&e===c.OP_0)!==void 0}t=Object.assign({validate:!0},t||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),m:u.typeforce.maybe(u.typeforce.Number),n:u.typeforce.maybe(u.typeforce.Number),output:u.typeforce.maybe(u.typeforce.Buffer),pubkeys:u.typeforce.maybe(u.typeforce.arrayOf(u.isPoint)),signatures:u.typeforce.maybe(u.typeforce.arrayOf(r)),input:u.typeforce.maybe(u.typeforce.Buffer)},e);let i=e.network||a.liquid,n={network:i},o=[],p=!1;function d(e){p||(p=!0,o=s.decompile(e),n.m=o[0]-f,n.n=o[o.length-2]-f,n.pubkeys=o.slice(1,-2))}if(l.prop(n,"output",()=>{if(e.m&&n.n&&e.pubkeys)return s.compile([].concat(f+e.m,e.pubkeys,f+n.n,c.OP_CHECKMULTISIG))}),l.prop(n,"m",()=>{if(n.output)return d(n.output),n.m}),l.prop(n,"n",()=>{if(n.pubkeys)return n.pubkeys.length}),l.prop(n,"pubkeys",()=>{if(e.output)return d(e.output),n.pubkeys}),l.prop(n,"signatures",()=>{if(e.input)return s.decompile(e.input).slice(1)}),l.prop(n,"input",()=>{if(e.signatures)return s.compile([c.OP_0].concat(e.signatures))}),l.prop(n,"witness",()=>{if(n.input)return[]}),l.prop(n,"name",()=>{if(n.m&&n.n)return`p2ms(${n.m} of ${n.n})`}),t.validate){if(e.output){if(d(e.output),!u.typeforce.Number(o[0])||!u.typeforce.Number(o[o.length-2])||o[o.length-1]!==c.OP_CHECKMULTISIG||n.m<=0||n.n>16||n.m>n.n||n.n!==o.length-3||!n.pubkeys.every(e=>(0,u.isPoint)(e)))throw TypeError("Output is invalid");if(void 0!==e.m&&e.m!==n.m)throw TypeError("m mismatch");if(void 0!==e.n&&e.n!==n.n)throw TypeError("n mismatch");if(e.pubkeys&&!h(e.pubkeys,n.pubkeys))throw TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw TypeError("Pubkey count mismatch");if(n.n=e.pubkeys.length,n.n<n.m)throw TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<n.m)throw TypeError("Not enough signatures provided");if(e.signatures.length>n.m)throw TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==c.OP_0)throw TypeError("Input is invalid");if(0===n.signatures.length||!n.signatures.every(r))throw TypeError("Input has invalid signature(s)");if(e.signatures&&!h(e.signatures,n.signatures))throw TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw TypeError("Signature count mismatch")}}return Object.assign(n,e)}t.p2ms=p},21015:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;let a=r(76272),s=o(r(14627)),u=r(63145),l=o(r(35838)),c=s.OPS;function f(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.Buffer),pubkey:u.typeforce.maybe(u.isPoint),signature:u.typeforce.maybe(s.isCanonicalScriptSignature),input:u.typeforce.maybe(u.typeforce.Buffer)},e);let r=l.value(()=>s.decompile(e.input)),i=e.network||a.liquid,n={name:"p2pk",network:i};if(l.prop(n,"output",()=>{if(e.pubkey)return s.compile([e.pubkey,c.OP_CHECKSIG])}),l.prop(n,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),l.prop(n,"signature",()=>{if(e.input)return r()[0]}),l.prop(n,"input",()=>{if(e.signature)return s.compile([e.signature])}),l.prop(n,"witness",()=>{if(n.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==c.OP_CHECKSIG)throw TypeError("Output is invalid");if(!(0,u.isPoint)(n.pubkey))throw TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(n.pubkey))throw TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(n.input))throw TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(n.signature))throw TypeError("Input has invalid signature")}}return Object.assign(n,e)}t.p2pk=f},12411:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;let u=a(r(66438)),l=r(76272),c=a(r(14627)),f=r(63145),h=a(r(35838)),p=s(r(58334)),d=c.OPS;function g(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,f.typeforce)({network:f.typeforce.maybe(f.typeforce.Object),address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(20)),output:f.typeforce.maybe(f.typeforce.BufferN(25)),pubkey:f.typeforce.maybe(f.isPoint),signature:f.typeforce.maybe(c.isCanonicalScriptSignature),input:f.typeforce.maybe(f.typeforce.Buffer),blindkey:f.typeforce.maybe(f.isPoint),confidentialAddress:f.typeforce.maybe(f.typeforce.String)},e);let r=h.value(()=>{let t=p.default.decode(e.address),r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}),n=h.value(()=>c.decompile(e.input)),o=h.value(()=>{let t=p.default.decode(e.confidentialAddress),r=t.slice(2,35),n=i.concat([i.from([t.readUInt8(1)]),t.slice(35)]),o=p.default.encode(n);return{blindkey:r,unconfidentialAddress:o}}),a=e.network||l.liquid,s={name:"p2pkh",network:a};if(h.prop(s,"address",()=>{if(!s.hash)return;let e=i.allocUnsafe(21);return e.writeUInt8(a.pubKeyHash,0),s.hash.copy(e,1),p.default.encode(e)}),h.prop(s,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return r().hash;if(e.pubkey||s.pubkey)return u.hash160(e.pubkey||s.pubkey);if(e.confidentialAddress){let t=o().unconfidentialAddress;return p.default.decode(t).slice(1)}}),h.prop(s,"output",()=>{if(s.hash)return c.compile([d.OP_DUP,d.OP_HASH160,s.hash,d.OP_EQUALVERIFY,d.OP_CHECKSIG])}),h.prop(s,"pubkey",()=>{if(e.input)return n()[1]}),h.prop(s,"signature",()=>{if(e.input)return n()[0]}),h.prop(s,"input",()=>{if(e.pubkey&&e.signature)return c.compile([e.signature,e.pubkey])}),h.prop(s,"witness",()=>{if(s.input)return[]}),h.prop(s,"blindkey",()=>e.confidentialAddress?o().blindkey:e.blindkey?e.blindkey:void 0),h.prop(s,"confidentialAddress",()=>{if(!s.address||!s.blindkey)return;let e=p.default.decode(s.address),t=i.concat([i.from([a.confidentialPrefix,e.readUInt8(0)]),s.blindkey,i.from(e.slice(1))]);return p.default.encode(t)}),t.validate){let g=i.from([]),b=i.from([]);if(e.address){if(r().version!==a.pubKeyHash)throw TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw TypeError("Invalid address");g=r().hash}if(e.hash){if(g.length>0&&!g.equals(e.hash))throw TypeError("Hash mismatch");g=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==d.OP_DUP||e.output[1]!==d.OP_HASH160||20!==e.output[2]||e.output[23]!==d.OP_EQUALVERIFY||e.output[24]!==d.OP_CHECKSIG)throw TypeError("Output is invalid");let y=e.output.slice(3,23);if(g.length>0&&!g.equals(y))throw TypeError("Hash mismatch");g=y}if(e.pubkey){let m=u.hash160(e.pubkey);if(g.length>0&&!g.equals(m))throw TypeError("Hash mismatch");g=m}if(e.input){let v=n();if(2!==v.length)throw TypeError("Input is invalid");if(!c.isCanonicalScriptSignature(v[0]))throw TypeError("Input has invalid signature");if(!(0,f.isPoint)(v[1]))throw TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(v[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(v[1]))throw TypeError("Pubkey mismatch");let w=u.hash160(v[1]);if(g.length>0&&!g.equals(w))throw TypeError("Hash mismatch")}if(e.confidentialAddress){if(e.address&&e.address!==o().unconfidentialAddress)throw TypeError("Address mismatch");if(b.length>0&&!b.equals(o().blindkey))throw TypeError("Blindkey mismatch");b=o().blindkey}if(e.blindkey){if(!(0,f.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(b.length>0&&!b.equals(e.blindkey))throw TypeError("Blindkey mismatch");b=e.blindkey}}return Object.assign(s,e)}t.p2pkh=g},22050:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;let s=a(r(66438)),u=r(76272),l=a(r(14627)),c=r(63145),f=a(r(35838)),h=a(r(58334)),p=l.OPS;function d(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function g(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,c.typeforce)({network:c.typeforce.maybe(c.typeforce.Object),address:c.typeforce.maybe(c.typeforce.String),hash:c.typeforce.maybe(c.typeforce.BufferN(20)),output:c.typeforce.maybe(c.typeforce.BufferN(23)),redeem:c.typeforce.maybe({network:c.typeforce.maybe(c.typeforce.Object),output:c.typeforce.maybe(c.typeforce.Buffer),input:c.typeforce.maybe(c.typeforce.Buffer),witness:c.typeforce.maybe(c.typeforce.arrayOf(c.typeforce.Buffer))}),input:c.typeforce.maybe(c.typeforce.Buffer),witness:c.typeforce.maybe(c.typeforce.arrayOf(c.typeforce.Buffer)),blindkey:c.typeforce.maybe(c.isPoint),confidentialAddress:c.typeforce.maybe(c.typeforce.String)},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||u.liquid);let n={network:r},o=f.value(()=>{let t=h.decode(e.address),r=t.readUInt8(0),i=t.slice(1);return{version:r,hash:i}}),a=f.value(()=>l.decompile(e.input)),g=f.value(()=>{let t=a();return{network:r,output:t[t.length-1],input:l.compile(t.slice(0,-1)),witness:e.witness||[]}}),b=f.value(()=>{let t=h.decode(e.confidentialAddress),r=t.slice(2,35),n=i.concat([i.from([t.readUInt8(1)]),t.slice(35)]),o=h.encode(n);return{blindkey:r,unconfidentialAddress:o}});if(f.prop(n,"address",()=>{if(!n.hash)return;let e=i.allocUnsafe(21);return e.writeUInt8(n.network.scriptHash,0),n.hash.copy(e,1),h.encode(e)}),f.prop(n,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return o().hash;if(n.redeem&&n.redeem.output)return s.hash160(n.redeem.output);if(e.confidentialAddress){let t=b().unconfidentialAddress;return h.decode(t).slice(1)}}),f.prop(n,"output",()=>{if(n.hash)return l.compile([p.OP_HASH160,n.hash,p.OP_EQUAL])}),f.prop(n,"redeem",()=>{if(e.input)return g()}),f.prop(n,"input",()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return l.compile([].concat(l.decompile(e.redeem.input),e.redeem.output))}),f.prop(n,"witness",()=>n.redeem&&n.redeem.witness?n.redeem.witness:n.input?[]:void 0),f.prop(n,"name",()=>{let e=["p2sh"];return void 0!==n.redeem&&void 0!==n.redeem.name&&e.push(n.redeem.name),e.join("-")}),f.prop(n,"blindkey",()=>e.confidentialAddress?b().blindkey:e.blindkey?e.blindkey:void 0),f.prop(n,"confidentialAddress",()=>{if(!n.address||!n.blindkey)return;let e=h.decode(n.address),t=i.concat([i.from([r.confidentialPrefix,e.readUInt8(0)]),n.blindkey,i.from(e.slice(1))]);return h.encode(t)}),t.validate){let y=i.from([]),m=i.from([]);if(e.address){if(o().version!==r.scriptHash)throw TypeError("Invalid version or Network mismatch");if(20!==o().hash.length)throw TypeError("Invalid address");y=o().hash}if(e.hash){if(y.length>0&&!y.equals(e.hash))throw TypeError("Hash mismatch");y=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==p.OP_HASH160||20!==e.output[1]||e.output[22]!==p.OP_EQUAL)throw TypeError("Output is invalid");let v=e.output.slice(2,22);if(y.length>0&&!y.equals(v))throw TypeError("Hash mismatch");y=v}let w=e=>{if(e.output){let t=l.decompile(e.output);if(!t||t.length<1)throw TypeError("Redeem.output too short");let r=s.hash160(e.output);if(y.length>0&&!y.equals(r))throw TypeError("Hash mismatch");y=r}if(e.input){let i=e.input.length>0,n=e.witness&&e.witness.length>0;if(!i&&!n)throw TypeError("Empty input");if(i&&n)throw TypeError("Input and witness provided");if(i){let o=l.decompile(e.input);if(!l.isPushOnly(o))throw TypeError("Non push-only scriptSig")}}};if(e.input){let E=a();if(!E||E.length<1)throw TypeError("Input too short");if(!i.isBuffer(g().output))throw TypeError("Input is invalid");w(g())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw TypeError("Network mismatch");if(e.input){let _=g();if(e.redeem.output&&!e.redeem.output.equals(_.output))throw TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(_.input))throw TypeError("Redeem.input mismatch")}w(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!d(e.redeem.witness,e.witness))throw TypeError("Witness and redeem.witness mismatch");if(e.confidentialAddress){if(e.address&&e.address!==b().unconfidentialAddress)throw TypeError("Address mismatch");if(m.length>0&&!m.equals(b().blindkey))throw TypeError("Blindkey mismatch");m=b().blindkey}if(e.blindkey){if(!(0,c.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(m.length>0&&!m.equals(e.blindkey))throw TypeError("Blindkey mismatch");m=e.blindkey}}return Object.assign(n,e)}t.p2sh=g},17956:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;let s=a(r(93169)),u=a(r(66438)),l=r(76272),c=a(r(14627)),f=r(63145),h=a(r(35838)),p=r(27715),d=c.OPS,g=i.alloc(0);function b(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,f.typeforce)({address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(20)),input:f.typeforce.maybe(f.typeforce.BufferN(0)),network:f.typeforce.maybe(f.typeforce.Object),output:f.typeforce.maybe(f.typeforce.BufferN(22)),pubkey:f.typeforce.maybe(f.isPoint),signature:f.typeforce.maybe(c.isCanonicalScriptSignature),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))},e);let r=e.network||l.liquid,n=h.value(()=>{let t=p.bech32.decode(e.address),r=t.words.shift(),n=p.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:i.from(n)}}),o=h.value(()=>{let t=s.fromBlech32(e.confidentialAddress);return{blindingKey:t.pubkey,unconfidentialAddress:s.toBech32(t.data.slice(2),t.version,r.bech32)}}),a={name:"p2wpkh",network:r};if(h.prop(a,"address",()=>{if(!a.hash)return;let e=p.bech32.toWords(a.hash);return e.unshift(0),p.bech32.encode(r.bech32,e)}),h.prop(a,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return n().data;if(e.pubkey||a.pubkey)return u.hash160(e.pubkey||a.pubkey);if(e.confidentialAddress){let t=o().unconfidentialAddress;return s.fromBech32(t).data}}),h.prop(a,"output",()=>{if(a.hash)return c.compile([d.OP_0,a.hash])}),h.prop(a,"pubkey",()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0),h.prop(a,"signature",()=>{if(e.witness)return e.witness[0]}),h.prop(a,"input",()=>{if(a.witness)return g}),h.prop(a,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),h.prop(a,"blindkey",()=>e.confidentialAddress?o().blindingKey:e.blindkey?e.blindkey:void 0),h.prop(a,"confidentialAddress",()=>{if(!a.address||!a.blindkey||!a.network)return;let e=s.fromBech32(a.address),t=i.concat([i.from([e.version,e.data.length]),e.data]);if(0===e.version)return s.toBlech32(t,a.blindkey,a.network.blech32,0)}),t.validate){let b=i.from([]),y=i.from([]);if(e.address){if(r&&r.bech32!==n().prefix)throw TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw TypeError("Invalid address version");if(20!==n().data.length)throw TypeError("Invalid address data");b=n().data}if(e.hash){if(b.length>0&&!b.equals(e.hash))throw TypeError("Hash mismatch");b=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==d.OP_0||20!==e.output[1])throw TypeError("Output is invalid");if(b.length>0&&!b.equals(e.output.slice(2)))throw TypeError("Hash mismatch");b=e.output.slice(2)}if(e.pubkey){let m=u.hash160(e.pubkey);if(b.length>0&&!b.equals(m))throw TypeError("Hash mismatch");if(b=m,!(0,f.isPoint)(e.pubkey)||33!==e.pubkey.length)throw TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw TypeError("Witness is invalid");if(!c.isCanonicalScriptSignature(e.witness[0]))throw TypeError("Witness has invalid signature");if(!(0,f.isPoint)(e.witness[1])||33!==e.witness[1].length)throw TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw TypeError("Pubkey mismatch");let v=u.hash160(e.witness[1]);if(b.length>0&&!b.equals(v))throw TypeError("Hash mismatch")}if(e.confidentialAddress){if(e.address&&e.address!==o().unconfidentialAddress)throw TypeError("Address mismatch");if(y.length>0&&!y.equals(o().blindingKey))throw TypeError("Blindkey mismatch");y=o().blindingKey}if(e.blindkey){if(!(0,f.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(y.length>0&&!y.equals(e.blindkey))throw TypeError("Blindkey mismatch");y=e.blindkey}}return Object.assign(a,e)}t.p2wpkh=b},18820:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;let s=a(r(93169)),u=a(r(66438)),l=r(76272),c=a(r(14627)),f=r(63145),h=a(r(35838)),p=r(27715),d=c.OPS,g=i.alloc(0);function b(e,t){return e.length===t.length&&e.every((e,r)=>e.equals(t[r]))}function y(e){return!!(i.isBuffer(e)&&65===e.length&&4===e[0]&&(0,f.isPoint)(e))}function m(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness&&!e.confidentialAddress)throw TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,f.typeforce)({network:f.typeforce.maybe(f.typeforce.Object),address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(32)),output:f.typeforce.maybe(f.typeforce.BufferN(34)),redeem:f.typeforce.maybe({input:f.typeforce.maybe(f.typeforce.Buffer),network:f.typeforce.maybe(f.typeforce.Object),output:f.typeforce.maybe(f.typeforce.Buffer),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))}),input:f.typeforce.maybe(f.typeforce.BufferN(0)),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer)),blindkey:f.typeforce.maybe(f.isPoint),confidentialAddress:f.typeforce.maybe(f.typeforce.String)},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||l.liquid);let n=h.value(()=>{let t=p.bech32.decode(e.address),r=t.words.shift(),n=p.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:i.from(n)}}),o=h.value(()=>c.decompile(e.redeem.input)),a=h.value(()=>{let t=s.fromBlech32(e.confidentialAddress);return{blindingKey:t.pubkey,unconfidentialAddress:s.toBech32(t.data.slice(2),t.version,r.bech32)}}),m={network:r};if(h.prop(m,"address",()=>{if(!m.hash)return;let e=p.bech32.toWords(m.hash);return e.unshift(0),p.bech32.encode(r.bech32,e)}),h.prop(m,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return n().data;if(m.redeem&&m.redeem.output)return u.sha256(m.redeem.output);if(e.confidentialAddress){let t=a().unconfidentialAddress;return s.fromBech32(t).data}}),h.prop(m,"output",()=>{if(m.hash)return c.compile([d.OP_0,m.hash])}),h.prop(m,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:g,witness:e.witness.slice(0,-1)}}),h.prop(m,"input",()=>{if(m.witness)return g}),h.prop(m,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){let t=c.toStack(o());return m.redeem=Object.assign({witness:t},e.redeem),m.redeem.input=g,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),h.prop(m,"name",()=>{let e=["p2wsh"];return void 0!==m.redeem&&void 0!==m.redeem.name&&e.push(m.redeem.name),e.join("-")}),h.prop(m,"blindkey",()=>e.confidentialAddress?a().blindingKey:e.blindkey?e.blindkey:void 0),h.prop(m,"confidentialAddress",()=>{if(!m.address||!m.blindkey)return;let e=s.fromBech32(m.address),t=i.concat([i.from([e.version,e.data.length]),e.data]);return s.toBlech32(t,m.blindkey,m.network.blech32,0)}),t.validate){let v=i.from([]),w=i.from([]);if(e.address){if(n().prefix!==r.bech32)throw TypeError("Invalid prefix or Network mismatch");if(0!==n().version)throw TypeError("Invalid address version");if(32!==n().data.length)throw TypeError("Invalid address data");v=n().data}if(e.hash){if(v.length>0&&!v.equals(e.hash))throw TypeError("Hash mismatch");v=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==d.OP_0||32!==e.output[1])throw TypeError("Output is invalid");let E=e.output.slice(2);if(v.length>0&&!v.equals(E))throw TypeError("Hash mismatch");v=E}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw TypeError("Ambiguous witness source");if(e.redeem.output){if(0===c.decompile(e.redeem.output).length)throw TypeError("Redeem.output is invalid");let _=u.sha256(e.redeem.output);if(v.length>0&&!v.equals(_))throw TypeError("Hash mismatch");v=_}if(e.redeem.input&&!c.isPushOnly(o()))throw TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!b(e.witness,e.redeem.witness))throw TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&o().some(y)||e.redeem.output&&(c.decompile(e.redeem.output)||[]).some(y))throw TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){let S=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(S))throw TypeError("Witness and redeem.output mismatch");if(e.witness.some(y)||(c.decompile(S)||[]).some(y))throw TypeError("Witness contains uncompressed pubkey")}if(e.confidentialAddress){if(e.address&&e.address!==a().unconfidentialAddress)throw TypeError("Address mismatch");if(w.length>0&&!w.equals(a().blindingKey))throw TypeError("Blindkey mismatch");w=a().blindingKey}if(e.blindkey){if(!(0,f.isPoint)(e.blindkey))throw TypeError("Blindkey is invalid");if(w.length>0&&!w.equals(e.blindkey))throw TypeError("Blindkey mismatch");w=e.blindkey}}return Object.assign(m,e)}t.p2wsh=m},63301:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e){if(e.length%4!=0||e.length/4-1<1)throw Error("invalid BIP32 derivation format");let t=e.slice(0,4),r=[];for(let i=4;i<e.length;i+=4)r.push(e.slice(i,i+4).readUInt32LE());let n=a(r);return{masterFingerprint:t,path:n}}function o(e,r){let n=r.split("/"),o=i.allocUnsafe(4+4*n.length);e.copy(o,0);let a=4;return n.forEach(e=>{let r="'"===e.slice(-1),i=2147483647&parseInt(r?e.slice(0,-1):e,10);r&&(i+=t.hardenedKeyStart),o.writeUInt32LE(i,a),a+=4}),o}function a(e){let t=e.map(e=>s(e));return t.join("/")}function s(e){return e<t.hardenedKeyStart?e.toString():(e-=t.hardenedKeyStart).toString()+"'"}Object.defineProperty(t,"__esModule",{value:!0}),t.encodeBIP32Derivation=t.decodeBip32Derivation=t.hardenedKeyStart=void 0,t.hardenedKeyStart=2147483648,t.decodeBip32Derivation=n,t.encodeBIP32Derivation=o},62646:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.findTapLeafToFinalize=t.sortSignatures=t.serializeTaprootSignature=t.toXOnly=void 0;let n=r(3803),o=r(93592),a=e=>{switch(e.length){case 32:return e;case 33:return i.from(e.slice(1));default:throw Error("Invalid pubkey length")}};function s(e,t){let r=t?i.from([t]):i.from([]);return i.concat([e,r])}function u(e,t){let r=(0,n.tapLeafHash)({scriptHex:t.script.toString("hex"),version:t.leafVersion});return(e.tapScriptSig||[]).filter(e=>e.leafHash.equals(r)).map(e=>l(t.script,e)).sort((e,t)=>t.positionInScript-e.positionInScript).map(e=>e.signature)}function l(e,t){return Object.assign({positionInScript:(0,o.pubkeyPositionInScript)(t.pubkey,e)},t)}function c(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);let i=(e.tapLeafScript||[]).sort((e,t)=>e.controlBlock.length-t.controlBlock.length).find(t=>f(t,e.tapScriptSig,r));if(!i)throw Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return i}function f(e,t,r){let i=(0,n.tapLeafHash)({scriptHex:e.script.toString("hex"),version:e.leafVersion}),o=!r||r.equals(i);return o&&void 0!==t.find(e=>e.leafHash.equals(i))}t.toXOnly=a,t.serializeTaprootSignature=s,t.sortSignatures=u,t.findTapLeafToFinalize=c},39776:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Blinder=void 0;let n=r(76235);class o{constructor(e,t,r,i){if(0===t.length)throw Error("Missing owned inputs");e.sanityCheck(),this.pset=e,this.ownedInputs=t,this.blindingValidator=r,this.blindingGenerator=i}blindNonLast(e){this.blind(e,!1)}blindLast(e){this.blind(e,!0)}blind(e,t){if(this.pset.isFullyBlinded())return;let{issuanceBlindingArgs:r,outputBlindingArgs:n}=e;if(0===n.length)throw Error("missing outputs blinding args");r&&r.length>0&&r.forEach(e=>this.validateIssuanceBlindingArgs(e));let o=n.sort((e,t)=>e.index-t.index);o.forEach((e,r)=>{let i=t&&r===o.length-1;this.validateOutputBlindingArgs(e,i)}),this.validateBlindingData(t,n,r);let a=this.calculateInputScalar(r),s=this.calculateOutputScalar(o),u=this.pset.copy();r&&r.forEach(({index:e,issuanceValueCommitment:t,issuanceValueRangeProof:r,issuanceValueBlindProof:i,issuanceTokenCommitment:n,issuanceTokenRangeProof:o,issuanceTokenBlindProof:a})=>{u.inputs[e].issuanceValueCommitment=t,u.inputs[e].issuanceValueRangeproof=r,u.inputs[e].issuanceBlindValueProof=i,u.inputs[e].issuanceInflationKeysCommitment=n,u.inputs[e].issuanceInflationKeysRangeproof=o,u.inputs[e].issuanceBlindInflationKeysProof=a});for(let l=0;l<o.length;l++){let{index:c,assetBlinder:f,assetCommitment:h,assetSurjectionProof:p,assetBlindProof:d,valueBlinder:g,nonceCommitment:b,nonce:y}=o[l],{valueCommitment:m,valueRangeProof:v,valueBlindProof:w}=o[l],E=u.outputs[c],_=E.value.toString(10);if(t&&l===o.length-1){let S=this.calculateLastValueBlinder(g,s,a);m=this.blindingGenerator.lastValueCommitment(_,h,S),v=this.blindingGenerator.lastValueRangeProof(_,E.asset,m,S,f,E.script||i.alloc(0),y),w=this.blindingGenerator.lastBlindValueProof(_,m,h,S)}u.outputs[c].valueCommitment=m,u.outputs[c].valueRangeproof=v,u.outputs[c].blindValueProof=w,u.outputs[c].assetCommitment=h,u.outputs[c].assetSurjectionProof=p,u.outputs[c].blindAssetProof=d,u.outputs[c].ecdhPubkey=b,u.outputs[c].blinderIndex=void 0}t?u.globals.scalars=void 0:(u.globals.scalars||(u.globals.scalars=[]),u.globals.scalars.push(s)),u.sanityCheck(),this.pset.globals=u.globals,this.pset.inputs=u.inputs,this.pset.outputs=u.outputs}calculateInputScalar(e){let t=i.from(n.ZERO);for(let r of this.ownedInputs){t=this.blindingGenerator.computeAndAddToScalarOffset(t,r.value,r.assetBlindingFactor,r.valueBlindingFactor);let o=this.pset.inputs[r.index];if(o.hasIssuance()||o.hasReissuance()){let a=e&&e.find(({index:e})=>e===r.index);if(a){let s=a.issuanceValueBlinder&&a.issuanceValueBlinder.length>0?a.issuanceValueBlinder:n.ZERO;if(t=this.blindingGenerator.computeAndAddToScalarOffset(t,o.issuanceValue?o.issuanceValue.toString(10):"0",n.ZERO,s),o.issuanceInflationKeys>0){let u=a.issuanceTokenBlinder&&a.issuanceTokenBlinder.length>0?a.issuanceTokenBlinder:n.ZERO;t=this.blindingGenerator.computeAndAddToScalarOffset(t,o.issuanceInflationKeys.toString(10),n.ZERO,u)}}}}return t}calculateOutputScalar(e){let t=i.from(n.ZERO);for(let r of e){let o=this.pset.outputs[r.index];t=this.blindingGenerator.computeAndAddToScalarOffset(t,o.value.toString(10),r.assetBlinder,r.valueBlinder)}return t}calculateLastValueBlinder(e,t,r){let i=this.blindingGenerator.subtractScalars(t,r),n=this.blindingGenerator.subtractScalars(e,i);if(this.pset.globals.scalars)for(let o of this.pset.globals.scalars)n=this.blindingGenerator.subtractScalars(n,o);return n}validateIssuanceBlindingArgs(e){let{index:t,issuanceAsset:r,issuanceToken:i,issuanceValueCommitment:n,issuanceTokenCommitment:o,issuanceValueRangeProof:a,issuanceTokenRangeProof:s,issuanceValueBlindProof:u,issuanceTokenBlindProof:l,issuanceValueBlinder:c,issuanceTokenBlinder:f}=e;if(t<0||t>=this.pset.globals.inputCount)throw Error("Input index out of range");let h=this.pset.inputs[t];if(!h.hasIssuance()&&!h.hasReissuance())throw Error("Missing issuance on target input");if(0===r.length)throw Error("Missing issuance asset");if(32!==r.length)throw Error("Invalid issuance asset length");if(0===n.length)throw Error("Missing issuance value commitment");if(33!==n.length)throw Error("Invalid issuance value commitment length");if(0===c.length)throw Error("Missing issuance value blinder");if(32!==c.length)throw Error("Invalid issuance value blinder length");if(0===a.length)throw Error("Missing issuance value range proof");if(0===u.length)throw Error("Missing issuance blind value proof");if(h.issuanceInflationKeys>0){if(0===i.length)throw Error("Missing issuance token");if(32!==i.length)throw Error("Invalid issuance token length");if(0===o.length)throw Error("Missing issuance token commitment");if(33!==o.length)throw Error("Invalid issuance token commitment length");if(0===f.length)throw Error("Missing issuance token blinder");if(32!==f.length)throw Error("Invalid issuance token blinder length");if(0===s.length)throw Error("Missing issuance token range proof");if(0===l.length)throw Error("Missing issuance blind token value proof")}}async validateOutputBlindingArgs(e,t){let{index:r,nonce:i,nonceCommitment:n,valueCommitment:o,assetCommitment:a,valueRangeProof:s,assetSurjectionProof:u,valueBlindProof:l,assetBlindProof:c,valueBlinder:f,assetBlinder:h}=e;if(r<0||r>=this.pset.globals.outputCount)throw Error("Output index out of range");let p=this.pset.outputs[r];if(!p.needsBlinding())throw Error("Target output does not need blinding (does not have a blinding pubkey set)");if(!this.ownOutput(p.blinderIndex))throw Error("Output is not owned by this blinder");if(0===i.length)throw Error("Missing nonce");if(32!==i.length)throw Error("Invalid nonce length");if(0===n.length)throw Error("Missing nonce commitment");if(33!==n.length)throw Error("Invalid nonce commitment length");if(0===f.length)throw Error("Missing value blinder");if(32!==f.length)throw Error("Invalid value blinder length");if(0===h.length)throw Error("Missing asset blinder");if(32!==h.length)throw Error("Invalid asset blinder length");if(0===a.length)throw Error("Missing asset commitment");if(33!==a.length)throw Error("Invalid asset commitment length");if(0===u.length)throw Error("Missing asset surjection proof");if(0===c.length)throw Error("Missing blind asset proof");if(!t){if(0===o.length)throw Error("Missing value commitment");if(33!==o.length)throw Error("Invalid value commitment length");if(0===s.length)throw Error("Missing value range proof");if(0===l.length)throw Error("Missing blind value proof")}}ownOutput(e){return void 0!==this.ownedInputs.find(({index:t})=>t===e)}validateBlindingData(e,t,r){let i=this.pset.inputs.map((e,t)=>{let r=this.ownedInputs.find(({index:e})=>e===t);return r?{asset:r.asset,assetBlinder:r.assetBlindingFactor}:{asset:e.getUtxo().asset,assetBlinder:n.ZERO}});this.pset.inputs.forEach((e,t)=>{if((e.hasIssuance()||e.hasReissuance())&&(i.push({asset:e.getIssuanceAssetHash(),assetBlinder:n.ZERO}),e.issuanceInflationKeys>0)){let o=r&&void 0!==r.find(({index:e})=>e===t);i.push({asset:e.getIssuanceInflationKeysHash(o),assetBlinder:n.ZERO})}});let o=i.map(e=>e.asset),a=i.map(e=>e.assetBlinder);for(let s=0;s<t.length;s++){let{index:u,assetBlinder:l,assetCommitment:c,assetSurjectionProof:f,assetBlindProof:h,valueCommitment:p,valueRangeProof:d,valueBlindProof:g}=t[s],b=this.pset.outputs[u],y=e&&s===t.length-1;if(!this.blindingValidator.verifyAssetSurjectionProof(o,a,b.asset,l,f))throw Error("Invalid output asset surjection proof");if(!this.blindingValidator.verifyBlindAssetProof(b.asset,c,h))throw Error("Invalid output asset blind proof");if(!y){if(!this.blindingValidator.verifyValueRangeProof(p,c,d,b.script))throw Error("Invalid output value range proof");if(!this.blindingValidator.verifyBlindValueProof(p,c,g))throw Error("Invalid output value blind proof")}}}}t.Blinder=o},84577:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Creator=t.CreatorOutput=t.CreatorInput=void 0;let o=r(50394),a=r(40116),s=r(57868),u=r(8938),l=r(39831),c=r(51623),f=r(76235),h=n(r(53288));class p{constructor(e,t,r,i,n){this.txid=e,this.txIndex=t,this.sequence=r||f.Transaction.DEFAULT_SEQUENCE,this.heightLocktime=i||0,this.timeLocktime=n||0}validate(){if(0===this.txid.length)throw Error("missing prevout txid");if(64!==this.txid.length)throw Error("invalid prevout txid length");if(this.txIndex<0)throw Error("missing prevout tx index")}toPartialInput(){let e=(0,l.reverseBuffer)(i.from(this.txid,"hex")),t=new s.PsetInput(e,this.txIndex,this.sequence);return t.requiredHeightLocktime=this.heightLocktime,t.requiredTimeLocktime=this.timeLocktime,t}}t.CreatorInput=p;class d{constructor(e,t,r,i,n){this.asset=e,this.amount=t,this.script=r,this.blindingPublicKey=i,this.blinderIndex=n}validate(){if(0===this.asset.length)throw Error("missing asset");if(32!==i.from(this.asset,"hex").length)throw Error("invalid asset length");if(this.blindingPublicKey&&(void 0===this.blinderIndex||this.blinderIndex<0))throw Error("missing blinder index for confidential output")}toPartialOutput(){let e=c.AssetHash.fromHex(this.asset),t=new u.PsetOutput(this.amount,e.bytesWithoutPrefix,this.script||i.of());return this.blindingPublicKey&&(t.blinderIndex=this.blinderIndex,t.blindingPubkey=this.blindingPublicKey),t}}t.CreatorOutput=d;class g{static newPset(e){let t=e?e.locktime:void 0,r=new h.default(0);r.set(0),r.set(1);let i=new o.PsetGlobal(2,0,0,2,t);i.txModifiable=r,i.xpubs=[],i.scalars=[],i.proprietaryData=[],i.unknowns=[];let n=new a.Pset(i);return e&&e.inputs&&e.inputs.forEach(e=>{e.validate(),n.addInput(e.toPartialInput())}),e&&e.outputs&&e.outputs.forEach(e=>{e.validate(),n.addOutput(e.toPartialOutput())}),n}}t.Creator=g},1497:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Extractor=void 0;let n=r(51623),o=r(76235),a=r(79746),s=r(93592);class u{static extract(e){if(e.sanityCheck(),!e.isComplete())throw Error("Pset must be completed to extract final raw transaction");let t=new o.Transaction;return t.version=e.globals.txVersion,t.locktime=e.locktime(),e.inputs.forEach(e=>{t.addInput(e.previousTxid,e.previousTxIndex,e.sequence);let r=t.ins.length-1;if(e.hasIssuance()||e.hasReissuance()){let n=e.issuanceValueCommitment&&e.issuanceValueCommitment.length>0?e.issuanceValueCommitment:e.issuanceValue>0?a.ElementsValue.fromNumber(e.issuanceValue).bytes:i.of(0),o=e.issuanceInflationKeysCommitment&&e.issuanceInflationKeysCommitment.length>0?e.issuanceInflationKeysCommitment:e.issuanceInflationKeys>0?a.ElementsValue.fromNumber(e.issuanceInflationKeys).bytes:i.of(0);t.ins[r].issuance={assetAmount:n,tokenAmount:o,assetEntropy:e.issuanceAssetEntropy,assetBlindingNonce:e.issuanceBlindingNonce},e.issuanceValueRangeproof&&e.issuanceValueRangeproof.length>0&&(t.ins[r].issuanceRangeProof=e.issuanceValueRangeproof),e.issuanceInflationKeysRangeproof&&e.issuanceInflationKeysRangeproof.length>0&&(t.ins[r].inflationRangeProof=e.issuanceInflationKeysRangeproof)}t.ins[r].isPegin=e.peginWitness&&e.peginWitness.length>0,t.ins[r].isPegin&&(t.ins[r].peginWitness=e.peginWitness),e.finalScriptSig&&e.finalScriptSig.length>0&&(t.ins[r].script=e.finalScriptSig),e.finalScriptWitness&&e.finalScriptWitness.length>0&&(t.ins[r].witness=(0,s.scriptWitnessToWitnessStack)(e.finalScriptWitness))}),e.outputs.forEach(e=>{let r=e.script||i.from([]),o=e.valueCommitment&&e.valueCommitment.length>0?e.valueCommitment:a.ElementsValue.fromNumber(e.value).bytes,s=e.assetCommitment&&e.assetCommitment.length>0?e.assetCommitment:n.AssetHash.fromBytes(e.asset).bytes,u=e.ecdhPubkey&&e.ecdhPubkey.length>0?e.ecdhPubkey:i.of(0);t.addOutput(r,o,s,u,e.valueRangeproof,e.assetSurjectionProof)}),t}}t.Extractor=u},47199:function(e,t){"use strict";var r,i,n,o,a,s,u,l,c,f,h,p;Object.defineProperty(t,"__esModule",{value:!0}),t.OutputProprietaryTypes=t.OutputTypes=t.InputProprietaryTypes=t.InputTypes=t.GLOBAL_PROPRIETARY_TYPE_NAMES=t.GlobalProprietaryTypes=t.GlobalTypes=t.separator=void 0,t.separator=0,(u=r=t.GlobalTypes||(t.GlobalTypes={}))[u.XPUB=1]="XPUB",u[u.TX_VERSION=2]="TX_VERSION",u[u.FALLBACK_LOCKTIME=3]="FALLBACK_LOCKTIME",u[u.INPUT_COUNT=4]="INPUT_COUNT",u[u.OUTPUT_COUNT=5]="OUTPUT_COUNT",u[u.TX_MODIFIABLE=6]="TX_MODIFIABLE",u[u.SIGHASH_SINGLE_INPUTS=7]="SIGHASH_SINGLE_INPUTS",u[u.VERSION=251]="VERSION",u[u.PROPRIETARY=252]="PROPRIETARY",(l=i=t.GlobalProprietaryTypes||(t.GlobalProprietaryTypes={}))[l.SCALAR=0]="SCALAR",l[l.TX_MODIFIABLE=1]="TX_MODIFIABLE",t.GLOBAL_PROPRIETARY_TYPE_NAMES=["scalar","txModifiable"],(c=n=t.InputTypes||(t.InputTypes={}))[c.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",c[c.WITNESS_UTXO=1]="WITNESS_UTXO",c[c.PARTIAL_SIG=2]="PARTIAL_SIG",c[c.SIGHASH_TYPE=3]="SIGHASH_TYPE",c[c.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",c[c.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",c[c.BIP32_DERIVATION=6]="BIP32_DERIVATION",c[c.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",c[c.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",c[c.POR_COMMITMENT=9]="POR_COMMITMENT",c[c.RIPEMD_160=10]="RIPEMD_160",c[c.SHA_256=11]="SHA_256",c[c.HASH_160=12]="HASH_160",c[c.HASH_256=13]="HASH_256",c[c.PREVIOUS_TXID=14]="PREVIOUS_TXID",c[c.PREVIOUS_TXINDEX=15]="PREVIOUS_TXINDEX",c[c.SEQUENCE=16]="SEQUENCE",c[c.REQUIRED_TIME_LOCKTIME=17]="REQUIRED_TIME_LOCKTIME",c[c.REQUIRED_HEIGHT_LOCKTIME=18]="REQUIRED_HEIGHT_LOCKTIME",c[c.TAP_KEY_SIG=19]="TAP_KEY_SIG",c[c.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",c[c.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",c[c.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",c[c.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",c[c.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",c[c.PROPRIETARY=252]="PROPRIETARY",(f=o=t.InputProprietaryTypes||(t.InputProprietaryTypes={}))[f.ISSUANCE_VALUE=0]="ISSUANCE_VALUE",f[f.ISSUANCE_VALUE_COMMITMENT=1]="ISSUANCE_VALUE_COMMITMENT",f[f.ISSUANCE_VALUE_RANGEPROOF=2]="ISSUANCE_VALUE_RANGEPROOF",f[f.ISSUANCE_INFLATION_KEYS_RANGEPROOF=3]="ISSUANCE_INFLATION_KEYS_RANGEPROOF",f[f.PEGIN_TX=4]="PEGIN_TX",f[f.PEGIN_TXOUT_PROOF=5]="PEGIN_TXOUT_PROOF",f[f.PEGIN_GENESIS_HASH=6]="PEGIN_GENESIS_HASH",f[f.PEGIN_CLAIM_SCRIPT=7]="PEGIN_CLAIM_SCRIPT",f[f.PEGIN_VALUE=8]="PEGIN_VALUE",f[f.PEGIN_WITNESS=9]="PEGIN_WITNESS",f[f.ISSUANCE_INFLATION_KEYS=10]="ISSUANCE_INFLATION_KEYS",f[f.ISSUANCE_INFLATION_KEYS_COMMITMENT=11]="ISSUANCE_INFLATION_KEYS_COMMITMENT",f[f.ISSUANCE_BLINDING_NONCE=12]="ISSUANCE_BLINDING_NONCE",f[f.ISSUANCE_ASSET_ENTROPY=13]="ISSUANCE_ASSET_ENTROPY",f[f.UTXO_RANGEPROOF=14]="UTXO_RANGEPROOF",f[f.ISSUANCE_BLIND_VALUE_PROOF=15]="ISSUANCE_BLIND_VALUE_PROOF",f[f.ISSUANCE_BLIND_INFLATION_KEYS_PROOF=16]="ISSUANCE_BLIND_INFLATION_KEYS_PROOF",(h=a=t.OutputTypes||(t.OutputTypes={}))[h.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",h[h.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",h[h.BIP32_DERIVATION=2]="BIP32_DERIVATION",h[h.AMOUNT=3]="AMOUNT",h[h.SCRIPT=4]="SCRIPT",h[h.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",h[h.TAP_TREE=6]="TAP_TREE",h[h.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",h[h.PROPRIETARY=252]="PROPRIETARY",(p=s=t.OutputProprietaryTypes||(t.OutputProprietaryTypes={}))[p.VALUE_COMMITMENT=1]="VALUE_COMMITMENT",p[p.ASSET=2]="ASSET",p[p.ASSET_COMMITMENT=3]="ASSET_COMMITMENT",p[p.VALUE_RANGEPROOF=4]="VALUE_RANGEPROOF",p[p.ASSET_SURJECTION_PROOF=5]="ASSET_SURJECTION_PROOF",p[p.BLINDING_PUBKEY=6]="BLINDING_PUBKEY",p[p.ECDH_PUBKEY=7]="ECDH_PUBKEY",p[p.BLINDER_INDEX=8]="BLINDER_INDEX",p[p.BLIND_VALUE_PROOF=9]="BLIND_VALUE_PROOF",p[p.BLIND_ASSET_PROOF=10]="BLIND_ASSET_PROOF"},19587:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Finalizer=void 0;let i=r(84434),n=r(62646),o=r(93592);class a{constructor(e){e.sanityCheck(),this.pset=e}finalize(){let e=this.pset.copy();e.inputs.forEach((e,t)=>{this.finalizeInput(t)}),e.sanityCheck,this.pset.globals=e.globals,this.pset.inputs=e.inputs,this.pset.outputs=e.outputs}finalizeInput(e,t=u){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.inputs[e];if(r.isFinalized())return this;if(void 0===r.sighashType)throw Error("Missing input sighash type");if(!r.getUtxo())throw Error("Missing input (non-)witness utxo");let i=this.pset.copy(),{finalScriptSig:n,finalScriptWitness:o}=t(e,i);if(n&&(i.inputs[e].finalScriptSig=n),o&&(i.inputs[e].finalScriptWitness=o),!n&&!o&&!r.finalScriptWitness)throw Error(`Unknown error finalizing input #${e}`);return i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}}function s(e){let t={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};return t.isP2SH=!!e.redeemScript,t.isP2WSH=!!e.witnessScript,e.witnessScript?t.script=e.witnessScript:e.redeemScript?t.script=e.redeemScript:e.nonWitnessUtxo?t.script=e.nonWitnessUtxo.outs[e.previousTxIndex].script:e.witnessUtxo&&(t.script=e.witnessUtxo.script),(e.witnessScript||(0,o.isP2WPKH)(t.script))&&(t.isSegwit=!0),t}t.Finalizer=a;let u=(e,t)=>{let r=t.inputs[e];if((!r.partialSigs||0===r.partialSigs.length)&&(!r.tapKeySig||0===r.tapKeySig.length)&&(!r.tapScriptSig||0===r.tapScriptSig.length))throw Error(`Missing partial signatures for input at index ${e}. If the script does not have a CHECKSIG operation you must pass a custom finalizer function`);return r.isTaproot()?c(e,t):l(e,t)},l=(e,t)=>{let r=t.inputs[e],{script:i,isP2SH:n,isP2WSH:o,isSegwit:a}=s(r);if(!i)throw Error(`No script found for input #${e}`);return f(e,r,i,a,n,o)},c=(e,t)=>{let r=t.inputs[e];if(!r.witnessUtxo)throw Error(`Cannot finalize input #${e}. Missing withness utxo.`);return r.tapKeySig?{finalScriptWitness:(0,o.witnessStackToScriptWitness)([r.tapKeySig])}:d(e,r)};function f(e,t,r,i,n,a){let s=(0,o.classifyScript)(r);if(!p(t,r,s))throw Error(`Can not finalize input #${e}`);return h(r,s,t.partialSigs,i,n,a)}function h(e,t,r,n,a,s){let u,l;if("nonstandard"===t)return{finalScriptSig:void 0,finalScriptWitness:void 0};let c=(0,o.getPayment)(e,t,r),f=s?i.payments.p2wsh({redeem:c}):null,h=a?i.payments.p2sh({redeem:f||c}):null;return n?(l=f?(0,o.witnessStackToScriptWitness)(f.witness):(0,o.witnessStackToScriptWitness)(c.witness),h&&(u=h.input)):u=h?h.input:c.input,{finalScriptSig:u,finalScriptWitness:l}}function p(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return(0,o.hasSigs)(1,e.partialSigs);case"multisig":let n=i.payments.p2ms({output:t});return(0,o.hasSigs)(n.m,e.partialSigs,n.pubkeys);default:return!1}}function d(e,t,r){let i=(0,n.findTapLeafToFinalize)(t,e,r);try{let a=(0,n.sortSignatures)(t,i),s=a.concat(i.script).concat(i.controlBlock);return{finalScriptWitness:(0,o.witnessStackToScriptWitness)(s)}}catch(u){throw Error(`Can not finalize taproot input #${e}: ${u}`)}}},50394:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PsetGlobal=t.GlobalDuplicateFieldError=void 0;let o=r(47199),a=r(6516),s=r(79371),u=n(r(57795)),l=n(r(53288)),c=r(39831),f=r(40116),h=r(63301),p=78;class d extends Error{constructor(e){e&&(e="Duplicated global "+e),super(e)}}t.GlobalDuplicateFieldError=d;class g{constructor(e,t,r,i,n){this.txVersion=e||0,this.inputCount=t||0,this.outputCount=r||0,this.version=i||0,this.fallbackLocktime=n}static fromBuffer(e){let t;let r=new g;for(;;){try{t=a.KeyPair.fromBuffer(e)}catch(i){if(i instanceof Error&&i===a.ErrEmptyKey)return r.sanityCheck(),r;throw i}switch(t.key.keyType){case o.GlobalTypes.XPUB:if(t.key.keyData.length!==p+1&&![2,3].includes(t.key.keyData[46]))throw Error("Invalid xpub length");let n=t.key.keyData.slice(1),{masterFingerprint:c,path:b}=(0,h.decodeBip32Derivation)(t.value);r.xpubs||(r.xpubs=[]),r.xpubs.push({extendedKey:n,masterFingerprint:c,derivationPath:b});break;case o.GlobalTypes.TX_VERSION:if(r.txVersion>0)throw new d("tx version");if(4!==t.value.length)throw Error("Invalid global tx version length");r.txVersion=t.value.readUInt32LE();break;case o.GlobalTypes.FALLBACK_LOCKTIME:if(r.fallbackLocktime>0)throw new d("fallback locktime");if(4!==t.value.length)throw Error("Invalid global fallback locktime length");r.fallbackLocktime=t.value.readUInt32LE();break;case o.GlobalTypes.INPUT_COUNT:if(r.inputCount>0)throw new d("input count");r.inputCount=u.default.decode(t.value);break;case o.GlobalTypes.OUTPUT_COUNT:if(r.outputCount>0)throw new d("output count");r.outputCount=u.default.decode(t.value);break;case o.GlobalTypes.TX_MODIFIABLE:if(r.txModifiable)throw new d("tx modifiable");if(1!==t.value.length)throw Error("Invalid global tx modifiable length");r.txModifiable=new l.default(t.value[0]);break;case o.GlobalTypes.VERSION:if(r.version>0)throw new d("version");if(4!==t.value.length)throw Error("Invalid global version length");r.version=t.value.readUInt32LE();break;case o.GlobalTypes.PROPRIETARY:let y=s.ProprietaryData.fromKeyPair(t);if(0===f.magicPrefix.compare(y.identifier))switch(y.subType){case o.GlobalProprietaryTypes.SCALAR:if(32!==y.keyData.length)throw Error("Invalid global scalar length");r.scalars||(r.scalars=[]),r.scalars.push(y.keyData);break;case o.GlobalProprietaryTypes.TX_MODIFIABLE:if(r.modifiable)throw new d("pset modifiable");if(1!==t.value.length)throw Error("Invalid global pset modifiable length");r.modifiable=new l.default(t.value[0]);break;default:r.proprietaryData||(r.proprietaryData=[]),r.proprietaryData.push(y)}break;default:r.unknowns||(r.unknowns=[]),r.unknowns.push(t)}}}sanityCheck(){if(this.txVersion<2)throw Error("Global tx version must be at least 2");if(2!==this.txVersion)throw Error("Global version must be exactly 2");if(this.txModifiable&&parseInt(this.txModifiable.toString(),2)>7)throw Error("Invalid global tx modifiable value");if(this.modifiable&&0!==parseInt(this.modifiable.toString(),2))throw Error("Invalid global pset modifiable value");if(this.xpubs&&this.xpubs.some((e,t)=>{if(t===this.xpubs.length-1)return!1;let r=this.xpubs.slice(t+1);return r.some(t=>0===e.extendedKey.compare(t.extendedKey))}))throw new d("xpub");if(this.scalars&&this.scalars.some((e,t)=>{if(t===this.scalars.length-1)return!1;let r=this.scalars.slice(t+1);return r.some(t=>0===e.compare(t))}))throw new d("scalar");return this}toBuffer(){let e=this.getKeyPairs(),t=e.map(e=>e.toBuffer()),r=0;t.forEach(e=>{r+=e.length});let i=c.BufferWriter.withCapacity(r);return t.forEach(e=>i.writeSlice(e)),i.buffer}getKeyPairs(){let e=[];this.xpubs&&this.xpubs.length>0&&this.xpubs.forEach(({extendedKey:t,masterFingerprint:r,derivationPath:n})=>{let s=i.concat([i.of(t.length),t]),u=new a.Key(o.GlobalTypes.XPUB,s),l=(0,h.encodeBIP32Derivation)(r,n);e.push(new a.KeyPair(u,l))});let t=i.allocUnsafe(4);t.writeUInt32LE(this.txVersion,0);let r=new a.Key(o.GlobalTypes.TX_VERSION);if(e.push(new a.KeyPair(r,t)),void 0!==this.fallbackLocktime){let n=i.allocUnsafe(4);n.writeUInt32LE(this.fallbackLocktime,0);let l=new a.Key(o.GlobalTypes.FALLBACK_LOCKTIME);e.push(new a.KeyPair(l,n))}let c=i.allocUnsafe(u.default.encodingLength(this.inputCount));u.default.encode(this.inputCount,c,0);let f=new a.Key(o.GlobalTypes.INPUT_COUNT);e.push(new a.KeyPair(f,c));let p=i.allocUnsafe(u.default.encodingLength(this.outputCount));u.default.encode(this.outputCount,p,0);let d=new a.Key(o.GlobalTypes.OUTPUT_COUNT);if(e.push(new a.KeyPair(d,p)),this.txModifiable){let g=i.allocUnsafe(1);g.writeUInt8(Number(this.txModifiable.toString(10)),0);let b=new a.Key(o.GlobalTypes.TX_MODIFIABLE);e.push(new a.KeyPair(b,g))}if(this.scalars&&this.scalars.length>0&&this.scalars.forEach(t=>{let r=s.ProprietaryData.proprietaryKey(o.GlobalProprietaryTypes.SCALAR,t),i=new a.Key(o.GlobalTypes.PROPRIETARY,r);e.push(new a.KeyPair(i))}),this.modifiable&&parseInt(this.modifiable.toString(),2)>0){let y=i.allocUnsafe(1);y.writeUInt8(Number(this.modifiable.toString(2)),0);let m=s.ProprietaryData.proprietaryKey(o.GlobalProprietaryTypes.TX_MODIFIABLE),v=new a.Key(o.GlobalTypes.PROPRIETARY,m);e.push(new a.KeyPair(v,y))}let w=i.allocUnsafe(4);w.writeUInt32LE(this.version,0);let E=new a.Key(o.GlobalTypes.VERSION);return e.push(new a.KeyPair(E,w)),this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach(t=>{let r=s.ProprietaryData.proprietaryKey(t.subType,t.keyData),i=new a.Key(o.GlobalTypes.PROPRIETARY,r);e.push(new a.KeyPair(i,t.value))}),e.concat(this.unknowns||[]),e}}t.PsetGlobal=g},87409:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classifyScript=t.scriptWitnessToWitnessStack=t.witnessStackToScriptWitness=t.ZKPValidator=t.ZKPGenerator=t.Updater=t.Signer=t.PsetOutput=t.PsetInput=t.PsetGlobal=t.Pset=t.CreatorOutput=t.CreatorInput=t.Finalizer=t.Extractor=t.Creator=t.Blinder=void 0;let i=r(50394);Object.defineProperty(t,"PsetGlobal",{enumerable:!0,get:function(){return i.PsetGlobal}});let n=r(57868);Object.defineProperty(t,"PsetInput",{enumerable:!0,get:function(){return n.PsetInput}});let o=r(8938);Object.defineProperty(t,"PsetOutput",{enumerable:!0,get:function(){return o.PsetOutput}});let a=r(40116);Object.defineProperty(t,"Pset",{enumerable:!0,get:function(){return a.Pset}});let s=r(84577);Object.defineProperty(t,"Creator",{enumerable:!0,get:function(){return s.Creator}}),Object.defineProperty(t,"CreatorInput",{enumerable:!0,get:function(){return s.CreatorInput}}),Object.defineProperty(t,"CreatorOutput",{enumerable:!0,get:function(){return s.CreatorOutput}});let u=r(13039);Object.defineProperty(t,"Updater",{enumerable:!0,get:function(){return u.Updater}});let l=r(39776);Object.defineProperty(t,"Blinder",{enumerable:!0,get:function(){return l.Blinder}});let c=r(29921);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return c.Signer}});let f=r(19587);Object.defineProperty(t,"Finalizer",{enumerable:!0,get:function(){return f.Finalizer}});let h=r(1497);Object.defineProperty(t,"Extractor",{enumerable:!0,get:function(){return h.Extractor}});let p=r(93592);Object.defineProperty(t,"witnessStackToScriptWitness",{enumerable:!0,get:function(){return p.witnessStackToScriptWitness}}),Object.defineProperty(t,"scriptWitnessToWitnessStack",{enumerable:!0,get:function(){return p.scriptWitnessToWitnessStack}}),Object.defineProperty(t,"classifyScript",{enumerable:!0,get:function(){return p.classifyScript}});let d=r(70181);Object.defineProperty(t,"ZKPGenerator",{enumerable:!0,get:function(){return d.ZKPGenerator}}),Object.defineProperty(t,"ZKPValidator",{enumerable:!0,get:function(){return d.ZKPValidator}})},57868:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PsetInput=t.InputDuplicateFieldError=void 0;let s=r(17656),u=r(39831),l=r(63590),c=r(76235),f=r(63301),h=r(47199),p=r(6516),d=r(79371),g=r(40116),b=a(r(14627)),y=r(93592);class m extends Error{constructor(e){e&&(e="Duplicated input "+e),super(e)}}t.InputDuplicateFieldError=m;class v{constructor(e,t,r){this.previousTxid=e||i.from([]),this.previousTxIndex=t||0,this.sequence=r}static fromBuffer(e){let t;let r=new v;for(;;){try{t=p.KeyPair.fromBuffer(e)}catch(n){if(n instanceof Error&&n===p.ErrEmptyKey)return r.sanityCheck(),r;throw n}switch(t.key.keyType){case h.InputTypes.NON_WITNESS_UTXO:if(r.nonWitnessUtxo)throw new m("non-witness utxo");r.nonWitnessUtxo=c.Transaction.fromBuffer(t.value);break;case h.InputTypes.WITNESS_UTXO:if(r.witnessUtxo)throw new m("witness utxo");r.witnessUtxo=E(t.value);break;case h.InputTypes.PARTIAL_SIG:r.partialSigs||(r.partialSigs=[]);let o=t.key.keyData;if(33!==o.length)throw Error("Invalid partial sig's pubkey length");if(r.partialSigs.find(e=>e.pubkey.equals(o)))throw new m("partial sig");let a=t.value;b.signature.decode(a),r.partialSigs.push({pubkey:o,signature:a});break;case h.InputTypes.SIGHASH_TYPE:if(void 0!==r.sighashType)throw new m("sighash type");if(4!==t.value.length)throw Error("Invalid input sighash type length");r.sighashType=t.value.readUInt32LE();break;case h.InputTypes.REDEEM_SCRIPT:if(r.redeemScript&&r.redeemScript.length>0)throw new m("redeem script");r.redeemScript=t.value;break;case h.InputTypes.WITNESS_SCRIPT:if(r.witnessScript&&r.witnessScript.length>0)throw new m("witness script");r.witnessScript=t.value;break;case h.InputTypes.BIP32_DERIVATION:let l=t.key.keyData;if(33!==l.length)throw Error("Invalid input bip32 derivation pubkey length");if(r.bip32Derivation||(r.bip32Derivation=[]),r.bip32Derivation.find(e=>e.pubkey.equals(l)))throw new m("bip32 derivation");let{masterFingerprint:y,path:w}=(0,f.decodeBip32Derivation)(t.value);r.bip32Derivation.push({pubkey:l,masterFingerprint:y,path:w});break;case h.InputTypes.FINAL_SCRIPTSIG:if(r.finalScriptSig&&r.finalScriptSig.length>0)throw new m("final scriptsig");r.finalScriptSig=t.value;break;case h.InputTypes.FINAL_SCRIPTWITNESS:if(r.finalScriptWitness&&r.finalScriptWitness.length>0)throw new m("final script witness");r.finalScriptWitness=t.value;break;case h.InputTypes.RIPEMD_160:let _=t.key.keyData.toString("hex");if(20!==_.length)throw Error("Invalid length for key of ripemd160 preimages");r.ripemd160Preimages||(r.ripemd160Preimages={}),r.ripemd160Preimages[_]=t.value;break;case h.InputTypes.SHA_256:let S=t.key.keyData.toString("hex");if(32!==S.length)throw Error("Invalid length for key of sha256 preimages");r.sha256Preimages||(r.sha256Preimages={}),r.sha256Preimages[S]=t.value;break;case h.InputTypes.HASH_160:let I=t.key.keyData.toString("hex");if(20!==I.length)throw Error("Invalid length for key of hash160 preimages");r.hash160Preimages||(r.hash160Preimages={}),r.hash160Preimages[I]=t.value;break;case h.InputTypes.HASH_256:let P=t.key.keyData.toString("hex");if(32!==P.length)throw Error("Invalid length for key of hash256 preimages");r.hash256Preimages||(r.hash256Preimages={}),r.hash256Preimages[P]=t.value;break;case h.InputTypes.PREVIOUS_TXID:if(r.previousTxid&&r.previousTxid.length>0)throw new m("previous txid");if(32!==t.value.length)throw Error("Invalid input previous txid length");r.previousTxid=t.value;break;case h.InputTypes.PREVIOUS_TXINDEX:if(r.previousTxIndex>0)throw new m("previous txindex");if(4!==t.value.length)throw Error("Invalid input previous tx index length");r.previousTxIndex=t.value.readUInt32LE();break;case h.InputTypes.SEQUENCE:if(void 0!==r.sequence)throw new m("sequence");if(4!==t.value.length)throw Error("Invalid input sequence length");r.sequence=t.value.readUInt32LE();break;case h.InputTypes.REQUIRED_TIME_LOCKTIME:if(r.requiredTimeLocktime>0)throw new m("time locktime");if(4!==t.value.length)throw Error("Invalid input time-based locktime length");r.requiredTimeLocktime=t.value.readUInt32LE();break;case h.InputTypes.REQUIRED_HEIGHT_LOCKTIME:if(r.requiredHeightLocktime>0)throw new m("height locktime");if(4!==t.value.length)throw Error("Invalid input height-based locktime length");r.requiredHeightLocktime=t.value.readUInt32LE();break;case h.InputTypes.TAP_KEY_SIG:if(r.tapKeySig&&r.tapKeySig.length>0)throw new m("taproot keysig");if(64!==t.value.length&&65!==t.value.length)throw Error("Invalid input taproot key signature length");r.tapKeySig=t.value;break;case h.InputTypes.TAP_SCRIPT_SIG:if(r.tapScriptSig||(r.tapScriptSig=[]),64!==t.key.keyData.length)throw Error("Invalid input TAP_SCRIPT_SIG key data length");let k=t.key.keyData.slice(0,32),T=t.key.keyData.slice(32);if(r.tapScriptSig.find(e=>e.pubkey.equals(k)))throw new m("taproot scriptsig");if(64!==t.value.length&&65!==t.value.length)throw Error("Invalid input taproot key signature length");r.tapScriptSig.push({pubkey:k,leafHash:T,signature:t.value});break;case h.InputTypes.TAP_LEAF_SCRIPT:if(r.tapLeafScript||(r.tapLeafScript=[]),(t.key.keyData.length-1)%32!=0)throw Error("Invalid input TAP_LEAF_SCRIPT key data length");let O=t.key.keyData,A=t.value.slice(-1)[0];if((254&O[0])!==A)throw Error("Invalid input taproot leaf script version");r.tapLeafScript.push({controlBlock:O,leafVersion:A,script:t.value.slice(0,-1)});break;case h.InputTypes.TAP_BIP32_DERIVATION:let x=t.key.keyData;if(33!==x.length)throw Error("Invalid input bip32 derivation pubkey length");r.tapBip32Derivation||(r.tapBip32Derivation=[]);let N=t.key.keyData;if(r.tapBip32Derivation.find(e=>e.pubkey.equals(N)))throw new m("taproot bip32 derivation");let R=u.varuint.decode(t.value),B=u.varuint.encodingLength(R),C=(0,f.decodeBip32Derivation)(t.value.slice(B+32*R)),U=Array(R);for(let M=0,j=B;M<R;M++,j+=32)U[M]=t.value.slice(j,j+32);r.tapBip32Derivation.push({pubkey:N,masterFingerprint:C.masterFingerprint,path:C.path,leafHashes:U});break;case h.InputTypes.TAP_INTERNAL_KEY:if(r.tapInternalKey&&r.tapInternalKey.length>0)throw new m("taproot internal key");if(32!==t.value.length)throw Error("Invalid input taproot internal key length");r.tapInternalKey=t.value;break;case h.InputTypes.TAP_MERKLE_ROOT:if(r.tapMerkleRoot&&r.tapMerkleRoot.length>0)throw new m("taproot merkle root");if(32!==t.value.length)throw Error("Invalid input taproot merkle root length");r.tapMerkleRoot=t.value;break;case h.InputTypes.PROPRIETARY:let L=d.ProprietaryData.fromKeyPair(t);if(0===i.compare(L.identifier,g.magicPrefix))switch(L.subType){case h.InputProprietaryTypes.ISSUANCE_VALUE:if(r.issuanceValue>0)throw new m("issuance value");if(8!==t.value.length)throw Error("Invalid input issuance value length");r.issuanceValue=(0,u.readUInt64LE)(t.value,0);break;case h.InputProprietaryTypes.ISSUANCE_VALUE_COMMITMENT:if(r.issuanceValueCommitment&&r.issuanceValueCommitment.length>0)throw new m("issuance value commitment");if(33!==t.value.length)throw Error("Invalid input issuance value commitment length");r.issuanceValueCommitment=t.value;break;case h.InputProprietaryTypes.ISSUANCE_VALUE_RANGEPROOF:if(r.issuanceValueRangeproof&&r.issuanceValueRangeproof.length>0)throw new m("issuance value range proof");r.issuanceValueRangeproof=t.value;break;case h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_RANGEPROOF:if(r.issuanceInflationKeysRangeproof&&r.issuanceInflationKeysRangeproof.length>0)throw new m("issuance inflation keys range proof");r.issuanceInflationKeysRangeproof=t.value;break;case h.InputProprietaryTypes.PEGIN_TX:if(void 0!==r.peginTx)throw new m("pegin tx");try{r.peginTx=s.Transaction.fromBuffer(t.value)}catch(K){throw Error("Invalid input pegin tx")}break;case h.InputProprietaryTypes.PEGIN_TXOUT_PROOF:if(r.peginTxoutProof&&r.peginTxoutProof.length>0)throw new m("pegin txout proof");r.peginTxoutProof=t.value;break;case h.InputProprietaryTypes.PEGIN_GENESIS_HASH:if(r.peginGenesisHash&&r.peginGenesisHash.length>0)throw new m("pegin genesis hash");if(32!==t.value.length)throw Error("Invalid input pegin genesis hash length");r.peginGenesisHash=t.value;break;case h.InputProprietaryTypes.PEGIN_CLAIM_SCRIPT:if(r.peginClaimScript&&r.peginClaimScript.length>0)throw new m("pegin claim script");r.peginClaimScript=t.value;break;case h.InputProprietaryTypes.PEGIN_VALUE:if(r.peginValue>0)throw new m("pegin value");if(8!==t.value.length)throw Error("Invalid input pegin value length");r.peginValue=(0,u.readUInt64LE)(t.value,0);break;case h.InputProprietaryTypes.PEGIN_WITNESS:if(r.peginWitness&&r.peginWitness.length>0)throw new m("pegin witness");let D=new u.BufferReader(t.value);try{r.peginWitness=D.readVector()}catch(H){throw Error("Invalid input pegin witness")}break;case h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS:if(r.issuanceInflationKeys>0)throw new m("issuance inflation keys");if(8!==t.value.length)throw Error("Invalid input issuance inflation keys length");r.issuanceInflationKeys=(0,u.readUInt64LE)(t.value,0);break;case h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_COMMITMENT:if(r.issuanceInflationKeysCommitment&&r.issuanceInflationKeysCommitment.length>0)throw new m("issuance inflation keys commitment");if(33!==t.value.length)throw Error("Invalid input issuance inflation keys commitment length");r.issuanceInflationKeysCommitment=t.value;break;case h.InputProprietaryTypes.ISSUANCE_BLINDING_NONCE:if(r.issuanceBlindingNonce&&r.issuanceBlindingNonce.length>0)throw new m("issuance blinding nonce");if(32!==t.value.length)throw Error("Invalid input issuance blinding nonce length");r.issuanceBlindingNonce=t.value;break;case h.InputProprietaryTypes.ISSUANCE_ASSET_ENTROPY:if(r.issuanceAssetEntropy&&r.issuanceAssetEntropy.length>0)throw new m("issuance asset entropy");if(32!==t.value.length)throw Error("Invalid input issuance asset entropy length");r.issuanceAssetEntropy=t.value;break;case h.InputProprietaryTypes.UTXO_RANGEPROOF:if(r.utxoRangeProof&&r.utxoRangeProof.length>0)throw new m("utxo range proof");r.utxoRangeProof=t.value;break;case h.InputProprietaryTypes.ISSUANCE_BLIND_VALUE_PROOF:if(r.issuanceBlindValueProof&&r.issuanceBlindValueProof.length>0)throw new m("issuance blind value proof");r.issuanceBlindValueProof=t.value;break;case h.InputProprietaryTypes.ISSUANCE_BLIND_INFLATION_KEYS_PROOF:if(r.issuanceBlindInflationKeysProof&&r.issuanceBlindInflationKeysProof.length>0)throw new m("issuance blind inflation keys proof");r.issuanceBlindInflationKeysProof=t.value;break;default:r.proprietaryData||(r.proprietaryData=[]),r.proprietaryData.push(L)}break;default:r.unknowns||(r.unknowns=[]),r.unknowns.push(t)}}}sanityCheck(){if(0===this.previousTxid.length)throw Error("Missing input previous txid");if(this.previousTxIndex<0)throw Error("Missing input previous tx index");if(!this.witnessUtxo&&this.witnessScript&&this.witnessScript.length>0)throw Error("Input witness script cannot be set if witness utxo is unset");if(!this.witnessUtxo&&this.finalScriptWitness&&this.finalScriptWitness.length>0)throw Error("Input final script witness cannot be set if witness utxo is unset");let e=this.issuanceValueCommitment&&this.issuanceValueCommitment.length>0,t=this.issuanceBlindValueProof&&this.issuanceBlindValueProof.length>0;if(this.issuanceValue&&e!==t)throw Error("Missing input issuance value commitment or blind proof");let r=this.issuanceInflationKeysCommitment&&this.issuanceInflationKeysCommitment.length>0,i=this.issuanceBlindInflationKeysProof&&this.issuanceBlindInflationKeysProof.length>0;if(this.issuanceInflationKeys&&r!==i)throw Error("Missing input issuance inflation keys commitment or blind proof");if(void 0!==this.sighashType&&this.sighashType<0)throw Error("Invalid sighash type");return this}hasIssuance(){return!!this.issuanceBlindingNonce&&this.issuanceBlindingNonce.equals(c.ZERO)}hasIssuanceBlinded(){return this.issuanceValueCommitment.length>0}hasReissuance(){return!!this.issuanceBlindingNonce&&!this.issuanceBlindingNonce.equals(c.ZERO)}isFinalized(){return this.finalScriptSig&&this.finalScriptSig.length>0||this.finalScriptWitness&&this.finalScriptWitness.length>0}isTaproot(){return this.tapInternalKey&&this.tapInternalKey.length>0||this.tapMerkleRoot&&this.tapMerkleRoot.length>0||this.tapLeafScript&&this.tapLeafScript.length>0||this.tapBip32Derivation&&this.tapBip32Derivation.length>0||this.witnessUtxo&&(0,y.isP2TR)(this.witnessUtxo.script)}getIssuanceAssetHash(){if(!this.hasIssuance()&&!this.hasReissuance())return;if(!this.issuanceAssetEntropy)throw Error("missing issuance asset entropy");let e=this.issuanceAssetEntropy;return this.hasReissuance()||(e=(0,l.generateEntropy)({txHash:this.previousTxid,vout:this.previousTxIndex},this.issuanceAssetEntropy)),(0,l.calculateAsset)(e)}getIssuanceInflationKeysHash(e){if(!this.hasIssuance()&&!this.hasReissuance())return;if(!this.issuanceAssetEntropy)throw Error("missing issuance asset entropy");let t=this.issuanceAssetEntropy;return this.hasIssuance()&&(t=(0,l.generateEntropy)({txHash:this.previousTxid,vout:this.previousTxIndex},this.issuanceAssetEntropy)),(0,l.calculateReissuanceToken)(t,e)}getUtxo(){if(this.witnessUtxo||this.nonWitnessUtxo){if(!this.nonWitnessUtxo){let e=this.witnessUtxo;return e.rangeProof=this.utxoRangeProof,e}return this.nonWitnessUtxo.outs[this.previousTxIndex]}}toBuffer(){let e=this.getKeyPairs(),t=e.map(e=>e.toBuffer()),r=0;t.forEach(e=>{r+=e.length});let i=u.BufferWriter.withCapacity(r);return t.forEach(e=>i.writeSlice(e)),i.buffer}getKeyPairs(){let e=[];if(this.nonWitnessUtxo){let t=new p.Key(h.InputTypes.NON_WITNESS_UTXO),r=this.nonWitnessUtxo.toBuffer();e.push(new p.KeyPair(t,r))}if(this.witnessUtxo){let n=new p.Key(h.InputTypes.WITNESS_UTXO),o=w(this.witnessUtxo);e.push(new p.KeyPair(n,o))}if(this.partialSigs&&this.partialSigs.length>0&&this.partialSigs.forEach(({pubkey:t,signature:r})=>{let i=new p.Key(h.InputTypes.PARTIAL_SIG,t);e.push(new p.KeyPair(i,r))}),void 0!==this.sighashType){let a=new p.Key(h.InputTypes.SIGHASH_TYPE),s=i.allocUnsafe(4);s.writeUInt32LE(this.sighashType),e.push(new p.KeyPair(a,s))}if(this.redeemScript&&this.redeemScript.length>0){let l=new p.Key(h.InputTypes.REDEEM_SCRIPT);e.push(new p.KeyPair(l,this.redeemScript))}if(this.witnessScript&&this.witnessScript.length>0){let c=new p.Key(h.InputTypes.WITNESS_SCRIPT);e.push(new p.KeyPair(c,this.witnessScript))}if(this.bip32Derivation&&this.bip32Derivation.length>0&&this.bip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:i})=>{let n=new p.Key(h.InputTypes.BIP32_DERIVATION,t),o=(0,f.encodeBIP32Derivation)(r,i);e.push(new p.KeyPair(n,o))}),this.finalScriptSig&&this.finalScriptSig.length>0){let g=new p.Key(h.InputTypes.FINAL_SCRIPTSIG);e.push(new p.KeyPair(g,this.finalScriptSig))}if(this.finalScriptWitness&&this.finalScriptWitness.length>0){let b=new p.Key(h.InputTypes.FINAL_SCRIPTWITNESS);e.push(new p.KeyPair(b,this.finalScriptWitness))}this.ripemd160Preimages&&Object.keys(this.ripemd160Preimages).length>0&&Object.entries(this.ripemd160Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.RIPEMD_160,i.from(t,"hex"));e.push(new p.KeyPair(n,r))}),this.sha256Preimages&&Object.keys(this.sha256Preimages).length>0&&Object.entries(this.sha256Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.SHA_256,i.from(t,"hex"));e.push(new p.KeyPair(n,r))}),this.hash160Preimages&&Object.keys(this.hash160Preimages).length>0&&Object.entries(this.hash160Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.HASH_160,i.from(t,"hex"));e.push(new p.KeyPair(n,r))}),this.hash256Preimages&&Object.keys(this.hash256Preimages).length>0&&Object.entries(this.hash256Preimages).forEach(([t,r])=>{let n=new p.Key(h.InputTypes.HASH_256,i.from(t,"hex"));e.push(new p.KeyPair(n,r))});let y=new p.Key(h.InputTypes.PREVIOUS_TXID);e.push(new p.KeyPair(y,this.previousTxid));let m=new p.Key(h.InputTypes.PREVIOUS_TXINDEX),v=i.allocUnsafe(4);if(v.writeUInt32LE(this.previousTxIndex),e.push(new p.KeyPair(m,v)),this.sequence>0){let E=new p.Key(h.InputTypes.SEQUENCE),_=i.allocUnsafe(4);_.writeUInt32LE(this.sequence),e.push(new p.KeyPair(E,_))}if(this.requiredTimeLocktime>0){let S=new p.Key(h.InputTypes.REQUIRED_TIME_LOCKTIME),I=i.allocUnsafe(4);I.writeUInt32LE(this.requiredTimeLocktime),e.push(new p.KeyPair(S,I))}if(this.requiredHeightLocktime>0){let P=new p.Key(h.InputTypes.REQUIRED_HEIGHT_LOCKTIME),k=i.allocUnsafe(4);k.writeUInt32LE(this.requiredHeightLocktime),e.push(new p.KeyPair(P,k))}if(this.tapKeySig&&this.tapKeySig.length>0){let T=new p.Key(h.InputTypes.TAP_KEY_SIG);e.push(new p.KeyPair(T,this.tapKeySig))}if(this.tapScriptSig&&this.tapScriptSig.length>0&&this.tapScriptSig.forEach(({pubkey:t,signature:r,leafHash:n})=>{let o=i.concat([t,n]),a=new p.Key(h.InputTypes.TAP_SCRIPT_SIG,o);e.push(new p.KeyPair(a,r))}),this.tapLeafScript&&this.tapLeafScript.length>0&&this.tapLeafScript.forEach(({leafVersion:t,script:r,controlBlock:n})=>{let o=new p.Key(h.InputTypes.TAP_LEAF_SCRIPT,n),a=i.concat([r,i.of(t)]);e.push(new p.KeyPair(o,a))}),this.tapBip32Derivation&&this.tapBip32Derivation.length>0&&this.tapBip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:n,leafHashes:o})=>{let a=new p.Key(h.InputTypes.TAP_BIP32_DERIVATION,t),s=u.varuint.encodingLength(o.length),l=i.allocUnsafe(s);u.varuint.encode(o.length,l);let c=i.concat([l,...o,(0,f.encodeBIP32Derivation)(r,n)]);e.push(new p.KeyPair(a,c))}),this.tapInternalKey&&this.tapInternalKey.length>0){let O=new p.Key(h.InputTypes.TAP_INTERNAL_KEY);e.push(new p.KeyPair(O,this.tapInternalKey))}if(this.tapMerkleRoot&&this.tapMerkleRoot.length>0){let A=new p.Key(h.InputTypes.TAP_MERKLE_ROOT);e.push(new p.KeyPair(A,this.tapMerkleRoot))}if(this.issuanceValue>0){let x=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_VALUE),N=new p.Key(h.InputTypes.PROPRIETARY,x),R=i.allocUnsafe(8);(0,u.writeUInt64LE)(R,this.issuanceValue,0),e.push(new p.KeyPair(N,R))}if(this.issuanceValueCommitment&&this.issuanceValueCommitment.length>0){let B=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_VALUE_COMMITMENT),C=new p.Key(h.InputTypes.PROPRIETARY,B);e.push(new p.KeyPair(C,this.issuanceValueCommitment))}if(this.issuanceValueRangeproof&&this.issuanceValueRangeproof.length>0){let U=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_VALUE_RANGEPROOF),M=new p.Key(h.InputTypes.PROPRIETARY,U);e.push(new p.KeyPair(M,this.issuanceValueRangeproof))}if(this.issuanceInflationKeysRangeproof&&this.issuanceInflationKeysRangeproof.length>0){let j=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_RANGEPROOF),L=new p.Key(h.InputTypes.PROPRIETARY,j);e.push(new p.KeyPair(L,this.issuanceInflationKeysRangeproof))}if(this.peginTx){let K=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_TX),D=new p.Key(h.InputTypes.PROPRIETARY,K);e.push(new p.KeyPair(D,this.peginTx.toBuffer()))}if(this.peginTxoutProof&&this.peginTxoutProof.length>0){let H=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_TXOUT_PROOF),z=new p.Key(h.InputTypes.PROPRIETARY,H);e.push(new p.KeyPair(z,this.peginTxoutProof))}if(this.peginGenesisHash&&this.peginGenesisHash.length>0){let F=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_GENESIS_HASH),V=new p.Key(h.InputTypes.PROPRIETARY,F);e.push(new p.KeyPair(V,this.peginGenesisHash))}if(this.peginClaimScript&&this.peginClaimScript.length>0){let q=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_CLAIM_SCRIPT),W=new p.Key(h.InputTypes.PROPRIETARY,q);e.push(new p.KeyPair(W,this.peginClaimScript))}if(this.peginValue>0){let G=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_VALUE),X=new p.Key(h.InputTypes.PROPRIETARY,G),Y=i.allocUnsafe(8);(0,u.writeUInt64LE)(Y,this.peginValue,0),e.push(new p.KeyPair(X,Y))}if(this.peginWitness&&this.peginWitness.length>0){let Z=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.PEGIN_WITNESS),$=new u.BufferWriter(i.allocUnsafe(0));$.writeVector(this.peginWitness);let J=new p.Key(h.InputTypes.PROPRIETARY,Z);e.push(new p.KeyPair(J,$.buffer))}if(this.issuanceInflationKeys>0){let Q=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS),ee=new p.Key(h.InputTypes.PROPRIETARY,Q),et=i.allocUnsafe(8);(0,u.writeUInt64LE)(et,this.issuanceInflationKeys,0),e.push(new p.KeyPair(ee,et))}if(this.issuanceInflationKeysCommitment&&this.issuanceInflationKeysCommitment.length>0){let er=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_INFLATION_KEYS_COMMITMENT),ei=new p.Key(h.InputTypes.PROPRIETARY,er);e.push(new p.KeyPair(ei,this.issuanceInflationKeysCommitment))}if(this.issuanceBlindingNonce&&this.issuanceBlindingNonce.length>0){let en=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_BLINDING_NONCE),eo=new p.Key(h.InputTypes.PROPRIETARY,en);e.push(new p.KeyPair(eo,this.issuanceBlindingNonce))}if(this.issuanceAssetEntropy&&this.issuanceAssetEntropy.length>0){let ea=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_ASSET_ENTROPY),es=new p.Key(h.InputTypes.PROPRIETARY,ea);e.push(new p.KeyPair(es,this.issuanceAssetEntropy))}if(this.utxoRangeProof&&this.utxoRangeProof.length>0){let eu=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.UTXO_RANGEPROOF),el=new p.Key(h.InputTypes.PROPRIETARY,eu);e.push(new p.KeyPair(el,this.utxoRangeProof))}if(this.issuanceBlindValueProof&&this.issuanceBlindValueProof.length>0){let ec=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_BLIND_VALUE_PROOF),ef=new p.Key(h.InputTypes.PROPRIETARY,ec);e.push(new p.KeyPair(ef,this.issuanceBlindValueProof))}if(this.issuanceBlindInflationKeysProof&&this.issuanceBlindInflationKeysProof.length>0){let eh=d.ProprietaryData.proprietaryKey(h.InputProprietaryTypes.ISSUANCE_BLIND_INFLATION_KEYS_PROOF),ep=new p.Key(h.InputTypes.PROPRIETARY,eh);e.push(new p.KeyPair(ep,this.issuanceBlindInflationKeysProof))}return this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach(t=>{let r=d.ProprietaryData.proprietaryKey(t.subType,t.keyData),i=new p.Key(h.InputTypes.PROPRIETARY,r);e.push(new p.KeyPair(i,t.value))}),e.concat(this.unknowns||[]),e}}function w(e){let t=e.asset.length+e.value.length+u.varuint.encodingLength(e.script.length)+e.script.length+e.nonce.length,r=i.allocUnsafe(t),n=new u.BufferWriter(r,0);return n.writeSlice(e.asset),n.writeSlice(e.value),n.writeSlice(e.nonce),n.writeVarSlice(e.script),r}function E(e){if(e.length<45)throw Error("Invalid input witness utxo length");let t=new u.BufferReader(e),r=t.readSlice(33),i=t.readConfidentialValue(),n=t.readConfidentialNonce(),o=t.readVarSlice();return{asset:r,value:i,nonce:n,script:o}}t.PsetInput=v},6516:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPair=t.Key=t.ErrEmptyKey=void 0;let n=r(39831);t.ErrEmptyKey=Error("no more key pairs");class o{constructor(e,t){this.keyType=e,this.keyData=t||i.from([])}static fromBuffer(e){let r=e.readVarSlice();if(0===r.length)throw t.ErrEmptyKey;if(r.length>1e4)throw Error("invalid key size");return new o(r[0],r.slice(1))}toBuffer(){let e=i.concat([i.of(this.keyType),this.keyData]),t=n.varuint.encodingLength(e.length)+e.length,r=n.BufferWriter.withCapacity(t);return r.writeVarSlice(e),r.buffer}}t.Key=o;class a{constructor(e,t){this.key=e,this.value=t||i.from([])}static fromBuffer(e){let t=o.fromBuffer(e),r=e.readVarSlice();return new a(t,r)}toBuffer(){let e=this.key.toBuffer(),t=e.length+n.varuint.encodingLength(this.value.length)+this.value.length,r=n.BufferWriter.withCapacity(t);return r.writeSlice(e),r.writeVarSlice(this.value),r.buffer}}t.KeyPair=a},8938:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.PsetOutput=t.OutputDuplicateFieldError=void 0;let n=r(39831),o=r(63301),a=r(47199),s=r(6516),u=r(79371),l=r(40116),c=r(93592);class f extends Error{constructor(e){e&&(e="Duplicated output "+e),super(e)}}t.OutputDuplicateFieldError=f;class h{constructor(e,t,r){this.value=e||0,this.asset=t||i.from([]),this.script=r}static fromBuffer(e){let t;let r=new h;for(;;){try{t=s.KeyPair.fromBuffer(e)}catch(c){if(c instanceof Error&&c===s.ErrEmptyKey)return r.sanityCheck(),r;throw c}switch(t.key.keyType){case a.OutputTypes.REDEEM_SCRIPT:if(r.redeemScript&&r.redeemScript.length>0)throw new f("redeem script");r.redeemScript=t.value;break;case a.OutputTypes.WITNESS_SCRIPT:if(r.witnessScript&&r.witnessScript.length>0)throw new f("witness script");r.witnessScript=t.value;break;case a.OutputTypes.BIP32_DERIVATION:let p=t.key.keyData;if(33!==p.length)throw Error("Invalid output bip32 pubkey length");if(r.bip32Derivation||(r.bip32Derivation=[]),r.bip32Derivation.find(e=>e.pubkey.equals(p)))throw new f("bip32 derivation");let{masterFingerprint:d,path:g}=(0,o.decodeBip32Derivation)(t.value);r.bip32Derivation.push({pubkey:p,masterFingerprint:d,path:g});break;case a.OutputTypes.AMOUNT:if(r.value>0)throw new f("value");if(8!==t.value.length)throw Error("Invalid output amount length");r.value=(0,n.readUInt64LE)(t.value,0);break;case a.OutputTypes.SCRIPT:if(r.script&&r.script.length>0)throw new f("script");r.script=t.value;break;case a.OutputTypes.TAP_BIP32_DERIVATION:let b=t.key.keyData;if(33!==b.length)throw Error("Invalid output bip32 derivation pubkey length");r.tapBip32Derivation||(r.tapBip32Derivation=[]);let y=t.key.keyData;if(r.tapBip32Derivation.find(e=>e.pubkey.equals(y)))throw new f("taproot bip32 derivation");let m=n.varuint.decode(t.value),v=n.varuint.encodingLength(m),w=(0,o.decodeBip32Derivation)(t.value.slice(v+32*m)),E=Array(m);for(let _=0,S=v;_<m;_++,S+=32)E[_]=t.value.slice(S,S+32);r.tapBip32Derivation.push({pubkey:y,masterFingerprint:w.masterFingerprint,path:w.path,leafHashes:E});break;case a.OutputTypes.TAP_TREE:if(r.tapTree)throw new f("taproot tree");let I=0,P=[];for(;I<t.value.length;){let k=t.value[I++],T=t.value[I++],O=n.varuint.decode(t.value,I);I+=n.varuint.encodingLength(O),P.push({depth:k,leafVersion:T,script:t.value.slice(I,I+O)}),I+=O}r.tapTree={leaves:P};break;case a.OutputTypes.TAP_INTERNAL_KEY:if(r.tapInternalKey&&r.tapInternalKey.length>0)throw new f("taproot internal key");if(32!==t.value.length)throw Error("Invalid output taproot internal key length");r.tapInternalKey=t.value;break;case a.OutputTypes.PROPRIETARY:let A=u.ProprietaryData.fromKeyPair(t);if(0===i.compare(A.identifier,l.magicPrefix))switch(A.subType){case a.OutputProprietaryTypes.VALUE_COMMITMENT:if(r.valueCommitment&&r.valueCommitment.length>0)throw new f("value commitment");if(33!==t.value.length)throw Error("Invalid output value commitment length");r.valueCommitment=t.value;break;case a.OutputProprietaryTypes.ASSET:if(r.asset&&r.asset.length>0)throw new f("asset");if(32!==t.value.length)throw Error("Invalid output asset length");r.asset=t.value;break;case a.OutputProprietaryTypes.ASSET_COMMITMENT:if(r.assetCommitment&&r.assetCommitment.length>0)throw new f("asset commitment");if(33!==t.value.length)throw Error("Invalid output asset commitment length");r.assetCommitment=t.value;break;case a.OutputProprietaryTypes.VALUE_RANGEPROOF:if(r.valueRangeproof&&r.valueRangeproof.length>0)throw new f("value range proof");r.valueRangeproof=t.value;break;case a.OutputProprietaryTypes.ASSET_SURJECTION_PROOF:if(r.assetSurjectionProof&&r.assetSurjectionProof.length>0)throw new f("asset surjection proof");r.assetSurjectionProof=t.value;break;case a.OutputProprietaryTypes.BLINDING_PUBKEY:if(r.blindingPubkey&&r.blindingPubkey.length>0)throw new f("blinding pubkey");if(33!==t.value.length)throw Error("Invalid output blinding pubkey length");r.blindingPubkey=t.value;break;case a.OutputProprietaryTypes.ECDH_PUBKEY:if(r.ecdhPubkey&&r.ecdhPubkey.length>0)throw new f("ecdh pubkey");if(33!==t.value.length)throw Error("Invalid output ecdh pubkey length");r.ecdhPubkey=t.value;break;case a.OutputProprietaryTypes.BLINDER_INDEX:if(void 0!==r.blinderIndex)throw new f("blinder index");if(4!==t.value.length)throw Error("Invalid output blinder index length");r.blinderIndex=t.value.readUInt32LE();break;case a.OutputProprietaryTypes.BLIND_VALUE_PROOF:if(r.blindValueProof&&r.blindValueProof.length>0)throw new f("blind value proof");r.blindValueProof=t.value;break;case a.OutputProprietaryTypes.BLIND_ASSET_PROOF:if(r.blindAssetProof&&r.blindAssetProof.length>0)throw new f("blind asset proof");r.blindAssetProof=t.value;break;default:r.proprietaryData||(r.proprietaryData=[]),r.proprietaryData.push(A)}break;default:r.unknowns||(r.unknowns=[]),r.unknowns.push(t)}}}sanityCheck(){let e=this.valueCommitment&&this.valueCommitment.length>0,t=this.blindValueProof&&this.blindValueProof.length>0;if(this.value>0&&e!==t)throw Error("Missing output value commitment or blind proof");let r=this.assetCommitment&&this.assetCommitment.length>0,i=this.blindAssetProof&&this.blindAssetProof.length>0;if(!r&&(!this.asset||0===this.asset.length))throw Error("Missing output asset");if(this.asset&&this.asset.length>0&&r!==i)throw Error("Missing output asset commitment or blind proof");if(this.isPartiallyBlinded()&&!this.isFullyBlinded())throw Error("Output is partially blinded while it must be either unblinded or fully blinded");if(this.isFullyBlinded()&&this.blinderIndex>0)throw Error("Blinder index must be unset for fully blinded output");return this}needsBlinding(){return this.blindingPubkey&&this.blindingPubkey.length>0}isPartiallyBlinded(){return this.valueCommitment&&this.valueCommitment.length>0||this.assetCommitment&&this.assetCommitment.length>0||this.valueRangeproof&&this.valueRangeproof.length>0||this.assetSurjectionProof&&this.assetSurjectionProof.length>0||this.ecdhPubkey&&this.ecdhPubkey.length>0}isFullyBlinded(){return this.valueCommitment&&this.valueCommitment.length>0&&this.assetCommitment&&this.assetCommitment.length>0&&this.valueRangeproof&&this.valueRangeproof.length>0&&(this.assetSurjectionProof&&this.assetSurjectionProof.length)>0&&this.ecdhPubkey&&this.ecdhPubkey.length>0}isTaproot(){return!!(this.tapInternalKey||this.tapTree||this.tapBip32Derivation&&this.tapBip32Derivation.length||this.script&&(0,c.isP2TR)(this.script))}toBuffer(){let e=this.getKeyPairs(),t=e.map(e=>e.toBuffer()),r=0;t.forEach(e=>{r+=e.length});let i=n.BufferWriter.withCapacity(r);return t.forEach(e=>i.writeSlice(e)),i.buffer}getKeyPairs(){let e=[];if(this.redeemScript&&this.redeemScript.length>0){let t=new s.Key(a.OutputTypes.REDEEM_SCRIPT);e.push(new s.KeyPair(t,this.redeemScript))}if(this.witnessScript&&this.witnessScript.length>0){let r=new s.Key(a.OutputTypes.WITNESS_SCRIPT);e.push(new s.KeyPair(r,this.witnessScript))}if(this.bip32Derivation&&this.bip32Derivation.length>0&&this.bip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:i})=>{let n=new s.Key(a.OutputTypes.BIP32_DERIVATION,t),u=(0,o.encodeBIP32Derivation)(r,i);e.push(new s.KeyPair(n,u))}),this.tapBip32Derivation&&this.tapBip32Derivation.length>0&&this.tapBip32Derivation.forEach(({pubkey:t,masterFingerprint:r,path:u,leafHashes:l})=>{let c=new s.Key(a.OutputTypes.TAP_BIP32_DERIVATION,t),f=n.varuint.encodingLength(l.length),h=i.allocUnsafe(f);n.varuint.encode(l.length,h);let p=i.concat([h,...l,(0,o.encodeBIP32Derivation)(r,u)]);e.push(new s.KeyPair(c,p))}),this.tapTree){let l=new s.Key(a.OutputTypes.TAP_TREE),c=[].concat(...this.tapTree.leaves.map(e=>[i.of(e.depth,e.leafVersion),n.varuint.encode(e.script.length),e.script])),f=i.concat(c);e.push(new s.KeyPair(l,f))}if(this.tapInternalKey&&this.tapInternalKey.length>0){let h=new s.Key(a.OutputTypes.TAP_INTERNAL_KEY);e.push(new s.KeyPair(h,this.tapInternalKey))}let p=new s.Key(a.OutputTypes.AMOUNT),d=i.allocUnsafe(8);(0,n.writeUInt64LE)(d,this.value,0),e.push(new s.KeyPair(p,d));let g=new s.Key(a.OutputTypes.SCRIPT);if(e.push(new s.KeyPair(g,this.script||i.alloc(0))),this.valueCommitment&&this.valueCommitment.length>0){let b=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.VALUE_COMMITMENT),y=new s.Key(a.OutputTypes.PROPRIETARY,b);e.push(new s.KeyPair(y,this.valueCommitment))}if(this.assetCommitment&&this.assetCommitment.length>0){let m=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ASSET_COMMITMENT),v=new s.Key(a.OutputTypes.PROPRIETARY,m);e.push(new s.KeyPair(v,this.assetCommitment))}if(this.asset&&this.asset.length>0){let w=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ASSET),E=new s.Key(a.OutputTypes.PROPRIETARY,w);e.push(new s.KeyPair(E,this.asset))}if(this.valueRangeproof&&this.valueRangeproof.length>0){let _=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.VALUE_RANGEPROOF),S=new s.Key(a.OutputTypes.PROPRIETARY,_);e.push(new s.KeyPair(S,this.valueRangeproof))}if(this.assetSurjectionProof&&this.assetSurjectionProof.length>0){let I=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ASSET_SURJECTION_PROOF),P=new s.Key(a.OutputTypes.PROPRIETARY,I);e.push(new s.KeyPair(P,this.assetSurjectionProof))}if(this.blindingPubkey&&this.blindingPubkey.length>0){let k=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLINDING_PUBKEY),T=new s.Key(a.OutputTypes.PROPRIETARY,k);e.push(new s.KeyPair(T,this.blindingPubkey))}if(this.ecdhPubkey&&this.ecdhPubkey.length>0){let O=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.ECDH_PUBKEY),A=new s.Key(a.OutputTypes.PROPRIETARY,O);e.push(new s.KeyPair(A,this.ecdhPubkey))}let x=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLINDER_INDEX),N=new s.Key(a.OutputTypes.PROPRIETARY,x),R=i.allocUnsafe(4),B=0;if(this.blinderIndex>0&&(B=this.blinderIndex),R.writeUInt32LE(B),e.push(new s.KeyPair(N,R)),this.blindValueProof&&this.blindValueProof.length>0){let C=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLIND_VALUE_PROOF),U=new s.Key(a.OutputTypes.PROPRIETARY,C);e.push(new s.KeyPair(U,this.blindValueProof))}if(this.blindAssetProof&&this.blindAssetProof.length>0){let M=u.ProprietaryData.proprietaryKey(a.OutputProprietaryTypes.BLIND_ASSET_PROOF),j=new s.Key(a.OutputTypes.PROPRIETARY,M);e.push(new s.KeyPair(j,this.blindAssetProof))}return this.proprietaryData&&this.proprietaryData.length>0&&this.proprietaryData.forEach(t=>{let r=u.ProprietaryData.proprietaryKey(t.subType,t.keyData),i=new s.Key(a.OutputTypes.PROPRIETARY,r);e.push(new s.KeyPair(i,t.value))}),e.concat(this.unknowns||[]),e}}t.PsetOutput=h},79371:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ProprietaryData=void 0;let n=r(39831),o=r(40116);class a{constructor(e,t,r,i){this.identifier=e,this.subType=t,this.keyData=r,this.value=i}static fromKeyPair(e){if(252!==e.key.keyType)throw Error("invalid proprietary data key type");let t=new n.BufferReader(e.key.keyData),r=e.key.keyData.length,o=t.offset,s=t.readVarSlice();if(0===s.length)throw Error("invalid proprietary data identifier");let u=t.readUInt8();o=t.offset-o;let l=r-o,c=i.from([]);return l>0&&(c=t.readSlice(l)),new a(s,u,c,e.value)}static proprietaryKey(e,t){let r=s(t),a=i.allocUnsafe(r),u=new n.BufferWriter(a);return u.writeVarSlice(o.magicPrefix),u.writeSlice(i.from([e])),t&&t.length>0&&u.writeSlice(t),a}}function s(e){let t=e?e.length:0;return n.varuint.encodingLength(o.magicPrefix.length)+o.magicPrefix.length+1+t}t.ProprietaryData=a},40116:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Pset=t.magicPrefixWithSeparator=t.magicPrefix=void 0;let s=r(45217),u=r(39831),l=r(66438),c=r(76235),f=r(47199),h=r(50394),p=r(57868),d=r(8938),g=a(r(14627)),b=r(93169),y=r(43564),m=r(79746),v=r(51623),w=r(93592);t.magicPrefix=i.from([112,115,101,116]),t.magicPrefixWithSeparator=i.concat([t.magicPrefix,i.of(255)]);class E{constructor(e,t,r){this.inputs=t||[],this.outputs=r||[],this.globals=e||new h.PsetGlobal}static fromBase64(e){let t=i.from(e,"base64");return this.fromBuffer(t)}static fromBuffer(e){let r=new u.BufferReader(e),i=r.readSlice(t.magicPrefixWithSeparator.length);if(!i.equals(t.magicPrefixWithSeparator))throw Error("invalid magic prefix");let n=h.PsetGlobal.fromBuffer(r),o=[];for(let a=0;a<n.inputCount;a++){let s=p.PsetInput.fromBuffer(r);o.push(s)}let l=[];for(let c=0;c<n.outputCount;c++){let f=d.PsetOutput.fromBuffer(r);l.push(f)}let g=new E(n,o,l);return g.sanityCheck(),g}static ECCKeysGenerator(e){return t=>{let r=(0,w.randomBytes)(t),i=(0,s.ECPairFactory)(e).fromPrivateKey(r).publicKey;return{privateKey:r,publicKey:i}}}static ECDSASigValidator(e){return(t,r,i)=>(0,s.ECPairFactory)(e).fromPublicKey(t).verify(r,i)}static SchnorrSigValidator(e){return(t,r,i)=>e.verifySchnorr(r,t,i.slice(0,64))}sanityCheck(){if(this.globals.sanityCheck(),this.inputs.forEach(e=>e.sanityCheck()),this.outputs.forEach(e=>e.sanityCheck()),this.isFullyBlinded()&&this.globals.scalars&&this.globals.scalars.length>0)throw Error("global scalars must be empty for fully blinded pset");return this}copy(){return new E(this.globals,this.inputs,this.outputs)}inputsModifiable(){return!this.globals.txModifiable||1===this.globals.txModifiable.get(0)}outputsModifiable(){return!this.globals.txModifiable||1===this.globals.txModifiable.get(1)}hasSighashSingle(){return!!this.globals.txModifiable&&1===this.globals.txModifiable.get(2)}needsBlinding(){return this.outputs.some(e=>e.needsBlinding()&&!e.isFullyBlinded())}isFullyBlinded(){return!!this.needsBlinding()&&!this.outputs.some(e=>e.needsBlinding()&&!e.isFullyBlinded())}isComplete(){return this.inputs.every(e=>e.isFinalized())}locktime(){let e=0,t=0;return(this.inputs.forEach(r=>{r.requiredTimeLocktime>0&&r.requiredTimeLocktime>t&&(t=r.requiredTimeLocktime),r.requiredHeightLocktime>0&&r.requiredHeightLocktime>e&&(e=r.requiredHeightLocktime)}),e>0)?e:t>0?t:this.globals.fallbackLocktime||0}unsignedTx(){let e=new c.Transaction;return e.version=this.globals.txVersion,e.locktime=this.locktime(),this.inputs.forEach(t=>{let r;if(t.hasIssuance()||t.hasReissuance()){let n=t.issuanceValueCommitment;n&&0!==n.length||(n=m.ElementsValue.fromNumber(t.issuanceValue).bytes);let o=t.issuanceInflationKeysCommitment;o&&0!==o.length||(o=t.issuanceInflationKeys?m.ElementsValue.fromNumber(t.issuanceInflationKeys).bytes:i.of(0));let a=t.issuanceAssetEntropy,s=t.issuanceBlindingNonce;r={assetEntropy:a,assetAmount:n,tokenAmount:o,assetBlindingNonce:s}}e.addInput(t.previousTxid,t.previousTxIndex,t.sequence,void 0,r)}),this.outputs.forEach(t=>{let r=t.valueCommitment||m.ElementsValue.fromNumber(t.value).bytes,n=t.assetCommitment||v.AssetHash.fromBytes(t.asset).bytes,o=t.script||i.from([]),a=t.ecdhPubkey||i.of(0);e.addOutput(o,r,n,a,t.valueRangeproof,t.assetSurjectionProof)}),e}validateAllSignatures(e){return this.inputs.every((t,r)=>this.validateInputSignatures(r,e))}addInput(e){if(e.sanityCheck(),this.isDuplicatedInput(e))throw Error("given input already exists in pset");if(!this.inputsModifiable())throw Error("pset is locked for updates on inputs");if(e.requiredHeightLocktime>0||e.requiredTimeLocktime>0){let t=this.locktime(),r=e.requiredTimeLocktime,i=e.requiredHeightLocktime,n=!1;this.inputs.forEach(e=>{if(e.requiredTimeLocktime>0&&!e.requiredHeightLocktime&&(i=0,0===r)||!e.requiredTimeLocktime&&e.requiredHeightLocktime>0&&(r=0,0===i))throw Error("invalid input locktime");e.requiredTimeLocktime>0&&r>0&&(r=Math.max(r,e.requiredTimeLocktime)),e.requiredHeightLocktime>0&&i>0&&(i=Math.max(i,e.requiredHeightLocktime)),e.partialSigs.length>0&&(n=!0)});let o=this.globals.fallbackLocktime;if(r>0&&(o=r),i>0&&(o=i),n&&t!==o)throw Error("invalid input locktime")}return this.inputs.push(e),this.globals.inputCount++,this}addOutput(e){if(e.sanityCheck(),!this.outputsModifiable())throw Error("pset is locked for updates on outputs");return this.outputs.push(e),this.globals.outputCount++,this}validateInputSignatures(e,t){if(e<0||e>=this.globals.inputCount)throw Error("input index out of range");let r=this.inputs[e];return!!r.partialSigs&&0!==r.partialSigs.length&&r.partialSigs.every(r=>this.validatePartialSignature(e,t,r))}validatePartialSignature(e,t,r){if(e<0||e>=this.globals.inputCount)throw Error("input index out of range");let i=this.inputs[e];if(!i.partialSigs||0===i.partialSigs.length)return!1;let n=i.getUtxo();if(!n)throw Error("missing input (non-)witness utxo");let o=r.signature[r.signature.length-1],a=this.getInputPreimage(e,o),s=i.redeemScript||i.witnessScript||n.script;_(r.pubkey,s,"verify");let{signature:u}=g.signature.decode(r.signature);return t(r.pubkey,a,u)}getInputPreimage(e,t,r,i){if(e<0||e>=this.globals.inputCount)throw Error("input index out of range");let n=this.inputs[e],o=n.getUtxo();if(!o)throw Error("missing input (non-)witness utxo");let a=this.unsignedTx();if(n.isTaproot()){if(!r||32!==r.length)throw Error("Missing or invalid genesis block hash");let s=[],u=[];return this.inputs.forEach((e,t)=>{let r=e.getUtxo();if(!r)throw Error(`Missing input ${t} (non-)witness utxo`);s.push(r.script),u.push({asset:r.asset,value:r.value})}),a.hashForWitnessV1(e,s,u,t,r,i)}let l=n.redeemScript||o.script,c=(0,b.getScriptType)(l);switch(c){case b.ScriptType.P2Pkh:case b.ScriptType.P2Sh:return a.hashForSignature(e,l,t);case b.ScriptType.P2Wpkh:let f=(0,y.p2pkh)({hash:o.script.slice(2)}).output;return a.hashForWitnessV0(e,f,o.value,t);case b.ScriptType.P2Wsh:if(!n.witnessScript||0===n.witnessScript.length)throw Error("missing witness script for p2wsh input");return a.hashForWitnessV0(e,n.witnessScript,o.value,t);default:throw Error("unknown input (non-)witness utxo script type")}}toBase64(){let e=this.toBuffer();return e.toString("base64")}toBuffer(){let e=t.magicPrefixWithSeparator.length,r=this.globals.toBuffer();e+=r.length+1;let i=this.inputs.map(e=>e.toBuffer());i.forEach(t=>e+=t.length+1);let n=this.outputs.map(e=>e.toBuffer());n.forEach(t=>e+=t.length+1);let o=u.BufferWriter.withCapacity(e);return o.writeSlice(t.magicPrefixWithSeparator),o.writeSlice(r),o.writeUInt8(f.separator),i.forEach(e=>{o.writeSlice(e),o.writeUInt8(f.separator)}),n.forEach(e=>{o.writeSlice(e),o.writeUInt8(f.separator)}),o.buffer}isDuplicatedInput(e){return this.inputs.some(t=>t.previousTxid.equals(e.previousTxid)&&t.previousTxIndex===e.previousTxIndex)}}function _(e,t,r){if(!S(e,t))throw Error(`Cannot ${r} for this input with the key ${e.toString("hex")}`)}function S(e,t){let r=(0,l.hash160)(e),i=g.decompile(t);if(null===i)throw Error("Unknown script error");return i.some(t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)))}t.Pset=E},29921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signer=void 0;let i=r(76235),n=r(13039),o=r(93592);class a{constructor(e){e.sanityCheck(),this.pset=e}addSignature(e,t,r){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let n=this.pset.inputs[e];if(n.isFinalized())throw Error("Input is already finalized");if(void 0===n.sighashType)throw Error("Missing input sighash type");if((31&n.sighashType)===i.Transaction.SIGHASH_ALL&&this.pset.outputs.some(e=>e.needsBlinding()&&!e.isFullyBlinded()))throw Error("Pset must be fully blinded");return n.isTaproot()?this._addTaprootSignature(e,t,r):this._addSignature(e,t,r)}_addSignature(e,t,r){let i=this.pset.inputs[e],a=this.pset.copy(),s=i.sighashType,{partialSig:u,witnessScript:l,redeemScript:c}=t;if(!u)throw Error("Missing partial signature for input");if(u.signature.slice(-1)[0]!==s)throw Error("Input and signature sighash types must match");let f=new n.Updater(a);if(l&&l.length>0&&(f.addInWitnessScript(e,l),i.witnessUtxo||(f.addInWitnessUtxo(e,i.nonWitnessUtxo.outs[i.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)),c&&c.length>0){f.addInRedeemScript(e,c);let h=(0,o.isP2WPKH)(c)||(0,o.isP2WSH)(c);h&&!i.witnessUtxo&&(f.addInWitnessUtxo(e,i.nonWitnessUtxo.outs[i.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)}if(a.inputs[e].nonWitnessUtxo){let p=i.nonWitnessUtxo.outs[i.previousTxIndex].script,d=(0,o.isP2WPKH)(p)||(0,o.isP2WSH)(p);d&&(f.addInWitnessUtxo(e,i.nonWitnessUtxo.outs[i.previousTxIndex]),a.inputs[e].nonWitnessUtxo=void 0)}return f.addInPartialSignature(e,u,r),a.sanityCheck(),this.pset.globals=a.globals,this.pset.inputs=a.inputs,this.pset.outputs=a.outputs,this}_addTaprootSignature(e,t,r){let i=this.pset.copy(),{tapKeySig:o,tapScriptSigs:a,genesisBlockHash:s}=t;if(!o&&(!a||!a.length))throw Error("Missing taproot signature");let u=new n.Updater(i);return o&&u.addInTapKeySig(e,o,s,r),a&&a.forEach(t=>{u.addInTapScriptSig(e,t,s,r)}),i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}}t.Signer=a},13039:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Updater=void 0;let s=r(93169),u=r(51623),l=r(63590),c=r(84577),f=a(r(14627));class h{constructor(e){e.sanityCheck(),this.pset=e}addInputs(e){let t=this.pset.copy();return e.forEach(e=>{let r=new c.CreatorInput(e.txid,e.txIndex,e.sequence,e.heightLocktime,e.timeLocktime);r.validate(),t.addInput(r.toPartialInput());let i=t.inputs.length-1;if(e.witnessUtxo&&this.addInWitnessUtxo(i,e.witnessUtxo),e.witnessUtxo&&e.witnessUtxo.rangeProof&&this.addInUtxoRangeProof(i,e.witnessUtxo.rangeProof),e.nonWitnessUtxo&&this.addInNonWitnessUtxo(i,e.nonWitnessUtxo),e.nonWitnessUtxo&&e.nonWitnessUtxo.outs[e.txIndex]){let n=e.nonWitnessUtxo.outs[e.txIndex];n.rangeProof&&this.addInUtxoRangeProof(i,n.rangeProof)}void 0!==e.sighashType&&this.addInSighashType(i,e.sighashType),e.tapInternalKey&&this.addInTapInternalKey(i,e.tapInternalKey),e.tapLeafScript&&this.addInTapLeafScript(i,e.tapLeafScript),e.tapMerkleRoot&&this.addInTapMerkleRoot(i,e.tapMerkleRoot),e.issaunceOpts&&this.addInIssuance(i,e.issaunceOpts),e.reissuanceOpts&&this.addInReissuance(i,e.reissuanceOpts)}),t.sanityCheck(),this.pset.globals=t.globals,this.pset.inputs=t.inputs,this.pset.outputs=t.outputs,this}addOutputs(e){let t=this.pset.copy();return e.forEach(e=>{let r=new c.CreatorOutput(e.asset,e.amount,e.script,e.blindingPublicKey,e.blinderIndex);r.validate(),t.addOutput(r.toPartialOutput())}),t.sanityCheck(),this.pset.globals=t.globals,this.pset.inputs=t.inputs,this.pset.outputs=t.outputs,this}addInNonWitnessUtxo(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy(),i=t.getHash(!1);if(!i.equals(r.inputs[e].previousTxid))throw Error("Non-witness utxo hash does not match prevout txid");return r.inputs[e].nonWitnessUtxo=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInWitnessUtxo(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].witnessUtxo=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInRedeemScript(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].redeemScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInWitnessScript(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].witnessScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(33!==t.pubkey.length)throw Error("Invalid pubkey length");let r=this.pset.copy();if(r.inputs[e].bip32Derivation||(r.inputs[e].bip32Derivation=[]),r.inputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated bip32 derivation pubkey");return r.inputs[e].bip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInSighashType(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(t<0)throw Error("Invalid sighash type");let r=this.pset.copy();return r.inputs[e].sighashType=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInUtxoRangeProof(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].utxoRangeProof=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInIssuance(e,t){this.validateIssuanceInput(e),p(t);let r=this.pset.copy(),i=t.assetAmount||0,n=t.tokenAmount||0,o=(0,l.newIssuance)(i,n,t.contract);r.inputs[e].issuanceValue=i,r.inputs[e].issuanceInflationKeys=n,r.inputs[e].issuanceAssetEntropy=o.assetEntropy,r.inputs[e].issuanceBlindingNonce=o.assetBlindingNonce;let a=(0,l.generateEntropy)({txHash:r.inputs[e].previousTxid,vout:r.inputs[e].previousTxIndex},o.assetEntropy);if(i>0){let f,h;let d=u.AssetHash.fromBytes((0,l.calculateAsset)(a)).hex;t.assetAddress&&(0,s.isConfidential)(t.assetAddress)&&(f=e,h=(0,s.fromConfidential)(t.assetAddress).blindingKey);let g=new c.CreatorOutput(d,i,(0,s.toOutputScript)(t.assetAddress),h,f);r.addOutput(g.toPartialOutput())}if(n>0){let b,y;let m=u.AssetHash.fromBytes((0,l.calculateReissuanceToken)(a,t.blindedIssuance)).hex;t.tokenAddress&&(0,s.isConfidential)(t.tokenAddress)&&(b=e,y=(0,s.fromConfidential)(t.tokenAddress).blindingKey);let v=new c.CreatorOutput(m,n,(0,s.toOutputScript)(t.tokenAddress),y,b);r.addOutput(v.toPartialOutput())}return r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInReissuance(e,t){this.validateReissuanceInput(e),d(t);let r=this.pset.copy(),n="string"==typeof t.entropy?i.from(t.entropy,"hex").reverse():t.entropy,o="string"==typeof t.tokenAssetBlinder?i.from(t.tokenAssetBlinder,"hex").reverse():t.tokenAssetBlinder,a=u.AssetHash.fromBytes((0,l.calculateAsset)(n)).hex,f=u.AssetHash.fromBytes((0,l.calculateReissuanceToken)(n,!0)).hex;r.inputs[e].issuanceAssetEntropy=n,r.inputs[e].issuanceBlindingNonce=o,r.inputs[e].issuanceValue=t.assetAmount,r.inputs[e].issuanceInflationKeys=0;let h=(0,s.fromConfidential)(t.assetAddress).blindingKey,p=new c.CreatorOutput(a,t.assetAmount,(0,s.toOutputScript)(t.assetAddress),h,e),g=(0,s.fromConfidential)(t.tokenAddress).blindingKey,b=new c.CreatorOutput(f,t.tokenAmount,(0,s.toOutputScript)(t.tokenAddress),g,e);return r.addOutput(p.toPartialOutput()),r.addOutput(b.toPartialOutput()),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInPartialSignature(e,t,r){if(e<0||e>=this.pset.globals.inputCount)throw Error("input index out of range");if(b(t),(this.pset.inputs[e].partialSigs||[]).some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated signature pubkey");let i=this.pset.copy(),n=t.signature.slice(-1)[0],o=i.getInputPreimage(e,n),{signature:a}=f.signature.decode(t.signature);if(!r(t.pubkey,o,a))throw Error("Invalid signature");return i.inputs[e].partialSigs||(i.inputs[e].partialSigs=[]),i.inputs[e].partialSigs.push(t),i.sanityCheck(),this.pset.globals=i.globals,this.pset.inputs=i.inputs,this.pset.outputs=i.outputs,this}addInTimeLocktime(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(t<0)throw Error("Invalid required time locktime");let r=this.pset.copy();return r.inputs[e].requiredTimeLocktime=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInHeightLocktime(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(t<0)throw Error("Invalid required height locktime");let r=this.pset.copy();return r.inputs[e].requiredHeightLocktime=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapKeySig(e,t,r,i){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(64!==t.length&&65!==t.length)throw Error("Invalid taproot key signature length");if(32!==r.length)throw Error("Invalid genesis block hash length");let n=this.pset.copy(),o=n.inputs[e];if(!o.getUtxo())throw Error("Missing input witness utxo");if(void 0===o.sighashType)throw Error("Missing input sighash type");let a=o.getUtxo().script.slice(2),s=n.getInputPreimage(e,o.sighashType,r);if(!i(a,s,t))throw Error(`Invalid taproot key signature for input ${e}`);return n.inputs[e].tapKeySig=t,n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapScriptSig(e,t,r,i){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(32!==t.pubkey.length)throw Error("Invalid xonly pubkey length");if(32!==t.leafHash.length)throw Error("Invalid leaf hash length");if(64!==t.signature.length&&65!==t.signature.length)throw Error("Invalid signature length");if(32!==r.length)throw Error("Invalid genesis block hash length");let n=this.pset.copy(),o=n.inputs[e];if(void 0===o.sighashType)throw Error("Missing input sighash type");let a=n.getInputPreimage(e,o.sighashType,r,t.leafHash);if(!i(t.pubkey,a,t.signature))throw Error(`Invalid taproot script signature for input ${e}`);return n.inputs[e].tapScriptSig||(n.inputs[e].tapScriptSig=[]),n.inputs[e].tapScriptSig.push(t),n.sanityCheck(),this.pset.globals=n.globals,this.pset.inputs=n.inputs,this.pset.outputs=n.outputs,this}addInTapLeafScript(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let r=this.pset.copy();return r.inputs[e].tapLeafScript||(r.inputs[e].tapLeafScript=[]),r.inputs[e].tapLeafScript.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");if(33!==t.pubkey.length)throw Error("Invalid input taproot pubkey length");let r=this.pset.copy();if(r.inputs[e].tapBip32Derivation||(r.inputs[e].tapBip32Derivation=[]),r.inputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated taproot bip32 derivation pubkey");return r.inputs[e].tapBip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapInternalKey(e,t){if(e<0||e>this.pset.globals.inputCount)throw Error("Input index out of range");if(32!==t.length)throw Error("Invalid taproot internal key length");if(this.pset.inputs[e].tapInternalKey&&this.pset.inputs[e].tapInternalKey.length>0)throw Error("Duplicated taproot internal key");let r=this.pset.copy();return r.inputs[e].tapInternalKey=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addInTapMerkleRoot(e,t){if(e<0||e>this.pset.globals.inputCount)throw Error("Input index out of range");if(32!==t.length)throw Error("Invalid taproot merkle root length");if(this.pset.inputs[e].tapMerkleRoot&&this.pset.inputs[e].tapMerkleRoot.length>0)throw Error("Duplicated taproot merkle root");let r=this.pset.copy();return r.inputs[e].tapMerkleRoot=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");if(33!==t.pubkey.length)throw Error("Invalid pubkey length");let r=this.pset.copy();if(r.outputs[e].bip32Derivation||(r.outputs[e].bip32Derivation=[]),r.outputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated bip32 derivation pubkey");return r.outputs[e].bip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutRedeemScript(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");let r=this.pset.copy();return r.outputs[e].redeemScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutWitnessScript(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");let r=this.pset.copy();return r.outputs[e].witnessScript=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutTapInternalKey(e,t){if(e<0||e>this.pset.globals.outputCount)throw Error("Output index out of range");if(32!==t.length)throw Error("Invalid taproot internal key length");if(this.pset.outputs[e].tapInternalKey&&this.pset.outputs[e].tapInternalKey.length>0)throw Error("Duplicated taproot internal key");let r=this.pset.copy();return r.outputs[e].tapInternalKey=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutTapTree(e,t){if(e<0||e>this.pset.globals.outputCount)throw Error("Output index out of range");if(this.pset.outputs[e].tapTree)throw Error("Duplicated taproot tree");let r=this.pset.copy();return r.outputs[e].tapTree=t,r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}addOutTapBIP32Derivation(e,t){if(e<0||e>=this.pset.globals.outputCount)throw Error("Output index out of range");if(33!==t.pubkey.length)throw Error("Invalid output taproot pubkey length");let r=this.pset.copy();if(r.outputs[e].tapBip32Derivation||(r.outputs[e].tapBip32Derivation=[]),r.outputs[e].bip32Derivation.some(({pubkey:e})=>e.equals(t.pubkey)))throw Error("Duplicated taproot bip32 derivation pubkey");return r.outputs[e].tapBip32Derivation.push(t),r.sanityCheck(),this.pset.globals=r.globals,this.pset.inputs=r.inputs,this.pset.outputs=r.outputs,this}validateIssuanceInput(e){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let t=this.pset.inputs[e];if(t.issuanceAssetEntropy&&t.issuanceAssetEntropy.length>0)throw Error("Input "+e+" already has an issuance")}validateReissuanceInput(e){if(e<0||e>=this.pset.globals.inputCount)throw Error("Input index out of range");let t=this.pset.inputs[e];if(t.issuanceAssetEntropy&&t.issuanceAssetEntropy.length>0)throw Error(`Input ${e} already has an issuance`);let r=t.getUtxo();if(!r)throw Error("Input is missing prevout (non-)witness utxo");if(r.nonce.length<=1)throw Error("Input prevout (non-)witness utxo must be confidential")}}function p(e){let t=e.assetAmount||0,r=e.tokenAmount||0;if(t<=0&&r<=0)throw Error("Either asset or token amounts must be a positive number");if(t>0&&(!e.assetAddress||0===e.assetAddress.length))throw Error("Asset address must be defined if asset amount is non-zero");if(r>0&&(!e.tokenAddress||0===e.tokenAddress.length))throw Error("Token address must be defined if token amount is non-zero");if(!g(e.assetAddress,e.tokenAddress))throw Error("Asset and token addresses must be of same network and both unconfidential or confidential")}function d(e){let t="string"==typeof e.entropy?i.from(e.entropy,"hex").reverse():e.entropy;if(32!==t.length)throw Error("Invalid entropy length");let r="string"==typeof e.tokenAssetBlinder?i.from(e.tokenAssetBlinder,"hex").reverse():e.tokenAssetBlinder;if(32!==r.length)throw Error("Invalid token asset blinder length");if(e.assetAmount<=0)throw Error("Asset amount must be a positive number");if(e.tokenAmount<=0)throw Error("Token amount must be a positive number");if(0===e.assetAddress.length)throw Error("Missing asset address");if(0===e.tokenAddress.length)throw Error("Missing token address");if(!g(e.assetAddress,e.tokenAddress))throw Error("Asset and token addresses must be both of same network and both confidential");if(!(0,s.isConfidential)(e.assetAddress))throw Error("Asset and token addresses must be both confidential")}function g(e,t){if(!e||0===e.length||!t||0===t.length)return!0;let r=(0,s.getNetwork)(e),i=(0,s.getNetwork)(t);if(r.name!==i.name)return!1;let n=(0,s.isConfidential)(e),o=(0,s.isConfidential)(t);return n===o}function b(e){if(33!==e.pubkey.length)throw Error("Invalid pubkey length");f.signature.decode(e.signature)}t.Updater=h},93592:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.pubkeyPositionInScript=t.isP2TR=t.isP2SH=t.isP2WSH=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=t.classifyScript=t.scriptWitnessToWitnessStack=t.witnessStackToScriptWitness=t.hasSigs=t.getPayment=void 0;let s=a(r(61798)),u=r(84434),l=r(39831),c=r(66438),f=r(75961),h=a(r(14627));function p(e,t,r){switch(t){case"multisig":let i=g(e,r);return u.payments.p2ms({output:e,signatures:i});case"pubkey":return u.payments.p2pk({output:e,signature:r[0].signature});case"pubkeyhash":return u.payments.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});case"witnesspubkeyhash":return u.payments.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});default:throw Error("unknown script")}}function d(e,t,r){let i;if(!t)return!1;if((i=r?r.map(e=>{let r=m(e);return t.find(e=>e.pubkey.equals(r))}).filter(e=>!!e):t).length>e)throw Error("Too many signatures");return i.length===e}function g(e,t){let r=u.payments.p2ms({output:e});return r.pubkeys.map(e=>(t.filter(t=>t.pubkey.equals(e))[0]||{}).signature).filter(e=>!!e)}function b(e){var t;let r=i.allocUnsafe(0);function n(e){r=i.concat([r,i.from(e)])}function o(e){let t=r.length,n=l.varuint.encodingLength(e);r=i.concat([r,i.allocUnsafe(n)]),l.varuint.encode(e,r,t)}function a(e){o(e.length),n(e)}return o((t=e).length),t.forEach(a),r}function y(e){let t=0;function r(r){return t+=r,e.slice(t-r,t)}function i(){let r=l.varuint.decode(e,t);return t+=l.varuint.decode.bytes,r}function n(){return r(i())}return function(){let e=i(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function m(e){if(65===e.length){let t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}function v(e){return(0,t.isP2WPKH)(e)?"witnesspubkeyhash":(0,t.isP2PKH)(e)?"pubkeyhash":(0,t.isP2MS)(e)?"multisig":(0,t.isP2PK)(e)?"pubkey":"nonstandard"}function w(e){return t=>{try{return e({output:t}),!0}catch(r){return!1}}}t.getPayment=p,t.hasSigs=d,t.witnessStackToScriptWitness=b,t.scriptWitnessToWitnessStack=y,t.classifyScript=v,t.isP2MS=w(u.payments.p2ms),t.isP2PK=w(u.payments.p2pk),t.isP2PKH=w(u.payments.p2pkh),t.isP2WPKH=w(u.payments.p2wpkh),t.isP2WSH=w(u.payments.p2wsh),t.isP2SH=w(u.payments.p2sh);let E=e=>e[0]===f.OPS.OP_1;function _(e,t){let r=(0,c.hash160)(e),i=e.slice(1,33),n=h.decompile(t);if(null===n)throw Error("Unknown script error");return n.findIndex(t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)||t.equals(i)))}function S(e){void 0===e&&(e={});let t=e.rng||s.default;return t(32)}t.isP2TR=E,t.pubkeyPositionInScript=_,t.randomBytes=S},70181:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ZKPGenerator=t.ZKPValidator=void 0;let n=r(56196),o=r(76235),a=r(79746),s=r(93592);class u{constructor(e){this.confidential=new n.Confidential(e)}verifyValueRangeProof(e,t,r,i){try{return this.confidential.rangeProofVerify(e,t,r,i)}catch(n){return!1}}verifyAssetSurjectionProof(e,t,r,i,n){try{return this.confidential.surjectionProofVerify(e,t,r,i,n)}catch(o){return!1}}verifyBlindValueProof(e,t,r){try{return this.confidential.rangeProofVerify(e,t,r)}catch(i){return!1}}verifyBlindAssetProof(e,t,r){try{return this.confidential.assetBlindProofVerify(e,t,r)}catch(i){return!1}}}t.ZKPValidator=u;class l{constructor(e,...t){for(let r of(this.zkp=e,this.confidential=new n.Confidential(e),t))r(this)}static WithBlindingKeysOfInputs(e){return t=>{t.inBlindingKeys=e}}static WithMasterBlindingKey(e){return t=>{t.masterBlindingKey=e}}static WithOwnedInputs(e){return t=>{t.ownedInputs=e}}computeAndAddToScalarOffset(e,t,r,i){if(r.equals(o.ZERO)&&i.equals(o.ZERO))return e.slice();let n=this.calculateScalarOffset(t,r,i);if(e.equals(o.ZERO))return n;let{ec:a}=this.zkp,s=a.prvkeyNegate(n);return e.equals(s)?o.ZERO:a.prvkeyTweakAdd(e,n)}subtractScalars(e,t){if(t.equals(o.ZERO))return e.slice();let{ec:r}=this.zkp,i=r.prvkeyNegate(t);return e.equals(o.ZERO)?i:r.prvkeyTweakAdd(e,i)}lastValueCommitment(e,t,r){return this.confidential.valueCommitment(e,t,r)}lastBlindValueProof(e,t,r,i){let n=(0,s.randomBytes)(this.opts);return this.confidential.blindValueProof(e,t,r,i,n)}lastValueRangeProof(e,t,r,i,n,o,a){return this.confidential.rangeProof(e,a,t,n,i,r,o)}unblindInputs(e,t){c(e),t&&f(e,t);let r=t||Array.from({length:e.globals.inputCount},(e,t)=>t);if(this.ownedInputs&&this.ownedInputs.length>0)return this.ownedInputs;let i=r.map(t=>{let r=e.inputs[t].getUtxo(),i=this.unblindUtxo(r);return i.index=t,i});return this.ownedInputs=i,i}blindIssuances(e,t){return c(e),p(e,t),Object.entries(t).map(([t,r])=>{let n=e.inputs[parseInt(t,10)],a={};if(n.issuanceValue>0){let u=n.issuanceValue.toString(10),l=n.getIssuanceAssetHash(),c=(0,s.randomBytes)(this.opts),f=this.confidential.assetCommitment(l,o.ZERO),h=this.confidential.valueCommitment(u,f,c),p=(0,s.randomBytes)(this.opts),d=this.confidential.blindValueProof(u,h,f,c,p),g=this.confidential.rangeProof(u,r,l,o.ZERO,c,h,i.from([]));a={...a,index:parseInt(t,10),issuanceAsset:l,issuanceValueCommitment:h,issuanceValueRangeProof:g,issuanceValueBlindProof:d,issuanceValueBlinder:c}}if(n.issuanceInflationKeys>0){let b=n.issuanceInflationKeys.toString(10),y=n.getIssuanceInflationKeysHash(!0),m=(0,s.randomBytes)(this.opts),v=this.confidential.assetCommitment(y,o.ZERO),w=this.confidential.valueCommitment(b,v,m),E=(0,s.randomBytes)(this.opts),_=this.confidential.blindValueProof(b,w,v,m,E),S=this.confidential.rangeProof(b,r,y,o.ZERO,m,w,i.from([]));a={...a,issuanceToken:y,issuanceTokenCommitment:w,issuanceTokenRangeProof:S,issuanceTokenBlindProof:_,issuanceTokenBlinder:m}}return a})}blindOutputs(e,t,r,n){c(e),r&&h(e,r),n&&n.length>0&&d(e,n);let o=r&&r.length>0?r:e.outputs.reduce((e,t,r)=>(t.needsBlinding()&&e.push(r),e),[]),{assets:a,assetBlinders:u}=this.getInputAssetsAndBlinders(e,n);return o.map(r=>{let n=e.outputs[r],o=(0,s.randomBytes)(this.opts),l=(0,s.randomBytes)(this.opts),c=(0,s.randomBytes)(this.opts),f=n.value.toString(10),h=this.confidential.assetCommitment(n.asset,o),p=this.confidential.valueCommitment(f,h,l),d=t(),g=d.publicKey,b=this.confidential.nonceHash(n.blindingPubkey,d.privateKey),y=n.script||i.from([]),m=this.confidential.rangeProof(f,b,n.asset,o,l,p,y),v=this.confidential.surjectionProof(n.asset,o,a,u,c),w=(0,s.randomBytes)(this.opts),E=this.confidential.blindValueProof(f,p,h,l,w),_=this.confidential.blindAssetProof(n.asset,h,o);return{index:r,nonce:b,nonceCommitment:g,valueCommitment:p,assetCommitment:h,valueRangeProof:m,assetSurjectionProof:v,valueBlindProof:E,assetBlindProof:_,valueBlinder:l,assetBlinder:o}})}calculateScalarOffset(e,t,r){if(t.equals(o.ZERO)||"0"===e)return r.slice();let{ec:n}=this.zkp,a=i.alloc(32,0);a.writeBigUInt64BE(BigInt(e),24);let s=n.prvkeyTweakMul(t,a);if(0===r.length)throw Error("Missing value blinder");let u=n.prvkeyNegate(r);return u.equals(s)?o.ZERO:n.prvkeyTweakAdd(s,r)}unblindUtxo(e){if(1===e.nonce.length)return{index:0,value:a.ElementsValue.fromBytes(e.value).number.toString(10),asset:e.asset.slice(1),valueBlindingFactor:o.ZERO,assetBlindingFactor:o.ZERO};if(!this.inBlindingKeys&&!this.masterBlindingKey)throw Error("Missing either input private blinding keys or SLIP-77 master blinding key");let t=this.inBlindingKeys?this.inBlindingKeys:[this.masterBlindingKey.derive(e.script).privateKey];for(let r of t)try{let i=this.confidential.unblindOutputWithKey(e,r);return{index:0,value:i.value,asset:i.asset,valueBlindingFactor:i.valueBlindingFactor,assetBlindingFactor:i.assetBlindingFactor}}catch(n){}throw Error("Could not unblind output with any blinding key")}getInputAssetsAndBlinders(e,t){let r=this.maybeUnblindInUtxos(e);e.inputs.forEach((e,n)=>{if((e.hasIssuance()||e.hasReissuance())&&(r.push({value:"",valueBlindingFactor:i.from([]),asset:e.getIssuanceAssetHash(),assetBlindingFactor:o.ZERO}),e.issuanceInflationKeys>0)){let a=t&&void 0!==t.find(({index:e})=>e===n);r.push({value:"",valueBlindingFactor:i.from([]),asset:e.getIssuanceInflationKeysHash(a),assetBlindingFactor:o.ZERO})}});let n=[],a=[];return r.forEach(({asset:e,assetBlindingFactor:t})=>{n.push(e),a.push(t)}),{assets:n,assetBlinders:a}}maybeUnblindInUtxos(e){if(this.ownedInputs&&this.ownedInputs.length>0)return e.inputs.map((e,t)=>{let r=this.ownedInputs.find(({index:e})=>e===t);return r?{value:"",valueBlindingFactor:i.from([]),asset:r.asset,assetBlindingFactor:r.assetBlindingFactor}:{value:"",valueBlindingFactor:i.from([]),asset:e.getUtxo().asset,assetBlindingFactor:o.ZERO}});if(!this.inBlindingKeys&&!this.masterBlindingKey)throw Error("Missing either input private blinding keys or SLIP-77 master blinding key");return e.inputs.map(e=>{let t=e.getUtxo();try{let r=this.unblindUtxo(t);return{value:r.value,asset:r.asset,valueBlindingFactor:r.valueBlindingFactor,assetBlindingFactor:r.assetBlindingFactor}}catch(n){return{value:"",asset:t.asset,valueBlindingFactor:i.from([]),assetBlindingFactor:o.ZERO}}})}}function c(e){e.sanityCheck(),e.inputs.forEach((e,t)=>{if(!e.getUtxo())throw Error("Missing (non-)witness utxo for input "+t)})}function f(e,t){t.length>0&&t.forEach(t=>{if(t<0||t>=e.globals.inputCount)throw Error("Input index out of range")})}function h(e,t){t.length>0&&t.forEach(t=>{if(t<0||t>=e.globals.outputCount)throw Error("Output index out of range")})}function p(e,t){Object.entries(t).forEach(([t,r])=>{let i=parseInt(t,10);if(i<0||i>=e.globals.inputCount)throw Error("Input index out of range");if(!e.inputs[i].hasIssuance()&&!e.inputs[i].hasReissuance())throw Error("Input does not have any issuance or reissuance to blind");if(32!==r.length)throw Error("Invalid private blinding key length for input "+i)})}function d(e,t){t.length>0&&t.forEach(t=>{if(t.index<0||t.index>=e.globals.inputCount)throw Error("Input index of blinded issuance is out of range")})}t.ZKPGenerator=l},24457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;let i=r(75961);function n(e){return e<i.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function o(e,t,r){let o=n(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(i.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(i.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(i.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o}function a(e,t){let r,n;let o=e.readUInt8(t);if(o<i.OPS.OP_PUSHDATA1)r=o,n=1;else if(o===i.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(o===i.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(o!==i.OPS.OP_PUSHDATA4)throw Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:o,number:r,size:n}}t.encodingLength=n,t.encode=o,t.decode=a},14627:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.isPushOnly=t.OPS=void 0;let s=a(r(52869)),u=r(75961);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return u.OPS}});let l=a(r(24457)),c=a(r(26251)),f=a(r(78942)),h=a(r(63145)),{typeforce:p}=h,d=u.OPS.OP_RESERVED;function g(e){return h.Number(e)&&(e===u.OPS.OP_0||e>=u.OPS.OP_1&&e<=u.OPS.OP_16||e===u.OPS.OP_1NEGATE)}function b(e){return h.Buffer(e)||g(e)}function y(e){return h.Array(e)&&e.every(b)}function m(e){if(0===e.length)return u.OPS.OP_0;if(1===e.length){if(e[0]>=1&&e[0]<=16)return d+e[0];if(129===e[0])return u.OPS.OP_1NEGATE}}function v(e){return i.isBuffer(e)}function w(e){return h.Array(e)}function E(e){return i.isBuffer(e)}function _(e){if(v(e))return e;p(h.Array,e);let t=e.reduce((e,t)=>E(t)?1===t.length&&void 0!==m(t)?e+1:e+l.encodingLength(t.length)+t.length:e+1,0),r=i.allocUnsafe(t),n=0;if(e.forEach(e=>{if(E(e)){let t=m(e);if(void 0!==t){r.writeUInt8(t,n),n+=1;return}n+=l.encode(r,e.length,n),e.copy(r,n),n+=e.length}else r.writeUInt8(e,n),n+=1}),n!==r.length)throw Error("Could not decode chunks");return r}function S(e){if(w(e))return e;p(h.Buffer,e);let t=[],r=0;for(;r<e.length;){let i=e[r];if(i>u.OPS.OP_0&&i<=u.OPS.OP_PUSHDATA4){let n=l.decode(e,r);if(null===n||(r+=n.size)+n.number>e.length)return null;let o=e.slice(r,r+n.number);r+=n.number;let a=m(o);void 0!==a?t.push(a):t.push(o)}else t.push(i),r+=1}return t}function I(e){return v(e)&&(e=S(e)),e.map(e=>{if(E(e)){let t=m(e);if(void 0===t)return e.toString("hex");e=t}return u.REVERSE_OPS[e]}).join(" ")}function P(e){return p(h.String,e),_(e.split(" ").map(e=>void 0!==u.OPS[e]?u.OPS[e]:(p(h.Hex,e),i.from(e,"hex"))))}function k(e){return p(y,e=S(e)),e.map(e=>E(e)?e:e===u.OPS.OP_0?i.allocUnsafe(0):c.encode(e-d))}function T(e){return h.isPoint(e)}function O(e){let t=-129&e;return t>0&&t<4}function A(e){return!!(i.isBuffer(e)&&O(e[e.length-1]))&&s.check(e.slice(0,-1))}t.isPushOnly=y,t.compile=_,t.decompile=S,t.toASM=I,t.fromASM=P,t.toStack=k,t.isCanonicalPubKey=T,t.isDefinedHashType=O,t.isCanonicalScriptSignature=A,t.number=c,t.signature=f},26251:function(e,t,r){"use strict";var i=r(21876).Buffer;function n(e,t,r){t=t||4,r=void 0===r||r;let i=e.length;if(0===i)return 0;if(i>t)throw TypeError("Script number overflow");if(r&&(127&e[i-1])==0&&(i<=1||(128&e[i-2])==0))throw Error("Non-minimally encoded script number");if(5===i){let n=e.readUInt32LE(0),o=e.readUInt8(4);return 128&o?-((-129&o)*4294967296+n):4294967296*o+n}let a=0;for(let s=0;s<i;++s)a|=e[s]<<8*s;return 128&e[i-1]?-(a&~(128<<8*(i-1))):a}function o(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function a(e){let t=Math.abs(e),r=o(t),n=i.allocUnsafe(r),a=e<0;for(let s=0;s<r;++s)n.writeUInt8(255&t,s),t>>=8;return 128&n[r-1]?n.writeUInt8(a?128:0,r-1):a&&(n[r-1]|=128),n}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=n,t.encode=a},78942:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;let s=a(r(52869)),u=a(r(63145)),{typeforce:l}=u,c=i.alloc(1,0);function f(e){let t=0;for(;0===e[t];)++t;return t===e.length?c:128&(e=e.slice(t))[0]?i.concat([c,e],1+e.length):e}function h(e){0===e[0]&&(e=e.slice(1));let t=i.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}function p(e){let t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw Error("Invalid hashType "+t);let n=s.decode(e.slice(0,-1)),o=h(n.r),a=h(n.s),u=i.concat([o,a],64);return{signature:u,hashType:t}}function d(e,t){l({signature:u.BufferN(64),hashType:u.UInt8},{signature:e,hashType:t});let r=-129&t;if(r<=0||r>=4)throw Error("Invalid hashType "+t);let n=i.allocUnsafe(1);n.writeUInt8(t,0);let o=f(e.slice(0,32)),a=f(e.slice(32,64));return i.concat([s.encode(o,a),n])}t.decode=p,t.encode=d},73694:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.sha256Midstate=t.hash=t.Hash=t.blockSize=t.digestLength=void 0,t.digestLength=32,t.blockSize=64;let n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(e,t,r,i,o){let a,s,u,l,c,f,h,p,d,g,b,y,m;for(;o>=64;){for(g=0,a=t[0],s=t[1],u=t[2],l=t[3],c=t[4],f=t[5],h=t[6],p=t[7];g<16;g++)b=i+4*g,e[g]=(255&r[b])<<24|(255&r[b+1])<<16|(255&r[b+2])<<8|255&r[b+3];for(g=16;g<64;g++)y=((d=e[g-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,m=((d=e[g-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,e[g]=(y+e[g-7]|0)+(m+e[g-16]|0);for(g=0;g<64;g++)y=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&h)|0)+(p+(n[g]+e[g]|0)|0)|0,m=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&s^a&u^s&u)|0,p=h,h=f,f=c,c=l+y|0,l=u,u=s,s=a,a=y+m|0;t[0]+=a,t[1]+=s,t[2]+=u,t[3]+=l,t[4]+=c,t[5]+=f,t[6]+=h,t[7]+=p,i+=64,o-=64}return i}class a{constructor(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.finished=!1,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(e,t=e.length){if(this.finished)throw Error("SHA256: can't update because hash was finished.");let r=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=e[r++],t--;64===this.bufferLength&&(o(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(r=o(this.temp,this.state,e,r,t),t%=64);t>0;)this.buffer[this.bufferLength++]=e[r++],t--;return this}finish(e){if(!this.finished){let t=this.bytesHashed,r=this.bufferLength,i=t/536870912|0,n=t<<3,a=t%64<56?64:128;this.buffer[r]=128;for(let s=r+1;s<a-8;s++)this.buffer[s]=0;this.buffer[a-8]=i>>>24&255,this.buffer[a-7]=i>>>16&255,this.buffer[a-6]=i>>>8&255,this.buffer[a-5]=i>>>0&255,this.buffer[a-4]=n>>>24&255,this.buffer[a-3]=n>>>16&255,this.buffer[a-2]=n>>>8&255,this.buffer[a-1]=n>>>0&255,o(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(let u=0;u<8;u++)e[4*u+0]=this.state[u]>>>24&255,e[4*u+1]=this.state[u]>>>16&255,e[4*u+2]=this.state[u]>>>8&255,e[4*u+3]=this.state[u]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let t=0;t<this.state.length;t++)e[t]=this.state[t]}_restoreState(e,t){for(let r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}}function s(e){let t=new a().update(e),r=t.digest();return t.clean(),r}function u(e){let r=e;e.length>t.blockSize&&(r=e.slice(0,t.blockSize));let n=new a;n.reset(),n.update(Uint8Array.from(r));let o=i.alloc(t.digestLength);for(let s=0;s<8;s++)o[4*s+0]=n.state[s]>>>24&255,o[4*s+1]=n.state[s]>>>16&255,o[4*s+2]=n.state[s]>>>8&255,o[4*s+3]=n.state[s]>>>0&255;return o}t.Hash=a,t.hash=s,t.sha256Midstate=u},76235:function(e,t,r){"use strict";var i=r(21876).Buffer,n=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.ZERO=void 0;let s=r(39831),u=a(r(66438)),l=a(r(14627)),c=r(14627),f=a(r(63145)),{typeforce:h}=f,p=i.allocUnsafe(0),d=[];t.ZERO=i.from("0000000000000000000000000000000000000000000000000000000000000000","hex");let g=i.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),b=4,y=2147483648,m=1073741824,v=1073741823,w=4294967295,E=i.from("ffffffffffffffff","hex"),_={script:p,asset:t.ZERO,nonce:t.ZERO,valueBuffer:E};class S{constructor(){this.version=1,this.locktime=0,this.flag=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){let r=new s.BufferReader(e),i=new S;i.version=r.readInt32(),i.flag=r.readUInt8();let n=!1;i.flag&S.ADVANCED_TRANSACTION_FLAG&&(n=!0);let o=r.readVarInt();for(let a=0;a<o;++a){let u;let l=r.readSlice(32),c=r.readUInt32(),f=r.readVarSlice(),h=r.readUInt32(),g=!1;c!==w&&(c&y&&(u=r.readIssuance()),c&m&&(g=!0),c&=v),i.ins.push({hash:l,index:c,script:f,sequence:h,witness:d,isPegin:g,issuance:u,peginWitness:d,issuanceRangeProof:p,inflationRangeProof:p})}let b=r.readVarInt();for(let E=0;E<b;++E){let _=r.readConfidentialAsset(),I=r.readConfidentialValue(),P=r.readConfidentialNonce(),k=r.readVarSlice();i.outs.push({asset:_,value:I,nonce:P,script:k,rangeProof:p,surjectionProof:p})}if(i.locktime=r.readUInt32(),n){for(let T=0;T<o;++T){let{witness:O,peginWitness:A,issuanceRangeProof:x,inflationRangeProof:N}=r.readConfidentialInFields();i.ins[T].witness=O,i.ins[T].peginWitness=A,i.ins[T].issuanceRangeProof=x,i.ins[T].inflationRangeProof=N}for(let R=0;R<b;++R){let{rangeProof:B,surjectionProof:C}=r.readConfidentialOutFields();i.outs[R].rangeProof=B,i.outs[R].surjectionProof=C}}if(t)return i;if(r.offset!==e.length)throw Error("Transaction has unexpected data");return i}static fromHex(e){return S.fromBuffer(i.from(e,"hex"),!1)}static isCoinbaseHash(e){h(f.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&S.isCoinbaseHash(this.ins[0].hash)}validateIssuance(e,t,r,i){return h(f.Hash256bit,e),h(f.Hash256bit,t),h(f.oneOf(f.ConfidentialValue,f.ConfidentialCommitment,f.BufferOne),r),h(f.oneOf(f.ConfidentialValue,f.ConfidentialCommitment,f.BufferOne),i),!0}addInput(e,t,r,i,n){h(f.tuple(f.Hash256bit,f.UInt32,f.maybe(f.UInt32),f.maybe(f.Buffer),f.maybe(f.Object)),arguments);let o=!1;if(t!==w){if(t&y){if(n)this.validateIssuance(n.assetBlindingNonce,n.assetEntropy,n.assetAmount,n.tokenAmount);else throw Error("Issuance flag has been set but the Issuance object is not defined or invalid")}t&m&&(o=!0),t&=v}return this.ins.push({hash:e,index:t,isPegin:o,issuance:n,script:i||p,witness:d,peginWitness:d,issuanceRangeProof:p,inflationRangeProof:p,sequence:r||S.DEFAULT_SEQUENCE})-1}addOutput(e,t,r,i,n,o){return h(f.tuple(f.Buffer,f.oneOf(f.ConfidentialValue,f.ConfidentialCommitment),f.AssetBufferWithFlag,f.oneOf(f.ConfidentialCommitment,f.BufferOne),f.maybe(f.Buffer),f.maybe(f.Buffer)),arguments),this.outs.push({script:e,value:t,asset:r,nonce:i||p,rangeProof:n||p,surjectionProof:o||p})-1}hasWitnesses(){return 1===this.flag||this.ins.some(e=>0!==e.witness.length)||this.outs.some(e=>0!==e.rangeProof.length&&0!==e.surjectionProof.length)}weight(){let e=this.__byteLength(!1),t=this.__byteLength(!0);return e*(b-1)+t}virtualSize(){let e=(this.weight()+b-1)/b;return Math.floor(e)}byteLength(e){return this.__byteLength(e||!0)}clone(){let e=new S;return e.version=this.version,e.locktime=this.locktime,e.flag=this.flag,e.ins=this.ins.map(e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness,isPegin:e.isPegin,issuance:e.issuance,peginWitness:e.peginWitness,issuanceRangeProof:e.issuanceRangeProof,inflationRangeProof:e.inflationRangeProof})),e.outs=this.outs.map(e=>({script:e.script,value:e.value,asset:e.asset,nonce:e.nonce,rangeProof:e.rangeProof,surjectionProof:e.surjectionProof})),e}hashForSignature(e,t,r){if(h(f.tuple(f.UInt32,f.Buffer,f.Number),arguments),e>=this.ins.length)return g;let n=l.compile(l.decompile(t).filter(e=>e!==c.OPS.OP_CODESEPARATOR)),o=this.clone();if((31&r)===S.SIGHASH_NONE)o.outs=[],o.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)});else if((31&r)===S.SIGHASH_SINGLE){if(e>=this.outs.length)return g;o.outs.length=e+1;for(let a=0;a<e;a++)o.outs[a]=_;o.ins.forEach((t,r)=>{r!==e&&(t.sequence=0)})}r&S.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[e]],o.ins[0].script=n):(o.ins.forEach(e=>{e.script=p}),o.ins[e].script=n);let s=i.allocUnsafe(o.__byteLength(!1,!0)+4);return s.writeInt32LE(r,s.length-4),o.__toBuffer(s,0,!1,!0,!0),u.hash256(s)}hashForWitnessV1(e,t,r,n,o,a,l){if(h(f.tuple(f.UInt32,h.arrayOf(f.Buffer),h.arrayOf(f.Object),f.UInt32),arguments),t.length!==this.ins.length)throw Error("Must supply prevout script and value for all inputs");let c=n===S.SIGHASH_DEFAULT?S.SIGHASH_ALL:n&S.SIGHASH_OUTPUT_MASK,d=n&S.SIGHASH_INPUT_MASK,g=d===S.SIGHASH_ANYONECANPAY,b=c===S.SIGHASH_NONE,y=c===S.SIGHASH_SINGLE,m=p,v=p,w=p,E=p,_=p,U=p,M=p,j=p,L=p;if(g||(m=x(this.ins),U=O(this.ins),L=k(r),M=P(this.ins),_=N(t),v=R(this.ins),E=B(this.ins)),b||y){if(y&&e<this.outs.length){let K=this.outs[e];w=C([K]),j=I([K])}}else w=C(this.outs),j=I(this.outs);let D=(a?2:0)+(l?1:0),H=g?37+r[e].asset.length+r[e].value.length+(0,s.varSliceSize)(t[e])+4+(this.ins[e].issuance?A(this.ins[e]):1):4,z=74+H,F=z+(g?0:224)+(b||y?0:64)+(l?32:0)+(y?64:0)+(a?37:0),V=s.BufferWriter.withCapacity(F);if(V.writeSlice(o),V.writeSlice(o),V.writeUInt8(n),V.writeInt32(this.version),V.writeUInt32(this.locktime),g||(V.writeSlice(U),V.writeSlice(m),V.writeSlice(L),V.writeSlice(_),V.writeSlice(v),V.writeSlice(E),V.writeSlice(M)),b||y||(V.writeSlice(w),V.writeSlice(j)),V.writeUInt8(D),g){let q=this.ins[e];if(V.writeUInt8(T(q)),V.writeSlice(q.hash),V.writeUInt32(q.index),V.writeSlice(r[e].asset),V.writeSlice(r[e].value),V.writeVarSlice(t[e]),V.writeUInt32(q.sequence),q.issuance){V.writeSlice(q.issuance.assetBlindingNonce),V.writeSlice(q.issuance.assetEntropy),V.writeSlice(q.issuance.assetAmount),V.writeSlice(q.issuance.tokenAmount);let W=s.BufferWriter.withCapacity((0,s.varSliceSize)(q.issuanceRangeProof)+(0,s.varSliceSize)(q.inflationRangeProof));W.writeVarSlice(q.issuanceRangeProof||i.of(0)),W.writeVarSlice(q.inflationRangeProof||i.of(0));let G=u.sha256(W.end());V.writeSlice(G)}else V.writeSlice(i.of(0))}else V.writeUInt32(e);if(l){let X=s.BufferWriter.withCapacity((0,s.varSliceSize)(l));X.writeVarSlice(l),V.writeSlice(u.sha256(X.end()))}return y&&(V.writeSlice(w),V.writeSlice(j)),a&&(V.writeSlice(a),V.writeUInt8(0),V.writeUInt32(4294967295)),u.taggedHash("TapSighash/elements",V.end())}hashForWitnessV0(e,r,n,o){h(f.tuple(f.UInt32,f.Buffer,f.Buffer,f.UInt32),arguments);let a=t.ZERO,l=t.ZERO,c=t.ZERO,p=t.ZERO;if(!(o&S.SIGHASH_ANYONECANPAY)){let d=s.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(e=>{d.writeSlice(e.hash),d.writeUInt32(e.index)}),l=u.hash256(d.end())}if(!(o&S.SIGHASH_ANYONECANPAY)&&(31&o)!==S.SIGHASH_SINGLE&&(31&o)!==S.SIGHASH_NONE){let g=s.BufferWriter.withCapacity(4*this.ins.length);this.ins.forEach(e=>{g.writeUInt32(e.sequence)}),c=u.hash256(g.end())}if(!(o&S.SIGHASH_ANYONECANPAY)){let b=this.ins.reduce((e,t)=>t.issuance?e+A(t):e+1,0),y=0===b?this.ins.length:b,m=s.BufferWriter.withCapacity(y);this.ins.forEach(e=>{e.issuance?(m.writeSlice(e.issuance.assetBlindingNonce),m.writeSlice(e.issuance.assetEntropy),m.writeSlice(e.issuance.assetAmount),m.writeSlice(e.issuance.tokenAmount)):m.writeSlice(i.of(0))}),p=u.hash256(m.end())}if((31&o)!==S.SIGHASH_SINGLE&&(31&o)!==S.SIGHASH_NONE){let v=this.outs.reduce((e,t)=>e+t.asset.length+t.value.length+t.nonce.length+(0,s.varSliceSize)(t.script),0),w=s.BufferWriter.withCapacity(v);this.outs.forEach(e=>{w.writeSlice(e.asset),w.writeSlice(e.value),w.writeSlice(e.nonce),w.writeVarSlice(e.script)}),a=u.hash256(w.end())}else if((31&o)===S.SIGHASH_SINGLE&&e<this.outs.length){let E=this.outs[e],_=E.asset.length+E.value.length+E.nonce.length+(0,s.varSliceSize)(E.script),I=s.BufferWriter.withCapacity(_);I.writeSlice(E.asset),I.writeSlice(E.value),I.writeSlice(E.nonce),I.writeVarSlice(E.script),a=u.hash256(I.end())}let P=this.ins[e],k=void 0!==P.issuance,T=4+l.length+c.length+p.length+P.hash.length+4+(0,s.varSliceSize)(r)+n.length+4+a.length+A(P)+4+4,O=s.BufferWriter.withCapacity(T);return O.writeUInt32(this.version),O.writeSlice(l),O.writeSlice(c),O.writeSlice(p),O.writeSlice(P.hash),O.writeUInt32(P.index),O.writeVarSlice(r),O.writeSlice(n),O.writeUInt32(P.sequence),k&&(O.writeSlice(P.issuance.assetBlindingNonce),O.writeSlice(P.issuance.assetEntropy),O.writeSlice(P.issuance.assetAmount),O.writeSlice(P.issuance.tokenAmount)),O.writeSlice(a),O.writeUInt32(this.locktime),O.writeUInt32(o),u.hash256(O.end())}getHash(e){return e&&this.isCoinbase()?i.alloc(32,0):u.hash256(this.__toBuffer(void 0,void 0,e,!0))}getId(){return(0,s.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0,!1)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){h(f.tuple(f.Number,[f.Buffer]),arguments),this.ins[e].witness=t}setPeginWitness(e,t){h(f.tuple(f.Number,[f.Buffer]),arguments),this.ins[e].peginWitness=t}setInputIssuanceRangeProof(e,t){if(h(f.tuple(f.Buffer),arguments),void 0===this.ins[e].issuance)throw Error("Issuance not set for input #"+e);this.ins[e].issuanceRangeProof=t}setInputInflationRangeProof(e,t){if(h(f.tuple(f.Buffer),arguments),void 0===this.ins[e].issuance)throw Error("Issuance not set for input #"+e);this.ins[e].inflationRangeProof=t}setOutputNonce(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.outs[e].nonce=t}setOutputRangeProof(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.outs[e].rangeProof=t}setOutputSurjectionProof(e,t){h(f.tuple(f.Number,f.Buffer),arguments),this.outs[e].surjectionProof=t}__byteLength(e,t){let r=t?0:1,i=8+r+s.varuint.encodingLength(this.ins.length)+s.varuint.encodingLength(this.outs.length);for(let n of this.ins)i+=40+(0,s.varSliceSize)(n.script),n.issuance&&(i+=64+n.issuance.assetAmount.length+n.issuance.tokenAmount.length);for(let o of this.outs)i+=o.asset.length+o.value.length+o.nonce.length+(0,s.varSliceSize)(o.script);if(e&&this.hasWitnesses()){for(let a of this.ins){for(let u of(i+=(0,s.varSliceSize)(a.issuanceRangeProof),i+=(0,s.varSliceSize)(a.inflationRangeProof),i+=s.varuint.encodingLength(a.witness.length),a.witness))i+=(0,s.varSliceSize)(u);for(let l of(i+=s.varuint.encodingLength((a.peginWitness||[]).length),a.peginWitness||[]))i+=(0,s.varSliceSize)(l)}for(let c of this.outs)i+=(0,s.varSliceSize)(c.surjectionProof),i+=(0,s.varSliceSize)(c.rangeProof)}return i}__toBuffer(e,t,r,n,o){e||(e=i.allocUnsafe(this.__byteLength(r,o)));let a=new s.BufferWriter(e,t||0);a.writeInt32(this.version);let u=r&&this.hasWitnesses();if(!o){let l=0;u&&!n&&(l|=S.ADVANCED_TRANSACTION_FLAG),a.writeUInt8(l)}return(a.writeVarInt(this.ins.length),this.ins.forEach(e=>{a.writeSlice(e.hash);let t=e.index;e.issuance&&(t=(t|y)>>>0),e.isPegin&&(t=(t|m)>>>0),a.writeUInt32(t),a.writeVarSlice(e.script),a.writeUInt32(e.sequence),e.issuance&&(a.writeSlice(e.issuance.assetBlindingNonce),a.writeSlice(e.issuance.assetEntropy),a.writeSlice(e.issuance.assetAmount),a.writeSlice(e.issuance.tokenAmount))}),a.writeVarInt(this.outs.length),this.outs.forEach(e=>{let t=o&&u?i.alloc(1):e.value;a.writeSlice(e.asset),a.writeSlice(t),a.writeSlice(e.nonce),o&&u&&a.writeUInt64(0),a.writeVarSlice(e.script)}),a.writeUInt32(this.locktime),!o&&u&&(this.ins.forEach(e=>{a.writeConfidentialInFields(e)}),this.outs.forEach(e=>{a.writeConfidentialOutFields(e)})),void 0!==t)?e.slice(t,a.offset):e}}function I(e){let t=e=>(0,s.varSliceSize)(e.rangeProof||i.alloc(0))+(0,s.varSliceSize)(e.surjectionProof||i.alloc(0)),r=e.reduce((e,r)=>e+t(r),0),n=s.BufferWriter.withCapacity(r);for(let o of e)n.writeVarSlice(o.surjectionProof||i.of(0)),n.writeVarSlice(o.rangeProof||i.of(0));return u.sha256(n.end())}function P(e){let t=e=>(0,s.varSliceSize)(e.issuanceRangeProof||i.alloc(1))+(0,s.varSliceSize)(e.inflationRangeProof||i.alloc(1)),r=e.reduce((e,r)=>e+t(r),0),n=s.BufferWriter.withCapacity(r);for(let o of e)n.writeVarSlice(o.issuanceRangeProof||i.of(0)),n.writeVarSlice(o.inflationRangeProof||i.of(0));return u.sha256(n.end())}function k(e){let t=e.reduce((e,t)=>e+t.asset.length+t.value.length,0),r=s.BufferWriter.withCapacity(t);for(let i of e)r.writeSlice(i.asset),r.writeSlice(i.value);return u.sha256(r.end())}function T(e){let t=void 0!==e.issuance;return(t?y>>>24:0)|(e.isPegin?m>>>24:0)}function O(e){let t=s.BufferWriter.withCapacity(e.length);for(let r of e)t.writeUInt8(T(r));return u.sha256(t.end())}function A(e){return e.issuance?e.issuance.assetBlindingNonce.length+e.issuance.assetEntropy.length+e.issuance.assetAmount.length+e.issuance.tokenAmount.length:0}function x(e){let t=s.BufferWriter.withCapacity(36*e.length);for(let r of e)t.writeSlice(r.hash),t.writeUInt32(r.index);return u.sha256(t.end())}function N(e){let t=s.BufferWriter.withCapacity(e.map(s.varSliceSize).reduce((e,t)=>e+t));return e.forEach(e=>t.writeVarSlice(e)),u.sha256(t.end())}function R(e){let t=s.BufferWriter.withCapacity(4*e.length);return e.forEach(e=>t.writeUInt32(e.sequence)),u.sha256(t.end())}function B(e){let t=e.reduce((e,t)=>t.issuance?e+A(t):e+1,0),r=0===t?e.length:t,n=s.BufferWriter.withCapacity(r);return e.forEach(e=>{e.issuance?(n.writeSlice(e.issuance.assetBlindingNonce),n.writeSlice(e.issuance.assetEntropy),n.writeSlice(e.issuance.assetAmount),n.writeSlice(e.issuance.tokenAmount)):n.writeSlice(i.of(0))}),u.sha256(n.end())}function C(e){let t=e.reduce((e,t)=>e+t.asset.length+t.value.length+t.nonce.length+(0,s.varSliceSize)(t.script),0),r=s.BufferWriter.withCapacity(t);return e.forEach(e=>{r.writeSlice(e.asset),r.writeSlice(e.value),r.writeSlice(e.nonce),r.writeVarSlice(e.script)}),u.sha256(r.end())}t.Transaction=S,S.DEFAULT_SEQUENCE=4294967295,S.SIGHASH_DEFAULT=0,S.SIGHASH_ALL=1,S.SIGHASH_NONE=2,S.SIGHASH_SINGLE=3,S.SIGHASH_ANYONECANPAY=128,S.SIGHASH_OUTPUT_MASK=3,S.SIGHASH_INPUT_MASK=128,S.ADVANCED_TRANSACTION_FLAG=1},63145:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Object=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.BufferOne=t.ConfidentialValue=t.AssetBuffer=t.AssetBufferWithFlag=t.ConfidentialCommitment=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;let i=r(21876);t.typeforce=r(2401);let n=i.Buffer.alloc(32,0),o=i.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function a(e){if(!i.Buffer.isBuffer(e)||e.length<33)return!1;let t=e[0],r=e.slice(1,33);if(0===r.compare(n)||r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;let a=e.slice(33);return!(0===a.compare(n)||a.compare(o)>=0)&&4===t&&65===e.length}t.isPoint=a;let s=2147483647;function u(e){return t.typeforce.UInt32(e)&&e<=s}function l(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function c(e){return(t.typeforce.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign}t.UInt31=u,t.BIP32Path=l,l.toJSON=()=>"BIP32 derivation path",t.Signer=c;let f=21*1e14;function h(e){return t.typeforce.UInt53(e)&&e<=f}function p(e){return!!(e&&"output"in e&&i.Buffer.isBuffer(e.output))&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version)}function d(e){return(0,t.Array)(e)?2===e.length&&e.every(e=>d(e)):p(e)}t.Satoshi=h,t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8,assetHash:t.typeforce.String,confidentialPrefix:t.typeforce.UInt8,name:t.typeforce.String}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=p,t.isTaptree=d,t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.ConfidentialCommitment=t.typeforce.BufferN(33),t.AssetBufferWithFlag=t.typeforce.BufferN(33),t.AssetBuffer=t.typeforce.BufferN(32),t.ConfidentialValue=t.typeforce.BufferN(9),t.BufferOne=t.typeforce.BufferN(1),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.Object=t.typeforce.Object,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},79746:function(e,t,r){"use strict";var i=r(21876).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ElementsValue=void 0;let n=r(39831);class o{constructor(e,t){this.prefix=e,this.value=t}static fromNumber(e){if(e<0)throw Error("Invalid negative number");let t=i.allocUnsafe(8);return(0,n.writeUInt64LE)(t,e,0),new o(this.UNCONFIDENTIAL_PREFIX,t.reverse())}static fromHex(e){let t=i.from(e,"hex");return this.fromBytes(t)}static fromBytes(e){if(8===e.length)return new o(o.UNCONFIDENTIAL_PREFIX,e);let t=e.length>0?e[0]:0,r=e.length>1?e.slice(1):i.alloc(0);if(t!==o.UNCONFIDENTIAL_PREFIX&&!o.CONFIDENTIAL_PREFIXES.includes(t))throw Error("Invalid value prefix");if(t===o.UNCONFIDENTIAL_PREFIX&&8!==r.length)throw Error("Invalid unconfidential value length");if(o.CONFIDENTIAL_PREFIXES.includes(t)&&32!==r.length)throw Error("Invalid confidential value length");return new o(t,r)}get hex(){return i.concat([i.of(this.prefix),this.value]).toString("hex")}get bytes(){return i.concat([i.of(this.prefix),this.value])}get number(){if(this.prefix!==o.UNCONFIDENTIAL_PREFIX)throw Error("Invalid value prefix");return(0,n.readUInt64LE)(a(this.value),0)}}function a(e){return i.from(e).reverse()}t.ElementsValue=o,o.UNCONFIDENTIAL_PREFIX=1,o.CONFIDENTIAL_PREFIXES=[8,9]},18552:function(e,t,r){var i=r(10852)(r(55639),"DataView");e.exports=i},1989:function(e,t,r){var i=r(51789),n=r(80401),o=r(57667),a=r(21327),s=r(81866);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=n,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},38407:function(e,t,r){var i=r(27040),n=r(14125),o=r(82117),a=r(67518),s=r(54705);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=n,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},57071:function(e,t,r){var i=r(10852)(r(55639),"Map");e.exports=i},83369:function(e,t,r){var i=r(24785),n=r(11285),o=r(96e3),a=r(49916),s=r(95265);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=n,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},53818:function(e,t,r){var i=r(10852)(r(55639),"Promise");e.exports=i},58525:function(e,t,r){var i=r(10852)(r(55639),"Set");e.exports=i},46384:function(e,t,r){var i=r(38407),n=r(37465),o=r(63779),a=r(67599),s=r(44758),u=r(34309);function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},62705:function(e,t,r){var i=r(55639).Symbol;e.exports=i},11149:function(e,t,r){var i=r(55639).Uint8Array;e.exports=i},70577:function(e,t,r){var i=r(10852)(r(55639),"WeakMap");e.exports=i},77412:function(e){function t(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r,e););return e}e.exports=t},34963:function(e){function t(e,t){for(var r=-1,i=null==e?0:e.length,n=0,o=[];++r<i;){var a=e[r];t(a,r,e)&&(o[n++]=a)}return o}e.exports=t},14636:function(e,t,r){var i=r(22545),n=r(35694),o=r(1469),a=r(44144),s=r(65776),u=r(36719),l=Object.prototype.hasOwnProperty;function c(e,t){var r=o(e),c=!r&&n(e),f=!r&&!c&&a(e),h=!r&&!c&&!f&&u(e),p=r||c||f||h,d=p?i(e.length,String):[],g=d.length;for(var b in e)(t||l.call(e,b))&&!(p&&("length"==b||f&&("offset"==b||"parent"==b)||h&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||s(b,g)))&&d.push(b);return d}e.exports=c},62488:function(e){function t(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}e.exports=t},34865:function(e,t,r){var i=r(89465),n=r(77813),o=Object.prototype.hasOwnProperty;function a(e,t,r){var a=e[t];o.call(e,t)&&n(a,r)&&(void 0!==r||t in e)||i(e,t,r)}e.exports=a},18470:function(e,t,r){var i=r(77813);function n(e,t){for(var r=e.length;r--;)if(i(e[r][0],t))return r;return -1}e.exports=n},44037:function(e,t,r){var i=r(98363),n=r(3674);function o(e,t){return e&&i(t,n(t),e)}e.exports=o},63886:function(e,t,r){var i=r(98363),n=r(81704);function o(e,t){return e&&i(t,n(t),e)}e.exports=o},89465:function(e,t,r){var i=r(38777);function n(e,t,r){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}e.exports=n},85990:function(e,t,r){var i=r(46384),n=r(77412),o=r(34865),a=r(44037),s=r(63886),u=r(64626),l=r(278),c=r(18805),f=r(1911),h=r(58234),p=r(46904),d=r(64160),g=r(43824),b=r(29148),y=r(38517),m=r(1469),v=r(44144),w=r(56688),E=r(13218),_=r(72928),S=r(3674),I=r(81704),P=1,k=2,T=4,O="[object Arguments]",A="[object Array]",x="[object Boolean]",N="[object Date]",R="[object Error]",B="[object Function]",C="[object GeneratorFunction]",U="[object Map]",M="[object Number]",j="[object Object]",L="[object RegExp]",K="[object Set]",D="[object String]",H="[object Symbol]",z="[object WeakMap]",F="[object ArrayBuffer]",V="[object DataView]",q="[object Float32Array]",W="[object Float64Array]",G="[object Int8Array]",X="[object Int16Array]",Y="[object Int32Array]",Z="[object Uint8Array]",$="[object Uint8ClampedArray]",J="[object Uint16Array]",Q="[object Uint32Array]",ee={};function et(e,t,r,A,x,N){var R,U=t&P,M=t&k,L=t&T;if(r&&(R=x?r(e,A,x,N):r(e)),void 0!==R)return R;if(!E(e))return e;var K=m(e);if(K){if(R=g(e),!U)return l(e,R)}else{var D=d(e),H=D==B||D==C;if(v(e))return u(e,U);if(D==j||D==O||H&&!x){if(R=M||H?{}:y(e),!U)return M?f(e,s(R,e)):c(e,a(R,e))}else{if(!ee[D])return x?e:{};R=b(e,D,U)}}N||(N=new i);var z=N.get(e);if(z)return z;N.set(e,R),_(e)?e.forEach(function(i){R.add(et(i,t,r,i,e,N))}):w(e)&&e.forEach(function(i,n){R.set(n,et(i,t,r,n,e,N))});var F=L?M?p:h:M?I:S,V=K?void 0:F(e);return n(V||e,function(i,n){V&&(i=e[n=i]),o(R,n,et(i,t,r,n,e,N))}),R}ee[O]=ee[A]=ee[F]=ee[V]=ee[x]=ee[N]=ee[q]=ee[W]=ee[G]=ee[X]=ee[Y]=ee[U]=ee[M]=ee[j]=ee[L]=ee[K]=ee[D]=ee[H]=ee[Z]=ee[$]=ee[J]=ee[Q]=!0,ee[R]=ee[B]=ee[z]=!1,e.exports=et},3118:function(e,t,r){var i=r(13218),n=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(n)return n(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},68866:function(e,t,r){var i=r(62488),n=r(1469);function o(e,t,r){var o=t(e);return n(e)?o:i(o,r(e))}e.exports=o},44239:function(e,t,r){var i=r(62705),n=r(89607),o=r(2333),a="[object Null]",s="[object Undefined]",u=i?i.toStringTag:void 0;function l(e){return null==e?void 0===e?s:a:u&&u in Object(e)?n(e):o(e)}e.exports=l},9454:function(e,t,r){var i=r(44239),n=r(37005),o="[object Arguments]";function a(e){return n(e)&&i(e)==o}e.exports=a},25588:function(e,t,r){var i=r(64160),n=r(37005),o="[object Map]";function a(e){return n(e)&&i(e)==o}e.exports=a},28458:function(e,t,r){var i=r(23560),n=r(15346),o=r(13218),a=r(80346),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(e){return!(!o(e)||n(e))&&(i(e)?h:u).test(a(e))}e.exports=p},29221:function(e,t,r){var i=r(64160),n=r(37005),o="[object Set]";function a(e){return n(e)&&i(e)==o}e.exports=a},38749:function(e,t,r){var i=r(44239),n=r(41780),o=r(37005),a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",d="[object Object]",g="[object RegExp]",b="[object Set]",y="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",E="[object Float64Array]",_="[object Int8Array]",S="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",A={};function x(e){return o(e)&&n(e.length)&&!!A[i(e)]}A["[object Float32Array]"]=A[E]=A[_]=A[S]=A[I]=A[P]=A[k]=A[T]=A[O]=!0,A[a]=A[s]=A[v]=A[u]=A[w]=A[l]=A[c]=A[f]=A[h]=A[p]=A[d]=A[g]=A[b]=A[y]=A[m]=!1,e.exports=x},280:function(e,t,r){var i=r(25726),n=r(86916),o=Object.prototype.hasOwnProperty;function a(e){if(!i(e))return n(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}e.exports=a},10313:function(e,t,r){var i=r(13218),n=r(25726),o=r(33498),a=Object.prototype.hasOwnProperty;function s(e){if(!i(e))return o(e);var t=n(e),r=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||r.push(s);return r}e.exports=s},22545:function(e){function t(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}e.exports=t},7518:function(e){function t(e){return function(t){return e(t)}}e.exports=t},74318:function(e,t,r){var i=r(11149);function n(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}e.exports=n},64626:function(e,t,r){e=r.nmd(e);var i=r(55639),n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(e,t){if(t)return e.slice();var r=e.length,i=s?s(r):new e.constructor(r);return e.copy(i),i}e.exports=u},57157:function(e,t,r){var i=r(74318);function n(e,t){var r=t?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}e.exports=n},93147:function(e){var t=/\w*$/;function r(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}e.exports=r},40419:function(e,t,r){var i=r(62705),n=i?i.prototype:void 0,o=n?n.valueOf:void 0;function a(e){return o?Object(o.call(e)):{}}e.exports=a},77133:function(e,t,r){var i=r(74318);function n(e,t){var r=t?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}e.exports=n},278:function(e){function t(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}e.exports=t},98363:function(e,t,r){var i=r(34865),n=r(89465);function o(e,t,r,o){var a=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(r[l],e[l],l,r,e):void 0;void 0===c&&(c=e[l]),a?n(r,l,c):i(r,l,c)}return r}e.exports=o},18805:function(e,t,r){var i=r(98363),n=r(99551);function o(e,t){return i(e,n(e),t)}e.exports=o},1911:function(e,t,r){var i=r(98363),n=r(51442);function o(e,t){return i(e,n(e),t)}e.exports=o},14429:function(e,t,r){var i=r(55639)["__core-js_shared__"];e.exports=i},38777:function(e,t,r){var i=r(10852),n=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=n},31957:function(e,t,r){var i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=i},58234:function(e,t,r){var i=r(68866),n=r(99551),o=r(3674);function a(e){return i(e,o,n)}e.exports=a},46904:function(e,t,r){var i=r(68866),n=r(51442),o=r(81704);function a(e){return i(e,o,n)}e.exports=a},45050:function(e,t,r){var i=r(37019);function n(e,t){var r=e.__data__;return i(t)?r["string"==typeof t?"string":"hash"]:r.map}e.exports=n},10852:function(e,t,r){var i=r(28458),n=r(47801);function o(e,t){var r=n(e,t);return i(r)?r:void 0}e.exports=o},85924:function(e,t,r){var i=r(5569)(Object.getPrototypeOf,Object);e.exports=i},89607:function(e,t,r){var i=r(62705),n=Object.prototype,o=n.hasOwnProperty,a=n.toString,s=i?i.toStringTag:void 0;function u(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var i=!0}catch(n){}var u=a.call(e);return i&&(t?e[s]=r:delete e[s]),u}e.exports=u},99551:function(e,t,r){var i=r(34963),n=r(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:i(a(e=Object(e)),function(t){return o.call(e,t)})}:n;e.exports=s},51442:function(e,t,r){var i=r(62488),n=r(85924),o=r(99551),a=r(70479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=n(e);return t}:a;e.exports=s},64160:function(e,t,r){var i=r(18552),n=r(57071),o=r(53818),a=r(58525),s=r(70577),u=r(44239),l=r(80346),c="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",g="[object DataView]",b=l(i),y=l(n),m=l(o),v=l(a),w=l(s),E=u;(i&&E(new i(new ArrayBuffer(1)))!=g||n&&E(new n)!=c||o&&E(o.resolve())!=h||a&&E(new a)!=p||s&&E(new s)!=d)&&(E=function(e){var t=u(e),r=t==f?e.constructor:void 0,i=r?l(r):"";if(i)switch(i){case b:return g;case y:return c;case m:return h;case v:return p;case w:return d}return t}),e.exports=E},47801:function(e){function t(e,t){return null==e?void 0:e[t]}e.exports=t},51789:function(e,t,r){var i=r(94536);function n(){this.__data__=i?i(null):{},this.size=0}e.exports=n},80401:function(e){function t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=t},57667:function(e,t,r){var i=r(94536),n="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;function a(e){var t=this.__data__;if(i){var r=t[e];return r===n?void 0:r}return o.call(t,e)?t[e]:void 0}e.exports=a},21327:function(e,t,r){var i=r(94536),n=Object.prototype.hasOwnProperty;function o(e){var t=this.__data__;return i?void 0!==t[e]:n.call(t,e)}e.exports=o},81866:function(e,t,r){var i=r(94536),n="__lodash_hash_undefined__";function o(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i&&void 0===t?n:t,this}e.exports=o},43824:function(e){var t=Object.prototype.hasOwnProperty;function r(e){var r=e.length,i=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}e.exports=r},29148:function(e,t,r){var i=r(74318),n=r(57157),o=r(93147),a=r(40419),s=r(77133),u="[object Boolean]",l="[object Date]",c="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",d="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",_="[object Int32Array]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",P="[object Uint16Array]",k="[object Uint32Array]";function T(e,t,r){var T=e.constructor;switch(t){case b:return i(e);case u:case l:return new T(+e);case y:return n(e,r);case m:case v:case w:case E:case _:case S:case I:case P:case k:return s(e,r);case c:return new T;case f:case d:return new T(e);case h:return o(e);case p:return new T;case g:return a(e)}}e.exports=T},38517:function(e,t,r){var i=r(3118),n=r(85924),o=r(25726);function a(e){return"function"!=typeof e.constructor||o(e)?{}:i(n(e))}e.exports=a},65776:function(e){var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,i){var n=typeof e;return!!(i=null==i?t:i)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<i}e.exports=i},37019:function(e){function t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=t},15346:function(e,t,r){var i,n=r(14429),o=(i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";function a(e){return!!o&&o in e}e.exports=a},25726:function(e){var t=Object.prototype;function r(e){var r=e&&e.constructor,i="function"==typeof r&&r.prototype||t;return e===i}e.exports=r},27040:function(e){function t(){this.__data__=[],this.size=0}e.exports=t},14125:function(e,t,r){var i=r(18470),n=Array.prototype.splice;function o(e){var t=this.__data__,r=i(t,e);return!(r<0)&&(r==t.length-1?t.pop():n.call(t,r,1),--this.size,!0)}e.exports=o},82117:function(e,t,r){var i=r(18470);function n(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]}e.exports=n},67518:function(e,t,r){var i=r(18470);function n(e){return i(this.__data__,e)>-1}e.exports=n},54705:function(e,t,r){var i=r(18470);function n(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}e.exports=n},24785:function(e,t,r){var i=r(1989),n=r(38407),o=r(57071);function a(){this.size=0,this.__data__={hash:new i,map:new(o||n),string:new i}}e.exports=a},11285:function(e,t,r){var i=r(45050);function n(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}e.exports=n},96e3:function(e,t,r){var i=r(45050);function n(e){return i(this,e).get(e)}e.exports=n},49916:function(e,t,r){var i=r(45050);function n(e){return i(this,e).has(e)}e.exports=n},95265:function(e,t,r){var i=r(45050);function n(e,t){var r=i(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}e.exports=n},94536:function(e,t,r){var i=r(10852)(Object,"create");e.exports=i},86916:function(e,t,r){var i=r(5569)(Object.keys,Object);e.exports=i},33498:function(e){function t(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}e.exports=t},31167:function(e,t,r){e=r.nmd(e);var i=r(31957),n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n&&i.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},2333:function(e){var t=Object.prototype.toString;function r(e){return t.call(e)}e.exports=r},5569:function(e){function t(e,t){return function(r){return e(t(r))}}e.exports=t},55639:function(e,t,r){var i=r(31957),n="object"==typeof self&&self&&self.Object===Object&&self,o=i||n||Function("return this")();e.exports=o},37465:function(e,t,r){var i=r(38407);function n(){this.__data__=new i,this.size=0}e.exports=n},63779:function(e){function t(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}e.exports=t},67599:function(e){function t(e){return this.__data__.get(e)}e.exports=t},44758:function(e){function t(e){return this.__data__.has(e)}e.exports=t},34309:function(e,t,r){var i=r(38407),n=r(57071),o=r(83369),a=200;function s(e,t){var r=this.__data__;if(r instanceof i){var s=r.__data__;if(!n||s.length<a-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}e.exports=s},80346:function(e){var t=Function.prototype.toString;function r(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(i){}}return""}e.exports=r},50361:function(e,t,r){var i=r(85990),n=1,o=4;function a(e){return i(e,n|o)}e.exports=a},77813:function(e){function t(e,t){return e===t||e!=e&&t!=t}e.exports=t},35694:function(e,t,r){var i=r(9454),n=r(37005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(e){return n(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},1469:function(e){var t=Array.isArray;e.exports=t},98612:function(e,t,r){var i=r(23560),n=r(41780);function o(e){return null!=e&&n(e.length)&&!i(e)}e.exports=o},44144:function(e,t,r){e=r.nmd(e);var i=r(55639),n=r(95062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,u=(s?s.isBuffer:void 0)||n;e.exports=u},23560:function(e,t,r){var i=r(44239),n=r(13218),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function l(e){if(!n(e))return!1;var t=i(e);return t==a||t==s||t==o||t==u}e.exports=l},41780:function(e){var t=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}e.exports=r},56688:function(e,t,r){var i=r(25588),n=r(7518),o=r(31167),a=o&&o.isMap,s=a?n(a):i;e.exports=s},13218:function(e){function t(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=t},37005:function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},72928:function(e,t,r){var i=r(29221),n=r(7518),o=r(31167),a=o&&o.isSet,s=a?n(a):i;e.exports=s},36719:function(e,t,r){var i=r(38749),n=r(7518),o=r(31167),a=o&&o.isTypedArray,s=a?n(a):i;e.exports=s},3674:function(e,t,r){var i=r(14636),n=r(280),o=r(98612);function a(e){return o(e)?i(e):n(e)}e.exports=a},81704:function(e,t,r){var i=r(14636),n=r(10313),o=r(98612);function a(e){return o(e)?i(e,!0):n(e)}e.exports=a},70479:function(e){function t(){return[]}e.exports=t},95062:function(e){function t(){return!1}e.exports=t},43720:function(e){e.exports=i;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(r){}function i(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=n;var o={},a={};function s(e,t){var r,i,n;return t?(e>>>=0,(n=0<=e&&e<256)&&(i=a[e]))?i:(r=l(e,(0|e)<0?-1:0,!0),n&&(a[e]=r),r):(e|=0,(n=-128<=e&&e<128)&&(i=o[e]))?i:(r=l(e,e<0?-1:0,!1),n&&(o[e]=r),r)}function u(e,t){if(isNaN(e))return t?m:y;if(t){if(e<0)return m;if(e>=d)return S}else{if(e<=-g)return I;if(e+1>=g)return _}return e<0?u(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new i(e,t,r)}i.fromInt=s,i.fromNumber=u,i.fromBits=l;var c=Math.pow;function f(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return f(e.substring(1),t,r).neg();for(var i,n=u(c(r,8)),o=y,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+s),r);if(s<8){var h=u(c(r,s));o=o.mul(h).add(u(l))}else o=(o=o.mul(n)).add(u(l))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?f(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=f,i.fromValue=h;var p=4294967296,d=18446744073709552e3,g=0x7fffffffffffffff,b=s(16777216),y=s(0);i.ZERO=y;var m=s(0,!0);i.UZERO=m;var v=s(1);i.ONE=v;var w=s(1,!0);i.UONE=w;var E=s(-1);i.NEG_ONE=E;var _=l(-1,2147483647,!1);i.MAX_VALUE=_;var S=l(-1,-1,!0);i.MAX_UNSIGNED_VALUE=S;var I=l(0,-2147483648,!1);i.MIN_VALUE=I;var P=i.prototype;P.toInt=function(){return this.unsigned?this.low>>>0:this.low},P.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},P.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(I))return"-"+this.neg().toString(e);var t=u(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}for(var n=u(c(e,6),this.unsigned),o=this,a="";;){var s=o.div(n),l=(o.sub(s.mul(n)).toInt()>>>0).toString(e);if((o=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},P.getHighBits=function(){return this.high},P.getHighBitsUnsigned=function(){return this.high>>>0},P.getLowBits=function(){return this.low},P.getLowBitsUnsigned=function(){return this.low>>>0},P.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},P.isZero=function(){return 0===this.high&&0===this.low},P.eqz=P.isZero,P.isNegative=function(){return!this.unsigned&&this.high<0},P.isPositive=function(){return this.unsigned||this.high>=0},P.isOdd=function(){return(1&this.low)==1},P.isEven=function(){return(1&this.low)==0},P.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},P.eq=P.equals,P.notEquals=function(e){return!this.eq(e)},P.neq=P.notEquals,P.ne=P.notEquals,P.lessThan=function(e){return 0>this.comp(e)},P.lt=P.lessThan,P.lessThanOrEqual=function(e){return 0>=this.comp(e)},P.lte=P.lessThanOrEqual,P.le=P.lessThanOrEqual,P.greaterThan=function(e){return this.comp(e)>0},P.gt=P.greaterThan,P.greaterThanOrEqual=function(e){return this.comp(e)>=0},P.gte=P.greaterThanOrEqual,P.ge=P.greaterThanOrEqual,P.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},P.comp=P.compare,P.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(v)},P.neg=P.negate,P.add=function(e){n(e)||(e=h(e));var t,r,i=this.high>>>16,o=65535&this.high,a=this.low>>>16,s=65535&this.low,u=e.high>>>16,c=65535&e.high,f=e.low>>>16,p=65535&e.low,d=0,g=0;return t=0+((r=0+(s+p))>>>16),r&=65535,t+=a+f,g+=t>>>16,t&=65535,g+=o+c,d+=g>>>16,g&=65535,d+=i+u,l(t<<16|r,(d&=65535)<<16|g,this.unsigned)},P.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},P.sub=P.subtract,P.multiply=function(e){if(this.isZero())return y;if(n(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(I))return e.isOdd()?I:y;if(e.eq(I))return this.isOdd()?I:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(b)&&e.lt(b))return u(this.toNumber()*e.toNumber(),this.unsigned);var r,i,o=this.high>>>16,a=65535&this.high,s=this.low>>>16,c=65535&this.low,f=e.high>>>16,p=65535&e.high,d=e.low>>>16,g=65535&e.low,m=0,v=0;return r=0+((i=0+c*g)>>>16),i&=65535,r+=s*g,v+=r>>>16,r&=65535,r+=c*d,v+=r>>>16,r&=65535,v+=a*g,m+=v>>>16,v&=65535,v+=s*d,m+=v>>>16,v&=65535,v+=c*p,m+=v>>>16,v&=65535,m+=o*g+a*d+s*p+c*f,l(r<<16|i,(m&=65535)<<16|v,this.unsigned)},P.mul=P.multiply,P.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(t){var r,i,o;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?m:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return w;o=m}else{if(this.eq(I))return e.eq(v)||e.eq(E)?I:e.eq(I)?v:(r=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?v:E:(i=this.sub(e.mul(r)),o=r.add(i.div(e)));if(e.eq(I))return this.unsigned?m:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=y}for(i=this;i.gte(e);){for(var a=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/e.toNumber())))/Math.LN2),s=a<=48?1:c(2,a-48),f=u(r),p=f.mul(e);p.isNegative()||p.gt(i);)r-=s,p=(f=u(r,this.unsigned)).mul(e);f.isZero()&&(f=v),o=o.add(f),i=i.sub(p)}return o},P.div=P.divide,P.modulo=function(e){return(n(e)||(e=h(e)),t)?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},P.mod=P.modulo,P.rem=P.modulo,P.not=function(){return l(~this.low,~this.high,this.unsigned)},P.and=function(e){return n(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},P.or=function(e){return n(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},P.xor=function(e){return n(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},P.shiftLeft=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},P.shl=P.shiftLeft,P.shiftRight=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},P.shr=P.shiftRight,P.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):32===e?l(t,0,this.unsigned):l(t>>>e-32,0,this.unsigned)},P.shru=P.shiftRightUnsigned,P.shr_u=P.shiftRightUnsigned,P.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},P.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},P.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},P.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},P.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,r){return r?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},62318:function(e,t,r){"use strict";var i=r(35717),n=r(3349),o=r(89509).Buffer,a=Array(16);function s(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function l(e,t,r,i,n,o,a){return u(e+(t&r|~t&i)+n+o|0,a)+t|0}function c(e,t,r,i,n,o,a){return u(e+(t&i|r&~i)+n+o|0,a)+t|0}function f(e,t,r,i,n,o,a){return u(e+(t^r^i)+n+o|0,a)+t|0}function h(e,t,r,i,n,o,a){return u(e+(r^(t|~i))+n+o|0,a)+t|0}i(s,n),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,i=this._b,n=this._c,o=this._d;r=l(r,i,n,o,e[0],3614090360,7),o=l(o,r,i,n,e[1],3905402710,12),n=l(n,o,r,i,e[2],606105819,17),i=l(i,n,o,r,e[3],3250441966,22),r=l(r,i,n,o,e[4],4118548399,7),o=l(o,r,i,n,e[5],1200080426,12),n=l(n,o,r,i,e[6],2821735955,17),i=l(i,n,o,r,e[7],4249261313,22),r=l(r,i,n,o,e[8],1770035416,7),o=l(o,r,i,n,e[9],2336552879,12),n=l(n,o,r,i,e[10],4294925233,17),i=l(i,n,o,r,e[11],2304563134,22),r=l(r,i,n,o,e[12],1804603682,7),o=l(o,r,i,n,e[13],4254626195,12),n=l(n,o,r,i,e[14],2792965006,17),i=l(i,n,o,r,e[15],1236535329,22),r=c(r,i,n,o,e[1],4129170786,5),o=c(o,r,i,n,e[6],3225465664,9),n=c(n,o,r,i,e[11],643717713,14),i=c(i,n,o,r,e[0],3921069994,20),r=c(r,i,n,o,e[5],3593408605,5),o=c(o,r,i,n,e[10],38016083,9),n=c(n,o,r,i,e[15],3634488961,14),i=c(i,n,o,r,e[4],3889429448,20),r=c(r,i,n,o,e[9],568446438,5),o=c(o,r,i,n,e[14],3275163606,9),n=c(n,o,r,i,e[3],4107603335,14),i=c(i,n,o,r,e[8],1163531501,20),r=c(r,i,n,o,e[13],2850285829,5),o=c(o,r,i,n,e[2],4243563512,9),n=c(n,o,r,i,e[7],1735328473,14),i=c(i,n,o,r,e[12],2368359562,20),r=f(r,i,n,o,e[5],4294588738,4),o=f(o,r,i,n,e[8],2272392833,11),n=f(n,o,r,i,e[11],1839030562,16),i=f(i,n,o,r,e[14],4259657740,23),r=f(r,i,n,o,e[1],2763975236,4),o=f(o,r,i,n,e[4],1272893353,11),n=f(n,o,r,i,e[7],4139469664,16),i=f(i,n,o,r,e[10],3200236656,23),r=f(r,i,n,o,e[13],681279174,4),o=f(o,r,i,n,e[0],3936430074,11),n=f(n,o,r,i,e[3],3572445317,16),i=f(i,n,o,r,e[6],76029189,23),r=f(r,i,n,o,e[9],3654602809,4),o=f(o,r,i,n,e[12],3873151461,11),n=f(n,o,r,i,e[15],530742520,16),i=f(i,n,o,r,e[2],3299628645,23),r=h(r,i,n,o,e[0],4096336452,6),o=h(o,r,i,n,e[7],1126891415,10),n=h(n,o,r,i,e[14],2878612391,15),i=h(i,n,o,r,e[5],4237533241,21),r=h(r,i,n,o,e[12],1700485571,6),o=h(o,r,i,n,e[3],2399980690,10),n=h(n,o,r,i,e[10],4293915773,15),i=h(i,n,o,r,e[1],2240044497,21),r=h(r,i,n,o,e[8],1873313359,6),o=h(o,r,i,n,e[15],4264355552,10),n=h(n,o,r,i,e[6],2734768916,15),i=h(i,n,o,r,e[13],1309151649,21),r=h(r,i,n,o,e[4],4149444226,6),o=h(o,r,i,n,e[11],3174756917,10),n=h(n,o,r,i,e[2],718787259,15),i=h(i,n,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},54114:function(e){function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},34504:function(e,t){"use strict";var r=t;function i(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),o=n>>8,a=255&n;o?r.push(o,a):r.push(a)}return r}function n(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=i,r.zero2=n,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},59496:function(e,t,r){"use strict";r.d(t,{y:function(){return o}});var i=r(67294),n=r(92592);function o(){var e,t;return{Image:(e=function(e){var t=e.text,r=e.options,o=i.useRef(null);return i.useEffect(function(){o&&o.current&&n.toDataURL(t,r,function(e,t){if(e)throw e;o.current instanceof HTMLImageElement&&(o.current.src=t)})},[t,r,o]),i.createElement("img",{ref:o})},i.useMemo(function(){return e},[])),Canvas:(t=function(e){var t=e.text,r=e.options,o=i.useRef(null);return i.useEffect(function(){o&&o.current&&n.toCanvas(o.current,t,r,function(e){if(e)throw e})},[t,r,o]),i.createElement("canvas",{ref:o})},i.useMemo(function(){return t},[]))}}},63144:function(e){"use strict";var t=self.fetch.bind(self);e.exports=t,e.exports.default=e.exports},83454:function(e,t,r){"use strict";var i,n;e.exports=(null==(i=r.g.process)?void 0:i.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(77663)},19749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageLoaderProps",{enumerable:!0,get:function(){return c.ImageLoaderProps}}),t.default=p;var i=r(6495).Z,n=r(92648).Z,o=r(91598).Z,a=r(17273).Z,s=o(r(67294)),u=n(r(83121)),l=r(2675),c=r(10139),f=r(28730);r(57238);var h=n(r(89824));function p(e){let t,r;var{src:n,sizes:o,unoptimized:p=!1,priority:b=!1,loading:m,className:E,quality:S,width:I,height:P,fill:k,style:T,onLoad:O,onLoadingComplete:A,placeholder:x="empty",blurDataURL:N,layout:R,objectFit:B,objectPosition:C,lazyBoundary:U,lazyRoot:M}=e,j=a(e,["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","onLoad","onLoadingComplete","placeholder","blurDataURL","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"]);let L=s.useContext(f.ImageConfigContext),K=s.useMemo(()=>{let e=d||L||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return i({},e,{allSizes:t,deviceSizes:r})},[L]),D=j,H=D.loader||h.default;if(delete D.loader,"__next_img_default"in H){if("custom"===K.loader)throw Error('Image with src "'.concat(n,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}else{let z=H;H=e=>{let{config:t}=e,r=a(e,["config"]);return z(r)}}if(R){"fill"===R&&(k=!0);let F={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}},V={responsive:"100vw",fill:"100vw"},q=F[R];q&&(T=i({},T,q));let W=V[R];W&&!o&&(o=W)}let G="",X=w(I),Y=w(P);if(y(n)){let Z=g(n)?n.default:n;if(!Z.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(Z)));if(!Z.height||!Z.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(Z)));if(t=Z.blurWidth,r=Z.blurHeight,N=N||Z.blurDataURL,G=Z.src,!k){if(X||Y){if(X&&!Y){let $=X/Z.width;Y=Math.round(Z.height*$)}else if(!X&&Y){let J=Y/Z.height;X=Math.round(Z.width*J)}}else X=Z.width,Y=Z.height}}let Q=!b&&("lazy"===m||void 0===m);((n="string"==typeof n?n:G).startsWith("data:")||n.startsWith("blob:"))&&(p=!0,Q=!1),K.unoptimized&&(p=!0);let[ee,et]=s.useState(!1),[er,ei]=s.useState(!1),en=w(S),eo=Object.assign(k?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:B,objectPosition:C}:{},er?{}:{color:"transparent"},T),ea="blur"===x&&N&&!ee?{backgroundSize:eo.objectFit||"cover",backgroundPosition:eo.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'.concat(l.getImageBlurSvg({widthInt:X,heightInt:Y,blurWidth:t,blurHeight:r,blurDataURL:N}),'")')}:{},es=v({config:K,src:n,unoptimized:p,width:X,quality:en,sizes:o,loader:H}),eu=n,el={imageSrcSet:es.srcSet,imageSizes:es.sizes,crossOrigin:D.crossOrigin},ec=s.useRef(O);s.useEffect(()=>{ec.current=O},[O]);let ef=s.useRef(A);s.useEffect(()=>{ef.current=A},[A]);let eh=i({isLazy:Q,imgAttributes:es,heightInt:Y,widthInt:X,qualityInt:en,className:E,imgStyle:eo,blurStyle:ea,loading:m,config:K,fill:k,unoptimized:p,placeholder:x,loader:H,srcString:eu,onLoadRef:ec,onLoadingCompleteRef:ef,setBlurComplete:et,setShowAltText:ei},D);return s.default.createElement(s.default.Fragment,null,s.default.createElement(_,Object.assign({},eh)),b?s.default.createElement(u.default,null,s.default.createElement("link",Object.assign({key:"__nimg-"+es.src+es.srcSet+es.sizes,rel:"preload",as:"image",href:es.srcSet?void 0:es.src},el))):null)}let d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/sats-starter/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e){return void 0!==e.default}function b(e){return void 0!==e.src}function y(e){return"object"==typeof e&&(g(e)||b(e))}function m(e,t,r){let{deviceSizes:i,allSizes:n}=e;if(r){let o=/(^|\s)(1?\d?\d)vw/g,a=[];for(let s;s=o.exec(r);s)a.push(parseInt(s[2]));if(a.length){let u=.01*Math.min(...a);return{widths:n.filter(e=>e>=i[0]*u),kind:"w"}}return{widths:n,kind:"w"}}if("number"!=typeof t)return{widths:i,kind:"w"};let l=[...new Set([t,2*t].map(e=>n.find(t=>t>=e)||n[n.length-1]))];return{widths:l,kind:"x"}}function v(e){let{config:t,src:r,unoptimized:i,width:n,quality:o,sizes:a,loader:s}=e;if(i)return{src:r,srcSet:void 0,sizes:void 0};let{widths:u,kind:l}=m(t,n,a),c=u.length-1;return{sizes:a||"w"!==l?a:"100vw",srcSet:u.map((e,i)=>"".concat(s({config:t,src:r,quality:o,width:e})," ").concat("w"===l?e:i+1).concat(l)).join(", "),src:s({config:t,src:r,quality:o,width:u[c]})}}function w(e){return"number"==typeof e||void 0===e?e:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function E(e,t,r,n,o,a,s){if(!e||e["data-loaded-src"]===t)return;e["data-loaded-src"]=t;let u="decode"in e?e.decode():Promise.resolve();u.catch(()=>{}).then(()=>{if(e.parentNode){if("blur"===r&&a(!0),null==n?void 0:n.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let s=!1,u=!1;n.current(i({},t,{nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>s,isPropagationStopped:()=>u,persist(){},preventDefault(){s=!0,t.preventDefault()},stopPropagation(){u=!0,t.stopPropagation()}}))}(null==o?void 0:o.current)&&o.current(e)}})}let _=e=>{var{imgAttributes:t,heightInt:r,widthInt:n,qualityInt:o,className:u,imgStyle:l,blurStyle:c,isLazy:f,fill:h,placeholder:p,loading:d,srcString:g,config:b,unoptimized:y,loader:m,onLoadRef:v,onLoadingCompleteRef:w,setBlurComplete:_,setShowAltText:S,onLoad:I,onError:P}=e,k=a(e,["imgAttributes","heightInt","widthInt","qualityInt","className","imgStyle","blurStyle","isLazy","fill","placeholder","loading","srcString","config","unoptimized","loader","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","onLoad","onError"]);return d=f?"lazy":d,s.default.createElement(s.default.Fragment,null,s.default.createElement("img",Object.assign({},k,t,{width:n,height:r,decoding:"async","data-nimg":h?"fill":"1",className:u,loading:d,style:i({},l,c),ref:s.useCallback(e=>{e&&(P&&(e.src=e.src),e.complete&&E(e,g,p,v,w,_,y))},[g,p,v,w,_,P,y]),onLoad(e){let t=e.currentTarget;E(t,g,p,v,w,_,y)},onError(e){S(!0),"blur"===p&&_(!0),P&&P(e)}})))};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2675:function(e,t){"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:i,blurHeight:n,blurDataURL:o}=e,a=i&&n?"1":"20",s=i||t,u=n||r,l=o.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return s&&u?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 ".concat(s," ").concat(u,"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='").concat(a,"'/%3E").concat(l,"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='").concat(o,"'/%3E%3C/svg%3E"):"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' x='0' y='0' height='100%25' width='100%25' href='".concat(o,"'/%3E%3C/svg%3E")}Object.defineProperty(t,"__esModule",{value:!0}),t.getImageBlurSvg=r},89824:function(e,t){"use strict";function r(e){let{config:t,src:r,width:i,quality:n}=e;return r.endsWith(".svg")&&!t.dangerouslyAllowSVG?r:"".concat(t.path,"?url=").concat(encodeURIComponent(r),"&w=").concat(i,"&q=").concat(n||75)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.__next_img_default=!0;var i=r;t.default=i},21876:function(e){var t="/";!function(){var r={675:function(e,t){"use strict";t.byteLength=l,t.toByteArray=f,t.fromByteArray=d;for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function l(e){var t=u(e),r=t[0],i=t[1];return(r+i)*3/4-i}function c(e,t,r){return(t+r)*3/4-r}function f(e){var t,r,o=u(e),a=o[0],s=o[1],l=new n(c(e,a,s)),f=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[f++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t),l}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,r){for(var i=[],n=t;n<r;n+=3)i.push(h((e[n]<<16&16711680)+(e[n+1]<<8&65280)+(255&e[n+2])));return i.join("")}function d(e){for(var t,i=e.length,n=i%3,o=[],a=16383,s=0,u=i-n;s<u;s+=a)o.push(p(e,s,s+a>u?u:s+a));return 1===n?o.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===n&&o.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},72:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ var i=r(675),n=r(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}function u(e){if(e>a)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return d(e,t);if(ArrayBuffer.isView(e))return g(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return b(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return l.from(i,t,r);var n=y(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function h(e,t,r){return(f(e),e<=0)?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}function p(e){return f(e),u(e<0?0:0|m(e))}function d(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!l.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|w(e,t),i=u(r),n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}function g(e){for(var t=e.length<0?0:0|m(e.length),r=u(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function b(e,t,r){var i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),l.prototype),i}function y(e){if(l.isBuffer(e)){var t=0|m(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?u(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}function m(e){if(e>=a)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),l.alloc(+e)}function w(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return i?-1:W(e).length;t=(""+t).toLowerCase(),n=!0}}function E(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return N(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function _(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function S(e,t,r,i,n){if(0===e.length)return -1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return -1;r=e.length-1}else if(r<0){if(!n)return -1;r=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:I(e,t,r,i,n);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):I(e,[t],r,i,n);throw TypeError("val must be string, number or Buffer")}function I(e,t,r,i,n){var o,a=1,s=e.length,u=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var c=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else -1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(e,o+h)!==l(t,h)){f=!1;break}if(f)return o}return -1}function P(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=t.length;i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(J(s))break;e[r+a]=s}return a}function k(e,t,r,i){return Z(W(t,e.length-r),e,r,i)}function T(e,t,r,i){return Z(G(t),e,r,i)}function O(e,t,r,i){return T(e,t,r,i)}function A(e,t,r,i){return Z(Y(t),e,r,i)}function x(e,t,r,i){return Z(X(t,e.length-r),e,r,i)}function N(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var o,a,s,u,l=e[n],c=null,f=l>239?4:l>223?3:l>191?2:1;if(n+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:(192&(o=e[n+1]))==128&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[n+1],a=e[n+2],(192&o)==128&&(192&a)==128&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),n+=f}return C(i)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return h(e,t,r)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,i=l.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var o=e[r];if($(o,Uint8Array)&&(o=l.from(o)),!l.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?R(this,0,e):E.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,i,n){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;for(var o=n-i,a=r-t,s=Math.min(o,a),u=this.slice(i,n),c=e.slice(t,r),f=0;f<s;++f)if(u[f]!==c[f]){o=u[f],a=c[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return S(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return S(this,e,t,r,!1)},l.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return P(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":return T(this,e,t,r);case"latin1":case"binary":return O(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function C(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);for(var r="",i=0;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=B));return r}function U(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function M(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function j(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=t;o<r;++o)n+=Q[e[o]];return n}function L(e,t,r){for(var i=e.slice(t,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function K(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function D(e,t,r,i,n,o){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw RangeError('"value" argument is out of bounds');if(r+i>e.length)throw RangeError("Index out of range")}function H(e,t,r,i,n,o){if(r+i>e.length||r<0)throw RangeError("Index out of range")}function z(e,t,r,i,o){return t=+t,r>>>=0,o||H(e,t,r,4,34028234663852886e22,-34028234663852886e22),n.write(e,t,r,i,23,4),r+4}function F(e,t,r,i,o){return t=+t,r>>>=0,o||H(e,t,r,8,17976931348623157e292,-17976931348623157e292),n.write(e,t,r,i,52,8),r+8}l.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,l.prototype),i},l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i},l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},l.prototype.readUInt8=function(e,t){return e>>>=0,t||K(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||K(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||K(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||K(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||K(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||K(e,t,this.length);for(var i=t,n=1,o=this[e+--i];i>0&&(n*=256);)o+=this[e+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return(e>>>=0,t||K(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||K(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||K(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||K(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||K(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||K(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||K(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||K(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||K(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;D(this,e,t,r,n,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t>>>=0,r>>>=0,!i){var n=Math.pow(2,8*r)-1;D(this,e,t,r,n,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,i){if(!l.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,i);else if(this===e&&r<t&&t<i)for(var o=n-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),t);return n},l.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){var n,o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var a=l.isBuffer(e)?e:l.from(e,i),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=a[n%s]}return this};var V=/[^+/0-9A-Za-z-_]/g;function q(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function W(e,t){t=t||1/0;for(var r,i=e.length,n=null,o=[],a=0;a<i;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319||a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function G(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function X(e,t){for(var r,i,n=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(r=e.charCodeAt(o))>>8,n.push(r%256),n.push(i);return n}function Y(e){return i.toByteArray(q(e))}function Z(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length)&&!(n>=e.length);++n)t[n+r]=e[n];return n}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}var Q=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var i=16*r,n=0;n<16;++n)t[i+n]=e[r]+e[n];return t}()},783:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ t.read=function(e,t,r,i,n){var o,a,s=8*n-i-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?n-1:0,h=r?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,i),o-=l}return(p?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,r,i,n,o){var a,s,u,l=8*o-n-1,c=(1<<l)-1,f=c>>1,h=23===n?5960464477539062e-23:0,p=i?0:o-1,d=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+f>=1?t+=h/u:t+=h*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,n),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,n),a=0));n>=8;e[r+p]=255&s,p+=d,s/=256,n-=8);for(a=a<<n|s,l+=n;l>0;e[r+p]=255&a,p+=d,a/=256,l-=8);e[r+p-d]|=128*g}}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}},a=!0;try{r[e](o,o.exports,n),a=!1}finally{a&&delete i[e]}return o.exports}n.ab=t+"/";var o=n(72);e.exports=o}()},25293:function(e){var t="/";!function(){"use strict";var r={864:function(e){var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function n(e){console&&console.warn&&console.warn(e)}t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=m,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,r,i){if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var o,a,s,c=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,n(c)}return e}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=f.bind(i);return n.listener=r,i.wrapFn=n,n}function p(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?y(n):g(n,n.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=Array(t),i=0;i<t;++i)r[i]=e[i];return r}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function m(e,t){return new Promise(function(r,i){function n(r){e.removeListener(t,o),i(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}w(e,t,o,{once:!0}),"error"!==t&&v(e,n,{once:!0})})}function v(e,t,r){"function"==typeof e.on&&w(e,"error",t,r)}function w(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function n(o){i.once&&e.removeEventListener(t,n),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else for(var l=u.length,c=g(u,l),r=0;r<l;++r)i(c[r],this,t);return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,i,n,o,a;if(u(t),void 0===(i=this._events)||void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():b(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}},a=!0;try{r[e](o,o.exports,n),a=!1}finally{a&&delete i[e]}return o.exports}n.ab=t+"/";var o=n(864);e.exports=o}()},1864:function(e){var t="/";!function(){"use strict";var r={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,i="",n=0,o=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else if(47===r)break;else r=47;if(47===r){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var u=i.lastIndexOf("/");if(u!==i.length-1){-1===u?(i="",n=0):n=(i=i.slice(0,u)).length-1-i.lastIndexOf("/"),o=s,a=0;continue}}else if(2===i.length||1===i.length){i="",n=0,o=s,a=0;continue}}t&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+e.slice(o+1,s):i=e.slice(o+1,s),n=s-o-1;o=s,a=0}else 46===r&&-1!==a?++a:a=-1}return i}function i(e,t){var r=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+i:r+e+i:i}var n={resolve:function(){for(var e,i,n="",o=!1,a=arguments.length-1;a>=-1&&!o;a--)a>=0?i=arguments[a]:(void 0===e&&(e=""),i=e),t(i),0!==i.length&&(n=i+"/"+n,o=47===i.charCodeAt(0));return(n=r(n,!o),o)?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!i)).length||i||(e="."),e.length>0&&n&&(e+="/"),i)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var u=r.length-s,l=a<u?a:u,c=-1,f=0;f<=l;++f){if(f===l){if(u>l){if(47===r.charCodeAt(s+f))return r.slice(s+f+1);if(0===f)return r.slice(s+f)}else a>l&&(47===e.charCodeAt(i+f)?c=f:0===f&&(c=0));break}var h=e.charCodeAt(i+f);if(h!==r.charCodeAt(s+f))break;47===h&&(c=f)}var p="";for(f=i+c+1;f<=o;++f)(f===o||47===e.charCodeAt(f))&&(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(s+c):(s+=c,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),i=47===r,n=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!o){n=a;break}}else o=!1;return -1===n?i?"/":".":i&&1===n?"//":e.slice(0,n)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var i,n=0,o=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,u=-1;for(i=e.length-1;i>=0;--i){var l=e.charCodeAt(i);if(47===l){if(!a){n=i+1;break}}else -1===u&&(a=!1,u=i+1),s>=0&&(l===r.charCodeAt(s)?-1==--s&&(o=i):(s=-1,o=u))}return n===o?o=u:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!a){n=i+1;break}}else -1===o&&(a=!1,o=i+1);return -1===o?"":e.slice(n,o)},extname:function(e){t(e);for(var r=-1,i=0,n=-1,o=!0,a=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47===u){if(!o){i=s+1;break}continue}-1===n&&(o=!1,n=s+1),46===u?-1===r?r=s:1!==a&&(a=1):-1!==r&&(a=-1)}return -1===r||-1===n||0===a||1===a&&r===n-1&&r===i+1?"":e.slice(r,n)},format:function(e){if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return i("/",e)},parse:function(e){t(e);var r,i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var n=e.charCodeAt(0),o=47===n;o?(i.root="/",r=1):r=0;for(var a=-1,s=0,u=-1,l=!0,c=e.length-1,f=0;c>=r;--c){if(47===(n=e.charCodeAt(c))){if(!l){s=c+1;break}continue}-1===u&&(l=!1,u=c+1),46===n?-1===a?a=c:1!==f&&(f=1):-1!==a&&(f=-1)}return -1===a||-1===u||0===f||1===f&&a===u-1&&a===s+1?-1!==u&&(0===s&&o?i.base=i.name=e.slice(1,u):i.base=i.name=e.slice(s,u)):(0===s&&o?(i.name=e.slice(1,a),i.base=e.slice(1,u)):(i.name=e.slice(s,a),i.base=e.slice(s,u)),i.ext=e.slice(a,u)),s>0?i.dir=e.slice(0,s-1):o&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}},a=!0;try{r[e](o,o.exports,n),a=!1}finally{a&&delete i[e]}return o.exports}n.ab=t+"/";var o=n(114);e.exports=o}()},77663:function(e){var t="/";!function(){var r={229:function(e){var t,r,i,n=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function u(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(i){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(i){r=a}}();var l=[],c=!1,f=-1;function h(){c&&i&&(c=!1,i.length?l=i.concat(l):f=-1,l.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(i=l,l=[];++f<t;)i&&i[f].run();f=-1,t=l.length}i=null,c=!1,u(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}},a=!0;try{r[e](o,o.exports,n),a=!1}finally{a&&delete i[e]}return o.exports}n.ab=t+"/";var o=n(229);e.exports=o}()},79681:function(e,t,r){var i="/",n=r(83454);!function(){var t={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,i){function n(e,t,i){return"string"==typeof r?r:r(e,t,i)}i||(i=Error);class o extends i{constructor(e,t,r){super(n(e,t,r))}}o.prototype.name=i.name,o.prototype.code=e,t[e]=o}function i(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}function n(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function o(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function a(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){let s,u;if("string"==typeof t&&n(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",o(e," argument"))u=`The ${e} ${s} ${i(t,"type")}`;else{let l=a(e,".")?"property":"argument";u=`The "${e}" ${l} ${s} ${i(t,"type")}`}return u+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var o=r(709),a=r(337);r(782)(c,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var l=s[u];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=n;var i=r(170);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(782)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,i){"use strict";e.exports=A,A.ReadableState=O,i(361).EventEmitter;var o,a,s,u,l,c=function(e,t){return e.listeners(t).length},f=i(678),h=i(300).Buffer,p=r.g.Uint8Array||function(){};function d(e){return h.from(e)}function g(e){return h.isBuffer(e)||e instanceof p}var b=i(837);a=b&&b.debuglog?b.debuglog("stream"):function(){};var y=i(379),m=i(25),v=i(776).getHighWaterMark,w=i(646).q,E=w.ERR_INVALID_ARG_TYPE,_=w.ERR_STREAM_PUSH_AFTER_EOF,S=w.ERR_METHOD_NOT_IMPLEMENTED,I=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(782)(A,f);var P=m.errorOrDestroy,k=["error","close","destroy","pause","resume"];function T(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function O(e,t,r){o=o||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=i(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function A(e){if(o=o||i(403),!(this instanceof A))return new A(e);var t=this instanceof o;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),f.call(this)}function x(e,t,r,i,n){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,M(e,s);else if(n||(o=R(s,t)),o)P(e,o);else if(s.objectMode||t&&t.length>0){if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=d(t)),i)s.endEmitted?P(e,new I):N(e,s,t,!0);else if(s.ended)P(e,new _);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?N(e,s,t,!1):K(e,s)):N(e,s,t,!1)}}else i||(s.reading=!1,K(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function N(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),K(e,t)}function R(e,t){var r;return g(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new E("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=h.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},A.prototype.unshift=function(e){return x(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(e){s||(s=i(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var B=1073741824;function C(e){return e>=B?e=B:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function U(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=C(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function M(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?j(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,L(e)))}}function j(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(L,e))}function L(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,W(e)}function K(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function H(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,W(e))}}function z(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){a("readable nexttick read 0"),e.read(0)}function V(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(q,e,t))}function q(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),W(e),t.flowing&&!t.reading&&e.read(0)}function W(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function G(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function X(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(Y,t,e))}function Y(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Z(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}A.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return a("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?X(this):j(this),null;if(0===(e=U(e,r))&&r.ended)return 0===r.length&&X(this),null;var n=r.needReadable;return a("need readable",n),(0===r.length||r.length-e<r.highWaterMark)&&a("length less than watermark",n=!0),r.ended||r.reading?a("reading or ended",n=!1):n&&(a("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=U(i,r))),null===(t=e>0?G(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&X(this)),null!==t&&this.emit("data",t),t},A.prototype._read=function(e){P(this,new S("_read()"))},A.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===n.stdout||e===n.stderr?y:u;function s(e,t){a("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function u(){a("onend"),e.end()}i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",s);var l=H(r);e.on("drain",l);var f=!1;function h(){a("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",p),f=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}function p(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Z(i.pipes,e))&&!f&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){a("onerror",t),y(),e.removeListener("error",d),0===c(e,"error")&&P(e,t)}function g(){e.removeListener("finish",b),y()}function b(){a("onfinish"),e.removeListener("close",g),y()}function y(){a("unpipe"),r.unpipe(e)}return r.on("data",p),T(e,"error",d),e.once("close",g),e.once("finish",b),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Z(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},A.prototype.on=function(e,t){var r=f.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?j(this):i.reading||n.nextTick(F,this)),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var r=f.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(z,this),r},A.prototype.removeAllListeners=function(e){var t=f.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(z,this),t},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,V(this,e)),e.paused=!1,this},A.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(n){a("wrapped data"),r.decoder&&(n=r.decoder.write(n)),(!r.objectMode||null!=n)&&(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))}),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){a("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=i(871)),u(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),A._fromList=G,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(e,t){return void 0===l&&(l=i(727)),l(A,e,t)})},170:function(e,t,r){"use strict";e.exports=c;var i=r(646).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,u=r(403);function l(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(782)(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new n("_transform()"))},c.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(e,t,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){q(t,e)}}e.exports=O,O.WritableState=T;var a,s,u={deprecate:i(769)},l=i(678),c=i(300).Buffer,f=r.g.Uint8Array||function(){};function h(e){return c.from(e)}function p(e){return c.isBuffer(e)||e instanceof f}var d=i(25),g=i(776).getHighWaterMark,b=i(646).q,y=b.ERR_INVALID_ARG_TYPE,m=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_MULTIPLE_CALLBACK,w=b.ERR_STREAM_CANNOT_PIPE,E=b.ERR_STREAM_DESTROYED,_=b.ERR_STREAM_NULL_VALUES,S=b.ERR_STREAM_WRITE_AFTER_END,I=b.ERR_UNKNOWN_ENCODING,P=d.errorOrDestroy;function k(){}function T(e,t,r){a=a||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=g(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){M(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function O(e){var t=this instanceof(a=a||i(403));if(!t&&!s.call(O,this))return new O(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function A(e,t){var r=new S;P(e,r),n.nextTick(t,r)}function x(e,t,r,i){var o;return null===r?o=new _:"string"==typeof r||t.objectMode||(o=new y("chunk",["string","Buffer"],r)),!o||(P(e,o),n.nextTick(i,o),!1)}function N(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}function R(e,t,r,i,n,o){if(!r){var a=N(t,i,n);i!==a&&(r=!0,n="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else B(e,t,!1,s,i,n,o);return u}function B(e,t,r,i,n,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new E("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function C(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(F,e,t),e._writableState.errorEmitted=!0,P(e,i)):(o(i),e._writableState.errorEmitted=!0,P(e,i),F(e,t))}function U(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function M(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new v;if(U(r),t)C(e,r,i,t,o);else{var a=D(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||K(e,r),i?n.nextTick(j,e,r,a,o):j(e,r,a,o)}}function j(e,t,r,i){r||L(e,t),t.pendingcb--,i(),F(e,t)}function L(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function K(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,B(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback,f=t.objectMode?1:u.length;if(B(e,t,!1,f,u,l,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function H(e,t){e._final(function(r){t.pendingcb--,r&&P(e,r),t.prefinished=!0,e.emit("prefinish"),F(e,t)})}function z(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(H,e,t)))}function F(e,t){var r=D(t);if(r&&(z(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function V(e,t,r){t.ending=!0,F(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function q(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}i(782)(O,l),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===O&&e&&e._writableState instanceof T}})):s=function(e){return e instanceof this},O.prototype.pipe=function(){P(this,new w)},O.prototype.write=function(e,t,r){var i=this._writableState,n=!1,o=!i.objectMode&&p(e);return o&&!c.isBuffer(e)&&(e=h(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=k),i.ending?A(this,r):(o||x(this,i,e,r))&&(i.pendingcb++,n=R(this,i,o,e,t,r)),n},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||K(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new I(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,r){r(new m("_write()"))},O.prototype._writev=null,O.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||V(this,i,r),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=d.destroy,O.prototype._undestroy=d.undestroy,O.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,a=r(698),s=Symbol("lastResolve"),u=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function d(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(d(r,!1)))}}function b(e){n.nextTick(g,e)}function y(e,t){return function(r,i){e.then(function(){if(t[c]){r(d(void 0,!0));return}t[h](r,i)},i)}}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(o={get stream(){return this[p]},next:function(){var e,t=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){n.nextTick(function(){t[l]?r(t[l]):e(d(void 0,!0))})});var i=this[f];if(i)e=new Promise(y(i,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(d(o,!1));e=new Promise(this[h])}return this[f]=e,e}},Symbol.asyncIterator,function(){return this}),i(o,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(d(void 0,!0))})})}),o),m),w=function(e){var t,r=Object.create(v,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var i=r[p].read();i?(r[f]=null,r[s]=null,r[u]=null,e(d(i,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),r[l]=e;return}var i=r[s];null!==i&&(r[f]=null,r[s]=null,r[u]=null,i(d(void 0,!0))),r[c]=!0}),e.on("readable",b.bind(null,r)),r};e.exports=w},379:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var l=r(300).Buffer,c=r(837).inspect,f=c&&c.custom||"inspect";function h(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return u(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t=l.allocUnsafe(e>>>0),r=this.head,i=0;r;)h(r.data,t,i),i+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?i+=n:i+=n.slice(0,e),0==(e-=o)){o===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,t}},{key:f,value:function(e,t){return c(this,n({},t,{depth:0,customInspect:!1}))}}]),e}()},25:function(e){"use strict";function t(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?o._writableState?o._writableState.errorEmitted?n.nextTick(i,o):(o._writableState.errorEmitted=!0,n.nextTick(r,o,e)):n.nextTick(r,o,e):t?(n.nextTick(i,o),t(e)):n.nextTick(i,o)}),this)}function r(e,t){a(e,t),i(e)}function i(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}function s(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:t,undestroy:o,errorOrDestroy:s}},698:function(e,t,r){"use strict";var i=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function n(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function o(){}function a(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=n(r||o);var u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,c=function(){e.writable||h()},f=e._writableState&&e._writableState.finished,h=function(){l=!1,f=!0,u||r.call(e)},p=e._readableState&&e._readableState.endEmitted,d=function(){u=!1,p=!0,l||r.call(e)},g=function(t){r.call(e,t)},b=function(){var t;return u&&!p?(e._readableState&&e._readableState.ended||(t=new i),r.call(e,t)):l&&!f?(e._writableState&&e._writableState.ended||(t=new i),r.call(e,t)):void 0},y=function(){e.req.on("finish",h)};return a(e)?(e.on("complete",h),e.on("abort",b),e.req?y():e.on("request",y)):l&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",d),e.on("finish",h),!1!==t.error&&e.on("error",g),e.on("close",b),function(){e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",y),e.req&&e.req.removeListener("finish",h),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",h),e.removeListener("end",d),e.removeListener("error",g),e.removeListener("close",b)}}e.exports=s},727:function(e,t,r){"use strict";function i(e,t,r,i,n,o,a){try{var s=e[o](a),u=s.value}catch(l){r(l);return}s.done?t(u):Promise.resolve(u).then(i,n)}function n(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,"next",e)}function u(e){i(a,n,o,s,u,"throw",e)}s(void 0)})}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r(646).q.ERR_INVALID_ARG_TYPE;function l(e,t,r){if(t&&"function"==typeof t.next)i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])i=t[Symbol.iterator]();else throw new u("iterable",["Iterable"],t);var i,o=new e(a({objectMode:!0},r)),s=!1;function l(){return c.apply(this,arguments)}function c(){return(c=n(function*(){try{var e=yield i.next(),t=e.value;e.done?o.push(null):o.push((yield t))?l():s=!1}catch(r){o.destroy(r)}})).apply(this,arguments)}return o._read=function(){s||(s=!0,l())},o}e.exports=l},442:function(e,t,r){"use strict";function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var n,o=r(646).q,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function l(e){return e.setHeader&&"function"==typeof e.abort}function c(e,t,o,a){a=i(a);var u=!1;e.on("close",function(){u=!0}),void 0===n&&(n=r(698)),n(e,{readable:t,writable:o},function(e){if(e)return a(e);u=!0,a()});var c=!1;return function(t){if(!u&&!c){if(c=!0,l(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();a(t||new s("pipe"))}}}function f(e){e()}function h(e,t){return e.pipe(t)}function p(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():u}function d(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=p(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new a("streams");var o=r.map(function(t,i){var a=i<r.length-1;return c(t,a,i>0,function(t){e||(e=t),t&&o.forEach(f),a||(o.forEach(f),n(e))})});return r.reduce(h)}e.exports=d},776:function(e,t,r){"use strict";var i=r(646).q.ERR_INVALID_OPT_VALUE;function n(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function o(e,t,r,o){var a=n(t,o,r);if(null!=a){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=o?r:"highWaterMark";throw new i(s,a)}return Math.floor(a)}return e.objectMode?16:16384}e.exports={getHighWaterMark:o}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var i=r(300),n=i.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(n.prototype),o(n,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},173:function(e,t,r){e.exports=n;var i=r(361).EventEmitter;function n(){i.call(this)}r(782)(n,i),n.Readable=r(709),n.Writable=r(337),n.Duplex=r(403),n.Transform=r(170),n.PassThrough=r(889),n.finished=r(698),n.pipeline=r(442),n.Stream=n,n.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===i.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var i=r(55).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=d,this.end=g,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=b,this.end=y,t=3;break;default:this.write=m,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function u(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e,t,r){var i=t.length-1;if(i<r)return 0;var n=u(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=u(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=u(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}function c(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}function f(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function h(e,t){var r=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function d(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function b(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=h,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){function t(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}function i(e){try{if(!r.g.localStorage)return!1}catch(t){return!1}var i=r.g.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=t},300:function(e){"use strict";e.exports=r(21876)},361:function(e){"use strict";e.exports=r(25293)},781:function(e){"use strict";e.exports=r(25293).EventEmitter},837:function(e){"use strict";e.exports=r(79720)}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var i=o[e]={exports:{}},n=!0;try{t[e](i,i.exports,a),n=!1}finally{n&&delete o[e]}return i.exports}a.ab=i+"/";var s=a(173);e.exports=s}()},79720:function(e,t,r){var i="/",n=r(21876).Buffer,o=r(83454);!function(){var t={992:function(e){e.exports=function(e,r,i){if(e.filter)return e.filter(r,i);if(null==e||"function"!=typeof r)throw TypeError();for(var n=[],o=0;o<e.length;o++)if(t.call(e,o)){var a=e[o];r.call(i,a,o,e)&&n.push(a)}return n};var t=Object.prototype.hasOwnProperty},256:function(e,t,r){"use strict";var i=r(500),n=r(139),o=n(i("String.prototype.indexOf"));e.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?n(r):r}},139:function(e,t,r){"use strict";var i=r(174),n=r(500),o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||i.call(a,o),u=n("%Object.getOwnPropertyDescriptor%",!0),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch(f){l=null}e.exports=function(e){var t=s(i,a,arguments);return u&&l&&u(t,"length").configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))}),t};var h=function(){return s(i,o,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h},144:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,i,n){if("[object Function]"!==r.call(i))throw TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)i.call(n,e[a],a,e);else for(var s in e)t.call(e,s)&&i.call(n,e[s],s,e)}},426:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,i=Object.prototype.toString,n="[object Function]";e.exports=function(e){var o,a=this;if("function"!=typeof a||i.call(a)!==n)throw TypeError(t+a);for(var s=r.call(arguments,1),u=function(){if(!(this instanceof o))return a.apply(e,s.concat(r.call(arguments)));var t=a.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this},l=Math.max(0,a.length-s.length),c=[],f=0;f<l;f++)c.push("$"+f);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),a.prototype){var h=function(){};h.prototype=a.prototype,o.prototype=new h,h.prototype=null}return o}},174:function(e,t,r){"use strict";var i=r(426);e.exports=Function.prototype.bind||i},500:function(e,t,r){"use strict";var i,n=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(l){u=null}var c=function(){throw new a},f=u?function(){try{return arguments.callee,c}catch(t){try{return u(arguments,"callee").get}catch(e){return c}}}():c,h=r(115)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},g="undefined"==typeof Uint8Array?i:p(Uint8Array),b={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":h?p([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?p(p([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?p((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?p((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?p(""[Symbol.iterator]()):i,"%Symbol%":h?Symbol:i,"%SyntaxError%":n,"%ThrowTypeError%":f,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&(r=p(n.prototype))}return b[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(174),w=r(101),E=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),I=v.call(Function.call,String.prototype.slice),P=v.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,O=function(e){var t=I(e,0,1),r=I(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return S(e,k,function(e,t,r,n){i[i.length]=r?S(n,T,"$1"):t||e}),i},A=function(e,t){var r,i=e;if(w(m,i)&&(i="%"+(r=m[i])[0]+"%"),w(b,i)){var o=b[i];if(o===d&&(o=y(i)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:o}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/g,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=O(e),i=r.length>0?r[0]:"",o=A("%"+i+"%",t),s=o.name,l=o.value,c=!1,f=o.alias;f&&(i=f[0],_(r,E([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var d=r[h],g=I(d,0,1),y=I(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==d&&p||(c=!0),i+="."+d,w(b,s="%"+i+"%"))l=b[s];else if(null!=l){if(!(d in l)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&h+1>=r.length){var m=u(l,d);l=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:l[d]}else p=w(l,d),l=l[d];p&&!c&&(b[s]=l)}}return l}},942:function(e,t,r){"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(773);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var i=42;for(t in e[t]=i,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||!0!==o.enumerable)return!1}return!0}},115:function(e,t,r){"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(832);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},832:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var i=42;for(t in e[t]=i,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||!0!==o.enumerable)return!1}return!0}},101:function(e,t,r){"use strict";var i=r(174);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,i=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===r.call(e)},n=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},o=function(){return i(arguments)}();i.isLegacyArguments=n,e.exports=o?i:n},391:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,i=/^\s*(?:function)?\*/,n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf,a=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(e){}}(),s=a?o(a):{};e.exports=function(e){return"function"==typeof e&&(!!i.test(r.call(e))||(n?o(e)===s:"[object GeneratorFunction]"===t.call(e)))}},994:function(e,t,i){"use strict";var n=i(144),o=i(349),a=i(256),s=a("Object.prototype.toString"),u=i(942)()&&"symbol"==typeof Symbol.toStringTag,l=o(),c=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},f=a("String.prototype.slice"),h={},p=i(466),d=Object.getPrototypeOf;u&&p&&d&&n(l,function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var i=d(t),n=p(i,Symbol.toStringTag);n||(n=p(d(i),Symbol.toStringTag)),h[e]=n.get});var g=function(e){var t=!1;return n(h,function(r,i){if(!t)try{t=r.call(e)===i}catch(n){}}),t};e.exports=function(e){return!!e&&"object"==typeof e&&(u?!!p&&g(e):c(l,f(s(e),8,-1))>-1)}},369:function(e){e.exports=function(e){return e instanceof n}},584:function(e,t,r){"use strict";var i=r(157),n=r(391),o=r(490),a=r(994);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,c=s(Object.prototype.toString),f=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(u)var d=s(BigInt.prototype.valueOf);if(l)var g=s(Symbol.prototype.valueOf);function b(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(r){return!1}}function y(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch}function m(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||H(e)}function v(e){return"Uint8Array"===o(e)}function w(e){return"Uint8ClampedArray"===o(e)}function E(e){return"Uint16Array"===o(e)}function _(e){return"Uint32Array"===o(e)}function S(e){return"Int8Array"===o(e)}function I(e){return"Int16Array"===o(e)}function P(e){return"Int32Array"===o(e)}function k(e){return"Float32Array"===o(e)}function T(e){return"Float64Array"===o(e)}function O(e){return"BigInt64Array"===o(e)}function A(e){return"BigUint64Array"===o(e)}function x(e){return"[object Map]"===c(e)}function N(e){return"undefined"!=typeof Map&&(x.working?x(e):e instanceof Map)}function R(e){return"[object Set]"===c(e)}function B(e){return"undefined"!=typeof Set&&(R.working?R(e):e instanceof Set)}function C(e){return"[object WeakMap]"===c(e)}function U(e){return"undefined"!=typeof WeakMap&&(C.working?C(e):e instanceof WeakMap)}function M(e){return"[object WeakSet]"===c(e)}function j(e){return M(e)}function L(e){return"[object ArrayBuffer]"===c(e)}function K(e){return"undefined"!=typeof ArrayBuffer&&(L.working?L(e):e instanceof ArrayBuffer)}function D(e){return"[object DataView]"===c(e)}function H(e){return"undefined"!=typeof DataView&&(D.working?D(e):e instanceof DataView)}t.isArgumentsObject=i,t.isGeneratorFunction=n,t.isTypedArray=a,t.isPromise=y,t.isArrayBufferView=m,t.isUint8Array=v,t.isUint8ClampedArray=w,t.isUint16Array=E,t.isUint32Array=_,t.isInt8Array=S,t.isInt16Array=I,t.isInt32Array=P,t.isFloat32Array=k,t.isFloat64Array=T,t.isBigInt64Array=O,t.isBigUint64Array=A,x.working="undefined"!=typeof Map&&x(new Map),t.isMap=N,R.working="undefined"!=typeof Set&&R(new Set),t.isSet=B,C.working="undefined"!=typeof WeakMap&&C(new WeakMap),t.isWeakMap=U,M.working="undefined"!=typeof WeakSet&&M(new WeakSet),t.isWeakSet=j,L.working="undefined"!=typeof ArrayBuffer&&L(new ArrayBuffer),t.isArrayBuffer=K,D.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&D(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=H;var z="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function F(e){return"[object SharedArrayBuffer]"===c(e)}function V(e){return void 0!==z&&(void 0===F.working&&(F.working=F(new z)),F.working?F(e):e instanceof z)}function q(e){return"[object AsyncFunction]"===c(e)}function W(e){return"[object Map Iterator]"===c(e)}function G(e){return"[object Set Iterator]"===c(e)}function X(e){return"[object Generator]"===c(e)}function Y(e){return"[object WebAssembly.Module]"===c(e)}function Z(e){return b(e,f)}function $(e){return b(e,h)}function J(e){return b(e,p)}function Q(e){return u&&b(e,d)}function ee(e){return l&&b(e,g)}function et(e){return Z(e)||$(e)||J(e)||Q(e)||ee(e)}function er(e){return"undefined"!=typeof Uint8Array&&(K(e)||V(e))}t.isSharedArrayBuffer=V,t.isAsyncFunction=q,t.isMapIterator=W,t.isSetIterator=G,t.isGeneratorObject=X,t.isWebAssemblyCompiledModule=Y,t.isNumberObject=Z,t.isStringObject=$,t.isBooleanObject=J,t.isBigIntObject=Q,t.isSymbolObject=ee,t.isBoxedPrimitive=et,t.isAnyArrayBuffer=er,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},177:function(e,t,r){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},n=/%[sdj%]/g;t.format=function(e){if(!I(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}for(var r=1,i=arguments,o=i.length,a=String(e).replace(n,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(t){return"[Circular]"}default:return e}}),s=i[r];r<o;s=i[++r])E(s)||!O(s)?a+=" "+s:a+=" "+l(s);return a},t.deprecate=function(e,r){if(void 0!==o&&!0===o.noDeprecation)return e;if(void 0===o)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(o.throwDeprecation)throw Error(r);o.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var a={},s=/^$/;if(o.env.NODE_DEBUG){var u=o.env.NODE_DEBUG;s=RegExp("^"+(u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function l(e,r){var i={seen:[],stylize:f};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),w(r)?i.showHidden=r:r&&t._extend(i,r),k(i.showHidden)&&(i.showHidden=!1),k(i.depth)&&(i.depth=2),k(i.colors)&&(i.colors=!1),k(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),p(i,e,i.depth)}function c(e,t){var r=l.styles[t];return r?"\x1b["+l.colors[r][0]+"m"+e+"\x1b["+l.colors[r][1]+"m":e}function f(e,t){return e}function h(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,r,i){if(e.customInspect&&r&&N(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var n,o=r.inspect(i,e);return I(o)||(o=p(e,o,i)),o}var a=d(e,r);if(a)return a;var s=Object.keys(r),u=h(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),x(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return g(r);if(0===s.length){if(N(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(T(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(A(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return g(r)}var c="",f=!1,w=["{","}"];return(v(r)&&(f=!0,w=["[","]"]),N(r)&&(c=" [Function"+(r.name?": "+r.name:"")+"]"),T(r)&&(c=" "+RegExp.prototype.toString.call(r)),A(r)&&(c=" "+Date.prototype.toUTCString.call(r)),x(r)&&(c=" "+g(r)),0!==s.length||f&&0!=r.length)?i<0?T(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),n=f?b(e,r,i,u,s):s.map(function(t){return y(e,r,i,u,t,f)}),e.seen.pop(),m(n,c,w)):w[0]+c+w[1]}function d(e,t){if(k(t))return e.stylize("undefined","undefined");if(I(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return S(t)?e.stylize(""+t,"number"):w(t)?e.stylize(""+t,"boolean"):E(t)?e.stylize("null","null"):void 0}function g(e){return"["+Error.prototype.toString.call(e)+"]"}function b(e,t,r,i,n){for(var o=[],a=0,s=t.length;a<s;++a)j(t,String(a))?o.push(y(e,t,r,i,String(a),!0)):o.push("");return n.forEach(function(n){n.match(/^\d+$/)||o.push(y(e,t,r,i,n,!0))}),o}function y(e,t,r,i,n,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),j(i,n)||(a="["+n+"]"),!s&&(0>e.seen.indexOf(u.value)?(s=E(r)?p(e,u.value,null):p(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),k(a)){if(o&&n.match(/^\d+$/))return s;(a=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function m(e,t,r){var i=0;return e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function v(e){return Array.isArray(e)}function w(e){return"boolean"==typeof e}function E(e){return null===e}function _(e){return null==e}function S(e){return"number"==typeof e}function I(e){return"string"==typeof e}function P(e){return"symbol"==typeof e}function k(e){return void 0===e}function T(e){return O(e)&&"[object RegExp]"===B(e)}function O(e){return"object"==typeof e&&null!==e}function A(e){return O(e)&&"[object Date]"===B(e)}function x(e){return O(e)&&("[object Error]"===B(e)||e instanceof Error)}function N(e){return"function"==typeof e}function R(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function B(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!a[e=e.toUpperCase()]){if(s.test(e)){var r=o.pid;a[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,i)}}else a[e]=function(){}}return a[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(584),t.isArray=v,t.isBoolean=w,t.isNull=E,t.isNullOrUndefined=_,t.isNumber=S,t.isString=I,t.isSymbol=P,t.isUndefined=k,t.isRegExp=T,t.types.isRegExp=T,t.isObject=O,t.isDate=A,t.types.isDate=A,t.isError=x,t.types.isNativeError=x,t.isFunction=N,t.isPrimitive=R,t.isBuffer=r(369);var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),U[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=r(782),t._extend=function(e,t){if(!t||!O(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function K(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function D(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw TypeError("The last argument must be of type Function");var n=this,a=function(){return i.apply(n,arguments)};e.apply(this,t).then(function(e){o.nextTick(a.bind(null,null,e))},function(e){o.nextTick(K.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t=e[L];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,i=new Promise(function(e,i){t=e,r=i}),n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);n.push(function(e,i){e?r(e):t(i)});try{e.apply(this,n)}catch(a){r(a)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=L,t.callbackify=D},490:function(e,t,i){"use strict";var n=i(144),o=i(349),a=i(256),s=a("Object.prototype.toString"),u=i(942)()&&"symbol"==typeof Symbol.toStringTag,l=o(),c=a("String.prototype.slice"),f={},h=i(466),p=Object.getPrototypeOf;u&&h&&p&&n(l,function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var i=p(t),n=h(i,Symbol.toStringTag);n||(n=h(p(i),Symbol.toStringTag)),f[e]=n.get}});var d=function(e){var t=!1;return n(f,function(r,i){if(!t)try{var n=r.call(e);n===i&&(t=n)}catch(o){}}),t},g=i(994);e.exports=function(e){return!!g(e)&&(u?d(e):c(s(e),8,-1))}},349:function(e,t,i){"use strict";var n=i(992);e.exports=function(){return n(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(e){return"function"==typeof r.g[e]})}},466:function(e,t,r){"use strict";var i=r(500)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(n){i=null}e.exports=i}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var i=a[e]={exports:{}},n=!0;try{t[e](i,i.exports,s),n=!1}finally{n&&delete a[e]}return i.exports}s.ab=i+"/";var u=s(177);e.exports=u}()},51951:function(module){var __webpack_modules__,__webpack_exports__,__dirname="/";__webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return -1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,i=r.eval,n=r.execScript;!i&&n&&(n.call(r,"null"),i=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var o=Object_keys(r),a=i.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}}},"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/"),__webpack_exports__={},__webpack_modules__[950](0,__webpack_exports__),module.exports=__webpack_exports__},9008:function(e,t,r){e.exports=r(83121)},25675:function(e,t,r){e.exports=r(19749)},25632:function(e,t,r){t.pbkdf2=r(88638),t.pbkdf2Sync=r(91257)},88638:function(e,t,r){var i,n,o=r(89509).Buffer,a=r(77357),s=r(12368),u=r(91257),l=r(57777),c=r.g.crypto&&r.g.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function p(e){if(r.g.process&&!r.g.process.browser||!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var t=g(i=i||o.alloc(8),i,10,128,e).then(function(){return!0}).catch(function(){return!1});return h[e]=t,t}function d(){return n||(n=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function g(e,t,r,i,n){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:n}},e,i<<3)}).then(function(e){return o.from(e)})}function b(e,t){e.then(function(e){d()(function(){t(null,e)})},function(e){d()(function(){t(e)})})}e.exports=function(e,t,i,n,o,c){"function"==typeof o&&(c=o,o=void 0);var h=f[(o=o||"sha1").toLowerCase()];if(!h||"function"!=typeof r.g.Promise){d()(function(){var r;try{r=u(e,t,i,n,o)}catch(a){return c(a)}c(null,r)});return}if(a(i,n),e=l(e,s,"Password"),t=l(t,s,"Salt"),"function"!=typeof c)throw Error("No callback provided to pbkdf2");b(p(h).then(function(r){return r?g(e,t,i,n,h):u(e,t,i,n,o)}),c)}},12368:function(e,t,r){var i,n=r(83454);i=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=i},77357:function(e){var t=1073741823;e.exports=function(e,r){if("number"!=typeof e)throw TypeError("Iterations not a number");if(e<0)throw TypeError("Bad iterations");if("number"!=typeof r)throw TypeError("Key length not a number");if(r<0||r>t||r!=r)throw TypeError("Bad key length")}},91257:function(e,t,r){var i=r(78028),n=r(79785),o=r(89072),a=r(89509).Buffer,s=r(77357),u=r(12368),l=r(57777),c=a.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,r){var i=p(e),n="sha512"===e||"sha384"===e?128:64;t.length>n?t=i(t):t.length<n&&(t=a.concat([t,c],n));for(var o=a.allocUnsafe(n+f[e]),s=a.allocUnsafe(n+f[e]),u=0;u<n;u++)o[u]=54^t[u],s[u]=92^t[u];var l=a.allocUnsafe(n+r+4);o.copy(l,0,0,n),this.ipad1=l,this.ipad2=o,this.opad=s,this.alg=e,this.blocksize=n,this.hash=i,this.size=f[e]}function p(e){function t(t){return o(e).update(t).digest()}function r(e){return new n().update(e).digest()}return"rmd160"===e||"ripemd160"===e?r:"md5"===e?i:t}function d(e,t,r,i,n){s(r,i),e=l(e,u,"Password"),t=l(t,u,"Salt"),n=n||"sha1";var o=new h(n,e,t.length),c=a.allocUnsafe(i),p=a.allocUnsafe(t.length+4);t.copy(p,0,0,t.length);for(var d=0,g=f[n],b=Math.ceil(i/g),y=1;y<=b;y++){p.writeUInt32BE(y,t.length);for(var m=o.run(p,o.ipad1),v=m,w=1;w<r;w++){v=o.run(v,o.ipad2);for(var E=0;E<g;E++)m[E]^=v[E]}m.copy(c,d),d+=g}return c}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=d},57777:function(e,t,r){var i=r(89509).Buffer;e.exports=function(e,t,r){if(i.isBuffer(e))return e;if("string"==typeof e)return i.from(e,t);if(ArrayBuffer.isView(e))return i.from(e.buffer);throw TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},92592:function(e,t,r){let i=r(47138),n=r(95115),o=r(6907),a=r(93776);function s(e,t,r,o,a){let s=[].slice.call(arguments,1),u=s.length,l="function"==typeof s[u-1];if(!l&&!i())throw Error("Callback required as last argument");if(l){if(u<2)throw Error("Too few arguments provided");2===u?(a=r,r=t,t=o=void 0):3===u&&(t.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=r,r=t,t=void 0))}else{if(u<1)throw Error("Too few arguments provided");return 1===u?(r=t,t=o=void 0):2!==u||t.getContext||(o=r,r=t,t=void 0),new Promise(function(i,a){try{let s=n.create(r,o);i(e(s,t,o))}catch(u){a(u)}})}try{let c=n.create(r,o);a(null,e(c,t,o))}catch(f){a(f)}}t.create=n.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,function(e,t,r){return a.render(e,r)})},47138:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},21845:function(e,t,r){let i=r(10242).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,r=i(e),n=145===r?26:2*Math.ceil((r-13)/(2*t-2)),o=[r-7];for(let a=1;a<t-1;a++)o[a]=o[a-1]-n;return o.push(6),o.reverse()},t.getPositions=function(e){let r=[],i=t.getRowColCoords(e),n=i.length;for(let o=0;o<n;o++)for(let a=0;a<n;a++)(0!==o||0!==a)&&(0!==o||a!==n-1)&&(o!==n-1||0!==a)&&r.push([i[o],i[a]]);return r}},8260:function(e,t,r){let i=r(76910),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*n.indexOf(this.data[t]);r+=n.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(n.indexOf(this.data[t]),6)},e.exports=o},97245:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},73280:function(e){function t(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,i){let n=e*this.size+t;this.data[n]=r,i&&(this.reservedBit[n]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},43424:function(e,t,r){let i=r(62378),n=r(76910);function o(e){this.mode=n.BYTE,"string"==typeof e&&(e=i(e)),this.data=new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=o},35393:function(e,t,r){let i=r(64908),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case i.L:return n[(e-1)*4+0];case i.M:return n[(e-1)*4+1];case i.Q:return n[(e-1)*4+2];case i.H:return n[(e-1)*4+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case i.L:return o[(e-1)*4+0];case i.M:return o[(e-1)*4+1];case i.Q:return o[(e-1)*4+2];case i.H:return o[(e-1)*4+3];default:return}}},64908:function(e,t){function r(e){if("string"!=typeof e)throw Error("Param is not a string");let r=e.toLowerCase();switch(r){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw Error("Unknown EC Level: "+e)}}t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,i){if(t.isValid(e))return e;try{return r(e)}catch(n){return i}}},76526:function(e,t,r){let i=r(10242).getSymbolSize,n=7;t.getPositions=function(e){let t=i(e);return[[0,0],[t-n,0],[0,t-n]]}},61642:function(e,t,r){let i=r(10242),n=1335,o=21522,a=i.getBCHDigit(n);t.getEncodedBits=function(e,t){let r=e.bit<<3|t,s=r<<10;for(;i.getBCHDigit(s)-a>=0;)s^=n<<i.getBCHDigit(s)-a;return(r<<10|s)^o}},69729:function(e,t){let r=new Uint8Array(512),i=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)r[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(let n=255;n<512;n++)r[n]=r[n-255]}(),t.log=function(e){if(e<1)throw Error("log("+e+")");return i[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[i[e]+i[t]]}},35442:function(e,t,r){let i=r(76910),n=r(10242);function o(e){this.mode=i.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=n.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r=(r>>>8&255)*192+(255&r),e.put(r,13)}},e.exports=o},27126:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let r={N1:3,N2:3,N3:40,N4:10};function i(e,r,i){switch(e){case t.Patterns.PATTERN000:return(r+i)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return i%3==0;case t.Patterns.PATTERN011:return(r+i)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2==0;case t.Patterns.PATTERN101:return r*i%2+r*i%3==0;case t.Patterns.PATTERN110:return(r*i%2+r*i%3)%2==0;case t.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){let t=e.size,i=0,n=0,o=0,a=null,s=null;for(let u=0;u<t;u++){n=o=0,a=s=null;for(let l=0;l<t;l++){let c=e.get(u,l);c===a?n++:(n>=5&&(i+=r.N1+(n-5)),a=c,n=1),(c=e.get(l,u))===s?o++:(o>=5&&(i+=r.N1+(o-5)),s=c,o=1)}n>=5&&(i+=r.N1+(n-5)),o>=5&&(i+=r.N1+(o-5))}return i},t.getPenaltyN2=function(e){let t=e.size,i=0;for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){let a=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);(4===a||0===a)&&i++}return i*r.N2},t.getPenaltyN3=function(e){let t=e.size,i=0,n=0,o=0;for(let a=0;a<t;a++){n=o=0;for(let s=0;s<t;s++)n=n<<1&2047|e.get(a,s),s>=10&&(1488===n||93===n)&&i++,o=o<<1&2047|e.get(s,a),s>=10&&(1488===o||93===o)&&i++}return i*r.N3},t.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let n=0;n<i;n++)t+=e.data[n];let o=Math.abs(Math.ceil(100*t/i/5)-10);return o*r.N4},t.applyMask=function(e,t){let r=t.size;for(let n=0;n<r;n++)for(let o=0;o<r;o++)t.isReserved(o,n)||t.xor(o,n,i(e,o,n))},t.getBestMask=function(e,r){let i=Object.keys(t.Patterns).length,n=0,o=1/0;for(let a=0;a<i;a++){r(a),t.applyMask(a,e);let s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),s<o&&(o=s,n=a)}return n}},76910:function(e,t,r){let i=r(43114),n=r(7007);function o(e){if("string"!=typeof e)throw Error("Param is not a string");let r=e.toLowerCase();switch(r){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw Error("Unknown mode: "+e)}}t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!i.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return n.testNumeric(e)?t.NUMERIC:n.testAlphanumeric(e)?t.ALPHANUMERIC:n.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return o(e)}catch(i){return r}}},41085:function(e,t,r){let i=r(76910);function n(e){this.mode=i.NUMERIC,this.data=e.toString()}n.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)i=parseInt(r=this.data.substr(t,3),10),e.put(i,10);let n=this.data.length-t;n>0&&(i=parseInt(r=this.data.substr(t),10),e.put(i,3*n+1))},e.exports=n},26143:function(e,t,r){let i=r(69729);t.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)r[n+o]^=i.mul(e[n],t[o]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let n=r[0];for(let o=0;o<t.length;o++)r[o]^=i.mul(t[o],n);let a=0;for(;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=t.mul(r,new Uint8Array([1,i.exp(n)]));return r}},95115:function(e,t,r){let i=r(10242),n=r(64908),o=r(97245),a=r(73280),s=r(21845),u=r(76526),l=r(27126),c=r(35393),f=r(52882),h=r(23103),p=r(61642),d=r(76910),g=r(16130);function b(e,t){let r=e.size,i=u.getPositions(t);for(let n=0;n<i.length;n++){let o=i[n][0],a=i[n][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1)&&!(r<=o+s))for(let l=-1;l<=7;l++)a+l<=-1||r<=a+l||(s>=0&&s<=6&&(0===l||6===l)||l>=0&&l<=6&&(0===s||6===s)||s>=2&&s<=4&&l>=2&&l<=4?e.set(o+s,a+l,!0,!0):e.set(o+s,a+l,!1,!0))}}function y(e){let t=e.size;for(let r=8;r<t-8;r++){let i=r%2==0;e.set(r,6,i,!0),e.set(6,r,i,!0)}}function m(e,t){let r=s.getPositions(t);for(let i=0;i<r.length;i++){let n=r[i][0],o=r[i][1];for(let a=-2;a<=2;a++)for(let u=-2;u<=2;u++)-2===a||2===a||-2===u||2===u||0===a&&0===u?e.set(n+a,o+u,!0,!0):e.set(n+a,o+u,!1,!0)}}function v(e,t){let r,i,n;let o=e.size,a=h.getEncodedBits(t);for(let s=0;s<18;s++)r=Math.floor(s/3),i=s%3+o-8-3,n=(a>>s&1)==1,e.set(r,i,n,!0),e.set(i,r,n,!0)}function w(e,t,r){let i,n;let o=e.size,a=p.getEncodedBits(t,r);for(i=0;i<15;i++)n=(a>>i&1)==1,i<6?e.set(i,8,n,!0):i<8?e.set(i+1,8,n,!0):e.set(o-15+i,8,n,!0),i<8?e.set(8,o-i-1,n,!0):i<9?e.set(8,15-i-1+1,n,!0):e.set(8,15-i-1,n,!0);e.set(o-8,8,1,!0)}function E(e,t){let r=e.size,i=-1,n=r-1,o=7,a=0;for(let s=r-1;s>0;s-=2)for(6===s&&s--;;){for(let u=0;u<2;u++)if(!e.isReserved(n,s-u)){let l=!1;a<t.length&&(l=(t[a]>>>o&1)==1),e.set(n,s-u,l),-1==--o&&(a++,o=7)}if((n+=i)<0||r<=n){n-=i,i=-i;break}}}function _(e,t,r){let n=new o;r.forEach(function(t){n.put(t.mode.bit,4),n.put(t.getLength(),d.getCharCountIndicator(t.mode,e)),t.write(n)});let a=i.getSymbolTotalCodewords(e),s=c.getTotalCodewordsCount(e,t),u=(a-s)*8;for(n.getLengthInBits()+4<=u&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);let l=(u-n.getLengthInBits())/8;for(let f=0;f<l;f++)n.put(f%2?17:236,8);return S(n,e,t)}function S(e,t,r){let n,o;let a=i.getSymbolTotalCodewords(t),s=c.getTotalCodewordsCount(t,r),u=a-s,l=c.getBlocksCount(t,r),h=a%l,p=l-h,d=Math.floor(a/l),g=Math.floor(u/l),b=g+1,y=d-g,m=new f(y),v=0,w=Array(l),E=Array(l),_=0,S=new Uint8Array(e.buffer);for(let I=0;I<l;I++){let P=I<p?g:b;w[I]=S.slice(v,v+P),E[I]=m.encode(w[I]),v+=P,_=Math.max(_,P)}let k=new Uint8Array(a),T=0;for(n=0;n<_;n++)for(o=0;o<l;o++)n<w[o].length&&(k[T++]=w[o][n]);for(n=0;n<y;n++)for(o=0;o<l;o++)k[T++]=E[o][n];return k}function I(e,t,r,n){let o;if(Array.isArray(e))o=g.fromArray(e);else if("string"==typeof e){let s=t;if(!s){let u=g.rawSplit(e);s=h.getBestVersionForData(u,r)}o=g.fromString(e,s||40)}else throw Error("Invalid data");let c=h.getBestVersionForData(o,r);if(!c)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<c)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+c+".\n")}else t=c;let f=_(t,r,o),p=i.getSymbolSize(t),d=new a(p);return b(d,t),y(d),m(d,t),w(d,r,0),t>=7&&v(d,t),E(d,f),isNaN(n)&&(n=l.getBestMask(d,w.bind(null,d,r))),l.applyMask(n,d),w(d,r,n),{modules:d,version:t,errorCorrectionLevel:r,maskPattern:n,segments:o}}t.create=function(e,t){let r,o;if(void 0===e||""===e)throw Error("No input text");let a=n.M;return void 0!==t&&(a=n.from(t.errorCorrectionLevel,n.M),r=h.from(t.version),o=l.from(t.maskPattern),t.toSJISFunc&&i.setToSJISFunction(t.toSJISFunc)),I(e,r,a,o)}},52882:function(e,t,r){let i=r(26143);function n(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}n.prototype.initialize=function(e){this.degree=e,this.genPoly=i.generateECPolynomial(this.degree)},n.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=i.mod(t,this.genPoly),n=this.degree-r.length;if(n>0){let o=new Uint8Array(this.degree);return o.set(r,n),o}return r},e.exports=n},7007:function(e,t){let r="[0-9]+",i="[A-Z $%*+\\-./:]+",n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");let o="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";t.KANJI=RegExp(n,"g"),t.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=RegExp(o,"g"),t.NUMERIC=RegExp(r,"g"),t.ALPHANUMERIC=RegExp(i,"g");let a=RegExp("^"+n+"$"),s=RegExp("^"+r+"$"),u=RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return u.test(e)}},16130:function(e,t,r){let i=r(76910),n=r(41085),o=r(8260),a=r(43424),s=r(35442),u=r(7007),l=r(10242),c=r(65987);function f(e){return unescape(encodeURIComponent(e)).length}function h(e,t,r){let i;let n=[];for(;null!==(i=e.exec(r));)n.push({data:i[0],index:i.index,mode:t,length:i[0].length});return n}function p(e){let t,r;let n=h(u.NUMERIC,i.NUMERIC,e),o=h(u.ALPHANUMERIC,i.ALPHANUMERIC,e);l.isKanjiModeEnabled()?(t=h(u.BYTE,i.BYTE,e),r=h(u.KANJI,i.KANJI,e)):(t=h(u.BYTE_KANJI,i.BYTE,e),r=[]);let a=n.concat(o,t,r);return a.sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function d(e,t){switch(t){case i.NUMERIC:return n.getBitsLength(e);case i.ALPHANUMERIC:return o.getBitsLength(e);case i.KANJI:return s.getBitsLength(e);case i.BYTE:return a.getBitsLength(e)}}function g(e){return e.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function b(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];switch(n.mode){case i.NUMERIC:t.push([n,{data:n.data,mode:i.ALPHANUMERIC,length:n.length},{data:n.data,mode:i.BYTE,length:n.length}]);break;case i.ALPHANUMERIC:t.push([n,{data:n.data,mode:i.BYTE,length:n.length}]);break;case i.KANJI:t.push([n,{data:n.data,mode:i.BYTE,length:f(n.data)}]);break;case i.BYTE:t.push([{data:n.data,mode:i.BYTE,length:f(n.data)}])}}return t}function y(e,t){let r={},n={start:{}},o=["start"];for(let a=0;a<e.length;a++){let s=e[a],u=[];for(let l=0;l<s.length;l++){let c=s[l],f=""+a+l;u.push(f),r[f]={node:c,lastCount:0},n[f]={};for(let h=0;h<o.length;h++){let p=o[h];r[p]&&r[p].node.mode===c.mode?(n[p][f]=d(r[p].lastCount+c.length,c.mode)-d(r[p].lastCount,c.mode),r[p].lastCount+=c.length):(r[p]&&(r[p].lastCount=c.length),n[p][f]=d(c.length,c.mode)+4+i.getCharCountIndicator(c.mode,t))}}o=u}for(let g=0;g<o.length;g++)n[o[g]].end=0;return{map:n,table:r}}function m(e,t){let r;let u=i.getBestModeForData(e);if((r=i.from(t,u))!==i.BYTE&&r.bit<u.bit)throw Error('"'+e+'" cannot be encoded with mode '+i.toString(r)+".\n Suggested mode is: "+i.toString(u));switch(r!==i.KANJI||l.isKanjiModeEnabled()||(r=i.BYTE),r){case i.NUMERIC:return new n(e);case i.ALPHANUMERIC:return new o(e);case i.KANJI:return new s(e);case i.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e},[])},t.fromString=function(e,r){let i=p(e,l.isKanjiModeEnabled()),n=b(i),o=y(n,r),a=c.find_path(o.map,"start","end"),s=[];for(let u=1;u<a.length-1;u++)s.push(o.table[a[u]].node);return t.fromArray(g(s))},t.rawSplit=function(e){return t.fromArray(p(e,l.isKanjiModeEnabled()))}},10242:function(e,t){let r;let i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return i[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},43114:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},23103:function(e,t,r){let i=r(10242),n=r(35393),o=r(64908),a=r(76910),s=r(43114),u=7973,l=i.getBCHDigit(u);function c(e,r,i){for(let n=1;n<=40;n++)if(r<=t.getCapacity(n,i,e))return n}function f(e,t){return a.getCharCountIndicator(e,t)+4}function h(e,t){let r=0;return e.forEach(function(e){let i=f(e.mode,t);r+=i+e.getBitsLength()}),r}function p(e,r){for(let i=1;i<=40;i++){let n=h(e,i);if(n<=t.getCapacity(i,r,a.MIXED))return i}}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!s.isValid(e))throw Error("Invalid QR Code version");void 0===r&&(r=a.BYTE);let o=i.getSymbolTotalCodewords(e),u=n.getTotalCodewordsCount(e,t),l=(o-u)*8;if(r===a.MIXED)return l;let c=l-f(r,e);switch(r){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,t){let r;let i=o.from(t,o.M);if(Array.isArray(e)){if(e.length>1)return p(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return c(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;i.getBCHDigit(t)-l>=0;)t^=u<<i.getBCHDigit(t)-l;return e<<12|t}},6907:function(e,t,r){let i=r(89653);function n(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}function o(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}t.render=function(e,t,r){let a=r,s=t;void 0!==a||t&&t.getContext||(a=t,t=void 0),t||(s=o()),a=i.getOptions(a);let u=i.getImageWidth(e.modules.size,a),l=s.getContext("2d"),c=l.createImageData(u,u);return i.qrToImageData(c.data,e,a),n(l,s,u),l.putImageData(c,0,0),s},t.renderToDataURL=function(e,r,i){let n=i;void 0!==n||r&&r.getContext||(n=r,r=void 0),n||(n={});let o=t.render(e,r,n),a=n.type||"image/png",s=n.rendererOpts||{};return o.toDataURL(a,s.quality)}},93776:function(e,t,r){let i=r(89653);function n(e,t){let r=e.a/255,i=t+'="'+e.hex+'"';return r<1?i+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':i}function o(e,t,r){let i=e+t;return void 0!==r&&(i+=" "+r),i}function a(e,t,r){let i="",n=0,a=!1,s=0;for(let u=0;u<e.length;u++){let l=Math.floor(u%t),c=Math.floor(u/t);l||a||(a=!0),e[u]?(s++,u>0&&l>0&&e[u-1]||(i+=a?o("M",l+r,.5+c+r):o("m",n,0),n=0,a=!1),l+1<t&&e[u+1]||(i+=o("h",s),s=0)):n++}return i}t.render=function(e,t,r){let o=i.getOptions(t),s=e.modules.size,u=e.modules.data,l=s+2*o.margin,c=o.color.light.a?"<path "+n(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",f="<path "+n(o.color.dark,"stroke")+' d="'+a(u,s,o.margin)+'"/>',h='viewBox="0 0 '+l+" "+l+'"',p=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",d='<svg xmlns="http://www.w3.org/2000/svg" '+p+h+' shape-rendering="crispEdges">'+c+f+"</svg>\n";return"function"==typeof r&&r(null,d),d}},89653:function(e,t){function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){let i=t.getScale(e,r);return Math.floor((e+2*r.margin)*i)},t.qrToImageData=function(e,r,i){let n=r.modules.size,o=r.modules.data,a=t.getScale(n,i),s=Math.floor((n+2*i.margin)*a),u=i.margin*a,l=[i.color.light,i.color.dark];for(let c=0;c<s;c++)for(let f=0;f<s;f++){let h=(c*s+f)*4,p=i.color.light;if(c>=u&&f>=u&&c<s-u&&f<s-u){let d=Math.floor((c-u)/a),g=Math.floor((f-u)/a);p=l[o[d*n+g]?1:0]}e[h++]=p.r,e[h++]=p.g,e[h++]=p.b,e[h]=p.a}}},61798:function(e,t,r){"use strict";var i=r(83454),n=65536,o=4294967295;function a(){throw Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var s=r(89509).Buffer,u=r.g.crypto||r.g.msCrypto;function l(e,t){if(e>o)throw RangeError("requested too many random bytes");var r=s.allocUnsafe(e);if(e>0){if(e>n)for(var a=0;a<e;a+=n)u.getRandomValues(r.slice(a,a+n));else u.getRandomValues(r)}return"function"==typeof t?i.nextTick(function(){t(null,r)}):r}u&&u.getRandomValues?e.exports=l:e.exports=a},94281:function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r={};function i(e,i,n){function o(e,t,r){return"string"==typeof i?i:i(e,t,r)}n||(n=Error);var a=function(e){function r(t,r,i){return e.call(this,o(t,r,i))||this}return t(r,e),r}(n);a.prototype.name=n.name,a.prototype.code=e,r[e]=a}function n(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var r=e.length;return(e=e.map(function(e){return String(e)}),r>2)?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}function o(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function a(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function s(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){if("string"==typeof t&&o(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",a(e," argument"))u="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var i,u,l=s(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(n(t,"type"))}return u+". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=r},56753:function(e,t,r){"use strict";var i=r(83454),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var o=r(79481),a=r(64229);r(35717)(c,o);for(var s=n(a.prototype),u=0;u<s.length;u++){var l=s[u];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82725:function(e,t,r){"use strict";e.exports=n;var i=r(74605);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(35717)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},79481:function(e,t,r){"use strict";var i,n,o,a,s,u=r(83454);e.exports=O,O.ReadableState=T,r(25293).EventEmitter;var l=function(e,t){return e.listeners(t).length},c=r(22503),f=r(21876).Buffer,h=r.g.Uint8Array||function(){};function p(e){return f.from(e)}function d(e){return f.isBuffer(e)||e instanceof h}var g=r(94616);n=g&&g.debuglog?g.debuglog("stream"):function(){};var b=r(57327),y=r(61195),m=r(82457).getHighWaterMark,v=r(94281).q,w=v.ERR_INVALID_ARG_TYPE,E=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(O,c);var I=y.errorOrDestroy,P=["error","close","destroy","pause","resume"];function k(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function T(e,t,n){i=i||r(56753),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=r(32553).StringDecoder),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function O(e){if(i=i||r(56753),!(this instanceof O))return new O(e);var t=this instanceof i;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function A(e,t,r,i,o){n("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,U(e,s);else if(o||(a=N(s,t)),a)I(e,a);else if(s.objectMode||t&&t.length>0){if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=p(t)),i)s.endEmitted?I(e,new S):x(e,s,t,!0);else if(s.ended)I(e,new E);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?x(e,s,t,!1):L(e,s)):x(e,s,t,!1)}}else i||(s.reading=!1,L(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function x(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&M(e)),L(e,t)}function N(e,t){var r;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new w("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=y.destroy,O.prototype._undestroy=y.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=f.from(e,t),t=""),r=!0),A(this,e,t,!1,r)},O.prototype.unshift=function(e){return A(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){o||(o=r(32553).StringDecoder);var t=new o(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var R=1073741824;function B(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=B(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function U(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?M(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}}function M(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,u.nextTick(j,e))}function j(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,q(e)}function L(e,t){t.readingMore||(t.readingMore=!0,u.nextTick(K,e,t))}function K(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function D(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&l(e,"data")&&(t.flowing=!0,q(e))}}function H(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function z(e){n("readable nexttick read 0"),e.read(0)}function F(e,t){t.resumeScheduled||(t.resumeScheduled=!0,u.nextTick(V,e,t))}function V(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),q(e),t.flowing&&!t.reading&&e.read(0)}function q(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function W(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function G(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,u.nextTick(X,t,e))}function X(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return -1}O.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t,r=this._readableState,i=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return n("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?G(this):M(this),null;if(0===(e=C(e,r))&&r.ended)return 0===r.length&&G(this),null;var o=r.needReadable;return n("need readable",o),(0===r.length||r.length-e<r.highWaterMark)&&n("length less than watermark",o=!0),r.ended||r.reading?n("reading or ended",o=!1):o&&(n("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=C(i,r))),null===(t=e>0?W(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&G(this)),null!==t&&this.emit("data",t),t},O.prototype._read=function(e){I(this,new _("_read()"))},O.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,n("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===u.stdout||e===u.stderr?y:s;function a(e,t){n("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function s(){n("onend"),e.end()}i.endEmitted?u.nextTick(o):r.once("end",o),e.on("unpipe",a);var c=D(r);e.on("drain",c);var f=!1;function h(){n("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",p),f=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}function p(t){n("ondata");var o=e.write(t);n("dest.write",o),!1===o&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Y(i.pipes,e))&&!f&&(n("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){n("onerror",t),y(),e.removeListener("error",d),0===l(e,"error")&&I(e,t)}function g(){e.removeListener("finish",b),y()}function b(){n("onfinish"),e.removeListener("close",g),y()}function y(){n("unpipe"),r.unpipe(e)}return r.on("data",p),k(e,"error",d),e.once("close",g),e.once("finish",b),e.emit("pipe",r),i.flowing||(n("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Y(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?M(this):i.reading||u.nextTick(z,this)),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=c.prototype.removeListener.call(this,e,t);return"readable"===e&&u.nextTick(H,this),r},O.prototype.removeAllListeners=function(e){var t=c.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&u.nextTick(H,this),t},O.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,F(this,e)),e.paused=!1,this},O.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var o in e.on("end",function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){n("wrapped data"),r.decoder&&(o=r.decoder.write(o)),(!r.objectMode||null!=o)&&(r.objectMode||o&&o.length)&&(t.push(o)||(i=!0,e.pause()))}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<P.length;a++)e.on(P[a],this.emit.bind(this,P[a]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=r(45850)),a(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=W,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return void 0===s&&(s=r(15167)),s(O,e,t)})},74605:function(e,t,r){"use strict";e.exports=c;var i=r(94281).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,u=r(56753);function l(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(35717)(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new n("_transform()"))},c.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},64229:function(e,t,r){"use strict";var i,n,o=r(83454);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){V(t,e)}}e.exports=T,T.WritableState=k;var s={deprecate:r(94927)},u=r(22503),l=r(21876).Buffer,c=r.g.Uint8Array||function(){};function f(e){return l.from(e)}function h(e){return l.isBuffer(e)||e instanceof c}var p=r(61195),d=r(82457).getHighWaterMark,g=r(94281).q,b=g.ERR_INVALID_ARG_TYPE,y=g.ERR_METHOD_NOT_IMPLEMENTED,m=g.ERR_MULTIPLE_CALLBACK,v=g.ERR_STREAM_CANNOT_PIPE,w=g.ERR_STREAM_DESTROYED,E=g.ERR_STREAM_NULL_VALUES,_=g.ERR_STREAM_WRITE_AFTER_END,S=g.ERR_UNKNOWN_ENCODING,I=p.errorOrDestroy;function P(){}function k(e,t,n){i=i||r(56753),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){U(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function T(e){var t=this instanceof(i=i||r(56753));if(!t&&!n.call(T,this))return new T(e);this._writableState=new k(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function O(e,t){var r=new _;I(e,r),o.nextTick(t,r)}function A(e,t,r,i){var n;return null===r?n=new E:"string"==typeof r||t.objectMode||(n=new b("chunk",["string","Buffer"],r)),!n||(I(e,n),o.nextTick(i,n),!1)}function x(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}function N(e,t,r,i,n,o){if(!r){var a=x(t,i,n);i!==a&&(r=!0,n="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,s,i,n,o);return u}function R(e,t,r,i,n,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new w("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function B(e,t,r,i,n){--t.pendingcb,r?(o.nextTick(n,i),o.nextTick(z,e,t),e._writableState.errorEmitted=!0,I(e,i)):(n(i),e._writableState.errorEmitted=!0,I(e,i),z(e,t))}function C(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function U(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new m;if(C(r),t)B(e,r,i,t,n);else{var a=K(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),i?o.nextTick(M,e,r,a,n):M(e,r,a,n)}}function M(e,t,r,i){r||j(e,t),t.pendingcb--,i(),z(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function L(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),n=t.corkedRequestsFree;n.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,R(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback,f=t.objectMode?1:u.length;if(R(e,t,!1,f,u,l,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function K(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function D(e,t){e._final(function(r){t.pendingcb--,r&&I(e,r),t.prefinished=!0,e.emit("prefinish"),z(e,t)})}function H(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(D,e,t)))}function z(e,t){var r=K(t);if(r&&(H(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function F(e,t,r){t.ending=!0,z(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function V(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}r(35717)(T,u),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!n.call(this,e)||this===T&&e&&e._writableState instanceof k}})):n=function(e){return e instanceof this},T.prototype.pipe=function(){I(this,new v)},T.prototype.write=function(e,t,r){var i=this._writableState,n=!1,o=!i.objectMode&&h(e);return o&&!l.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=P),i.ending?O(this,r):(o||A(this,i,e,r))&&(i.pendingcb++,n=N(this,i,o,e,t,r)),n},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new y("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||F(this,i,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=p.destroy,T.prototype._undestroy=p.undestroy,T.prototype._destroy=function(e,t){t(e)}},45850:function(e,t,r){"use strict";var i,n=r(83454);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(8610),s=Symbol("lastResolve"),u=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function d(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(d(r,!1)))}}function b(e){n.nextTick(g,e)}function y(e,t){return function(r,i){e.then(function(){if(t[c]){r(d(void 0,!0));return}t[h](r,i)},i)}}var m=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((o(i={get stream(){return this[p]},next:function(){var e,t=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){n.nextTick(function(){t[l]?r(t[l]):e(d(void 0,!0))})});var i=this[f];if(i)e=new Promise(y(i,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(d(o,!1));e=new Promise(this[h])}return this[f]=e,e}},Symbol.asyncIterator,function(){return this}),o(i,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(d(void 0,!0))})})}),i),m),w=function(e){var t,r=Object.create(v,(o(t={},p,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,c,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var i=r[p].read();i?(r[f]=null,r[s]=null,r[u]=null,e(d(i,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),r[l]=e;return}var i=r[s];null!==i&&(r[f]=null,r[s]=null,r[u]=null,i(d(void 0,!0))),r[c]=!0}),e.on("readable",b.bind(null,r)),r};e.exports=w},57327:function(e,t,r){"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var l=r(21876).Buffer,c=r(52361).inspect,f=c&&c.custom||"inspect";function h(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return u(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t=l.allocUnsafe(e>>>0),r=this.head,i=0;r;)h(r.data,t,i),i+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?i+=n:i+=n.slice(0,e),0==(e-=o)){o===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,t}},{key:f,value:function(e,t){return c(this,n({},t,{depth:0,customInspect:!1}))}}]),e}()},61195:function(e,t,r){"use strict";var i=r(83454);function n(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(u,this,e)):i.nextTick(u,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(a,r):(r._writableState.errorEmitted=!0,i.nextTick(o,r,e)):i.nextTick(o,r,e):t?(i.nextTick(a,r),t(e)):i.nextTick(a,r)}),this)}function o(e,t){u(e,t),a(e)}function a(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(e,t){e.emit("error",t)}function l(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:n,undestroy:s,errorOrDestroy:l}},8610:function(e,t,r){"use strict";var i=r(94281).q.ERR_STREAM_PREMATURE_CLOSE;function n(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function o(){}function a(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=n(r||o);var u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,c=function(){e.writable||h()},f=e._writableState&&e._writableState.finished,h=function(){l=!1,f=!0,u||r.call(e)},p=e._readableState&&e._readableState.endEmitted,d=function(){u=!1,p=!0,l||r.call(e)},g=function(t){r.call(e,t)},b=function(){var t;return u&&!p?(e._readableState&&e._readableState.ended||(t=new i),r.call(e,t)):l&&!f?(e._writableState&&e._writableState.ended||(t=new i),r.call(e,t)):void 0},y=function(){e.req.on("finish",h)};return a(e)?(e.on("complete",h),e.on("abort",b),e.req?y():e.on("request",y)):l&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",d),e.on("finish",h),!1!==t.error&&e.on("error",g),e.on("close",b),function(){e.removeListener("complete",h),e.removeListener("abort",b),e.removeListener("request",y),e.req&&e.req.removeListener("finish",h),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",h),e.removeListener("end",d),e.removeListener("error",g),e.removeListener("close",b)}}e.exports=s},15167:function(e){e.exports=function(){throw Error("Readable.from is not available in the browser")}},59946:function(e,t,r){"use strict";function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var n,o=r(94281).q,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function l(e){return e.setHeader&&"function"==typeof e.abort}function c(e,t,o,a){a=i(a);var u=!1;e.on("close",function(){u=!0}),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:o},function(e){if(e)return a(e);u=!0,a()});var c=!1;return function(t){if(!u&&!c){if(c=!0,l(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();a(t||new s("pipe"))}}}function f(e){e()}function h(e,t){return e.pipe(t)}function p(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():u}function d(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var n=p(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new a("streams");var o=r.map(function(t,i){var a=i<r.length-1;return c(t,a,i>0,function(t){e||(e=t),t&&o.forEach(f),a||(o.forEach(f),n(e))})});return r.reduce(h)}e.exports=d},82457:function(e,t,r){"use strict";var i=r(94281).q.ERR_INVALID_OPT_VALUE;function n(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function o(e,t,r,o){var a=n(t,o,r);if(null!=a){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=o?r:"highWaterMark";throw new i(s,a)}return Math.floor(a)}return e.objectMode?16:16384}e.exports={getHighWaterMark:o}},22503:function(e,t,r){e.exports=r(25293).EventEmitter},88473:function(e,t,r){(t=e.exports=r(79481)).Stream=t,t.Readable=t,t.Writable=r(64229),t.Duplex=r(56753),t.Transform=r(74605),t.PassThrough=r(82725),t.finished=r(8610),t.pipeline=r(59946)},79785:function(e,t,r){"use strict";var i=r(21876).Buffer,n=r(35717),o=r(3349),a=Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function p(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(e,t){return e<<t|e>>>32-t}function g(e,t,r,i,n,o,a,s){return d(e+(t^r^i)+o+a|0,s)+n|0}function b(e,t,r,i,n,o,a,s){return d(e+(t&r|~t&i)+o+a|0,s)+n|0}function y(e,t,r,i,n,o,a,s){return d(e+((t|~r)^i)+o+a|0,s)+n|0}function m(e,t,r,i,n,o,a,s){return d(e+(t&i|r&~i)+o+a|0,s)+n|0}function v(e,t,r,i,n,o,a,s){return d(e+(t^(r|~i))+o+a|0,s)+n|0}n(p,o),p.prototype._update=function(){for(var e,t,r=a,i=0;i<16;++i)r[i]=this._block.readInt32LE(4*i);for(var n=0|this._a,o=0|this._b,p=0|this._c,w=0|this._d,E=0|this._e,_=0|this._a,S=0|this._b,I=0|this._c,P=0|this._d,k=0|this._e,T=0;T<80;T+=1)T<16?(e=g(n,o,p,w,E,r[s[T]],f[0],l[T]),t=v(_,S,I,P,k,r[u[T]],h[0],c[T])):T<32?(e=b(n,o,p,w,E,r[s[T]],f[1],l[T]),t=m(_,S,I,P,k,r[u[T]],h[1],c[T])):T<48?(e=y(n,o,p,w,E,r[s[T]],f[2],l[T]),t=y(_,S,I,P,k,r[u[T]],h[2],c[T])):T<64?(e=m(n,o,p,w,E,r[s[T]],f[3],l[T]),t=b(_,S,I,P,k,r[u[T]],h[3],c[T])):(e=v(n,o,p,w,E,r[s[T]],f[4],l[T]),t=g(_,S,I,P,k,r[u[T]],h[4],c[T])),n=E,E=w,w=d(p,10),p=o,o=e,_=k,k=P,P=d(I,10),I=S,S=t;var O=this._b+p+P|0;this._b=this._c+w+k|0,this._c=this._d+E+_|0,this._d=this._e+n+S|0,this._e=this._a+o+I|0,this._a=O},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=p},89509:function(e,t,r){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */ var i=r(21876),n=i.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(n.prototype),o(n,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},17221:function(e,t,r){e.exports=r(59119)(r(58573))},58573:function(e,t,r){let i=r(86266).ec,n=new i("secp256k1"),o=n.curve,a=o.n.constructor;function s(e,t){let r=new a(t);if(r.cmp(o.p)>=0)return null;let i=(r=r.toRed(o.red)).redSqr().redIMul(r).redIAdd(o.b).redSqrt();return 3===e!==i.isOdd()&&(i=i.redNeg()),n.keyPair({pub:{x:r,y:i}})}function u(e,t,r){let i=new a(t),s=new a(r);if(i.cmp(o.p)>=0||s.cmp(o.p)>=0||(i=i.toRed(o.red),s=s.toRed(o.red),(6===e||7===e)&&s.isOdd()!==(7===e)))return null;let u=i.redSqr().redIMul(i);return s.redSqr().redISub(u.redIAdd(o.b)).isZero()?n.keyPair({pub:{x:i,y:s}}):null}function l(e){let t=e[0];switch(t){case 2:case 3:if(33!==e.length)return null;return s(t,e.subarray(1,33));case 4:case 6:case 7:if(65!==e.length)return null;return u(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function c(e,t){let r=t.encode(null,33===e.length);for(let i=0;i<e.length;++i)e[i]=r[i]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){let t=new a(e);return 0>t.cmp(o.n)&&!t.isZero()?0:1},privateKeyNegate(e){let t=new a(e),r=o.n.sub(t).umod(o.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){let r=new a(t);if(r.cmp(o.n)>=0||(r.iadd(new a(e)),r.cmp(o.n)>=0&&r.isub(o.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return e.set(i),0},privateKeyTweakMul(e,t){let r=new a(t);if(r.cmp(o.n)>=0||r.isZero())return 1;r.imul(new a(e)),r.cmp(o.n)>=0&&(r=r.umod(o.n));let i=r.toArrayLike(Uint8Array,"be",32);return e.set(i),0},publicKeyVerify(e){let t=l(e);return null===t?1:0},publicKeyCreate(e,t){let r=new a(t);if(r.cmp(o.n)>=0||r.isZero())return 1;let i=n.keyFromPrivate(t).getPublic();return c(e,i),0},publicKeyConvert(e,t){let r=l(t);if(null===r)return 1;let i=r.getPublic();return c(e,i),0},publicKeyNegate(e,t){let r=l(t);if(null===r)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),c(e,i),0},publicKeyCombine(e,t){let r=Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=l(t[i]),null===r[i])return 1;let n=r[0].getPublic();for(let o=1;o<r.length;++o)n=n.add(r[o].pub);return n.isInfinity()?2:(c(e,n),0)},publicKeyTweakAdd(e,t,r){let i=l(t);if(null===i)return 1;if((r=new a(r)).cmp(o.n)>=0)return 2;let n=i.getPublic().add(o.g.mul(r));return n.isInfinity()?2:(c(e,n),0)},publicKeyTweakMul(e,t,r){let i=l(t);if(null===i)return 1;if((r=new a(r)).cmp(o.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return c(e,n),0},signatureNormalize(e){let t=new a(e.subarray(0,32)),r=new a(e.subarray(32,64));return t.cmp(o.n)>=0||r.cmp(o.n)>=0?1:(1===r.cmp(n.nh)&&e.set(o.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){let r=t.subarray(0,32),i=t.subarray(32,64);if(new a(r).cmp(o.n)>=0||new a(i).cmp(o.n)>=0)return 1;let{output:n}=e,s=n.subarray(4,37);s[0]=0,s.set(r,1);let u=33,l=0;for(;u>1&&0===s[l]&&!(128&s[l+1]);--u,++l);if(128&(s=s.subarray(l))[0]||u>1&&0===s[0]&&!(128&s[1]))return 1;let c=n.subarray(39,72);c[0]=0,c.set(i,1);let f=33,h=0;for(;f>1&&0===c[h]&&!(128&c[h+1]);--f,++h);return 128&(c=c.subarray(h))[0]||f>1&&0===c[0]&&!(128&c[1])?1:(e.outputlen=6+u+f,n[0]=48,n[1]=e.outputlen-2,n[2]=2,n[3]=s.length,n.set(s,4),n[4+u]=2,n[5+u]=c.length,n.set(c,6+u),0)},signatureImport(e,t){if(t.length<8||t.length>72||48!==t[0]||t[1]!==t.length-2||2!==t[2])return 1;let r=t[3];if(0===r||5+r>=t.length||2!==t[4+r])return 1;let i=t[5+r];if(0===i||6+r+i!==t.length||128&t[4]||r>1&&0===t[4]&&!(128&t[5])||128&t[r+6]||i>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let n=t.subarray(4,4+r);if(33===n.length&&0===n[0]&&(n=n.subarray(1)),n.length>32)return 1;let s=t.subarray(6+r);if(33===s.length&&0===s[0]&&(s=s.slice(1)),s.length>32)throw Error("S length is too long");let u=new a(n);u.cmp(o.n)>=0&&(u=new a(0));let l=new a(t.subarray(6+r));return l.cmp(o.n)>=0&&(l=new a(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(l.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,i,s){let u;if(s){let l=s;s=e=>{let n=l(t,r,null,i,e),o=n instanceof Uint8Array&&32===n.length;if(!o)throw Error("This is the way");return new a(n)}}let c=new a(r);if(c.cmp(o.n)>=0||c.isZero())return 1;try{u=n.sign(t,r,{canonical:!0,k:s,pers:i})}catch(f){return 1}return e.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),e.recid=u.recoveryParam,0},ecdsaVerify(e,t,r){let i={r:e.subarray(0,32),s:e.subarray(32,64)},s=new a(i.r),u=new a(i.s);if(s.cmp(o.n)>=0||u.cmp(o.n)>=0)return 1;if(1===u.cmp(n.nh)||s.isZero()||u.isZero())return 3;let c=l(r);if(null===c)return 2;let f=c.getPublic(),h=n.verify(t,i,f);return h?0:3},ecdsaRecover(e,t,r,i){let s;let u={r:t.slice(0,32),s:t.slice(32,64)},l=new a(u.r),f=new a(u.s);if(l.cmp(o.n)>=0||f.cmp(o.n)>=0)return 1;if(l.isZero()||f.isZero())return 2;try{s=n.recoverPubKey(i,u,r)}catch(h){return 2}return c(e,s),0},ecdh(e,t,r,i,s,u,c){let f=l(t);if(null===f)return 1;let h=new a(r);if(h.cmp(o.n)>=0||h.isZero())return 2;let p=f.getPublic().mul(h);if(void 0===s){let d=p.encode(null,!0),g=n.hash().update(d).digest();for(let b=0;b<32;++b)e[b]=g[b]}else{u||(u=new Uint8Array(32));let y=p.getX().toArray("be",32);for(let m=0;m<32;++m)u[m]=y[m];c||(c=new Uint8Array(32));let v=p.getY().toArray("be",32);for(let w=0;w<32;++w)c[w]=v[w];let E=s(u,c,i),_=E instanceof Uint8Array&&E.length===e.length;if(!_)return 2;e.set(E)}return 0}}},59119:function(e){let t={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function r(e,t){if(!e)throw Error(t)}function i(e,t,i){if(r(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==i){if(Array.isArray(i)){let n=i.join(", "),o=`Expected ${e} to be an Uint8Array with length [${n}]`;r(i.includes(t.length),o)}else{let a=`Expected ${e} to be an Uint8Array with length ${i}`;r(t.length===i,a)}}}function n(e){r("Boolean"===a(e),"Expected compressed to be a Boolean")}function o(e=e=>new Uint8Array(e),t){return"function"==typeof e&&(e=e(t)),i("output",e,t),e}function a(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(n){if(r(null===n||n instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==n&&i("seed",n,32),1===e.contextRandomize(n))throw Error(t.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify:t=>(i("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(i("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw Error(t.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(r,n){switch(i("private key",r,32),i("tweak",n,32),e.privateKeyTweakAdd(r,n)){case 0:return r;case 1:throw Error(t.TWEAK_ADD)}},privateKeyTweakMul(r,n){switch(i("private key",r,32),i("tweak",n,32),e.privateKeyTweakMul(r,n)){case 0:return r;case 1:throw Error(t.TWEAK_MUL)}},publicKeyVerify:t=>(i("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(r,a=!0,s){switch(i("private key",r,32),n(a),s=o(s,a?33:65),e.publicKeyCreate(s,r)){case 0:return s;case 1:throw Error(t.SECKEY_INVALID);case 2:throw Error(t.PUBKEY_SERIALIZE)}},publicKeyConvert(r,a=!0,s){switch(i("public key",r,[33,65]),n(a),s=o(s,a?33:65),e.publicKeyConvert(s,r)){case 0:return s;case 1:throw Error(t.PUBKEY_PARSE);case 2:throw Error(t.PUBKEY_SERIALIZE)}},publicKeyNegate(r,a=!0,s){switch(i("public key",r,[33,65]),n(a),s=o(s,a?33:65),e.publicKeyNegate(s,r)){case 0:return s;case 1:throw Error(t.PUBKEY_PARSE);case 2:throw Error(t.IMPOSSIBLE_CASE);case 3:throw Error(t.PUBKEY_SERIALIZE)}},publicKeyCombine(a,s=!0,u){for(let l of(r(Array.isArray(a),"Expected public keys to be an Array"),r(a.length>0,"Expected public keys array will have more than zero items"),a))i("public key",l,[33,65]);switch(n(s),u=o(u,s?33:65),e.publicKeyCombine(u,a)){case 0:return u;case 1:throw Error(t.PUBKEY_PARSE);case 2:throw Error(t.PUBKEY_COMBINE);case 3:throw Error(t.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(r,a,s=!0,u){switch(i("public key",r,[33,65]),i("tweak",a,32),n(s),u=o(u,s?33:65),e.publicKeyTweakAdd(u,r,a)){case 0:return u;case 1:throw Error(t.PUBKEY_PARSE);case 2:throw Error(t.TWEAK_ADD)}},publicKeyTweakMul(r,a,s=!0,u){switch(i("public key",r,[33,65]),i("tweak",a,32),n(s),u=o(u,s?33:65),e.publicKeyTweakMul(u,r,a)){case 0:return u;case 1:throw Error(t.PUBKEY_PARSE);case 2:throw Error(t.TWEAK_MUL)}},signatureNormalize(r){switch(i("signature",r,64),e.signatureNormalize(r)){case 0:return r;case 1:throw Error(t.SIG_PARSE)}},signatureExport(r,n){i("signature",r,64),n=o(n,72);let a={output:n,outputlen:72};switch(e.signatureExport(a,r)){case 0:return n.slice(0,a.outputlen);case 1:throw Error(t.SIG_PARSE);case 2:throw Error(t.IMPOSSIBLE_CASE)}},signatureImport(r,n){switch(i("signature",r),n=o(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw Error(t.SIG_PARSE);case 2:throw Error(t.IMPOSSIBLE_CASE)}},ecdsaSign(n,s,u={},l){i("message",n,32),i("private key",s,32),r("Object"===a(u),"Expected options to be an Object"),void 0!==u.data&&i("options.data",u.data),void 0!==u.noncefn&&r("Function"===a(u.noncefn),"Expected options.noncefn to be a Function"),l=o(l,64);let c={signature:l,recid:null};switch(e.ecdsaSign(c,n,s,u.data,u.noncefn)){case 0:return c;case 1:throw Error(t.SIGN);case 2:throw Error(t.IMPOSSIBLE_CASE)}},ecdsaVerify(r,n,o){switch(i("signature",r,64),i("message",n,32),i("public key",o,[33,65]),e.ecdsaVerify(r,n,o)){case 0:return!0;case 3:return!1;case 1:throw Error(t.SIG_PARSE);case 2:throw Error(t.PUBKEY_PARSE)}},ecdsaRecover(s,u,l,c=!0,f){switch(i("signature",s,64),r("Number"===a(u)&&u>=0&&u<=3,"Expected recovery id to be a Number within interval [0, 3]"),i("message",l,32),n(c),f=o(f,c?33:65),e.ecdsaRecover(f,s,u,l)){case 0:return f;case 1:throw Error(t.SIG_PARSE);case 2:throw Error(t.RECOVER);case 3:throw Error(t.IMPOSSIBLE_CASE)}},ecdh(n,s,u={},l){switch(i("public key",n,[33,65]),i("private key",s,32),r("Object"===a(u),"Expected options to be an Object"),void 0!==u.data&&i("options.data",u.data),void 0!==u.hashfn?(r("Function"===a(u.hashfn),"Expected options.hashfn to be a Function"),void 0!==u.xbuf&&i("options.xbuf",u.xbuf,32),void 0!==u.ybuf&&i("options.ybuf",u.ybuf,32),i("output",l)):l=o(l,32),e.ecdh(l,n,s,u.data,u.hashfn,u.xbuf,u.ybuf)){case 0:return l;case 1:throw Error(t.PUBKEY_PARSE);case 2:throw Error(t.ECDH)}}})},24189:function(e,t,r){var i=r(89509).Buffer;function n(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var r=this._block,n=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%n,l=Math.min(o-s,n-u),c=0;c<l;c++)r[u+c]=e[s+c];a+=l,s+=l,a%n==0&&this._update(r)}return this._len+=o,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},n.prototype._update=function(){throw Error("_update must be implemented by subclass")},e.exports=n},89072:function(e,t,r){var i=e.exports=function(e){var t=i[e=e.toLowerCase()];if(!t)throw Error(e+" is not supported (we accept pull requests)");return new t};i.sha=r(74448),i.sha1=r(18336),i.sha224=r(48432),i.sha256=r(67499),i.sha384=r(51686),i.sha512=r(87816)},74448:function(e,t,r){var i=r(35717),n=r(24189),o=r(89509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=Array(80);function u(){this.init(),this._w=s,n.call(this,64,56)}function l(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function f(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(u,n),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var h=0;h<80;++h){var p=~~(h/20),d=l(r)+f(p,i,n,o)+s+t[h]+a[p]|0;s=o,o=n,n=c(i),i=r,r=d}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},18336:function(e,t,r){var i=r(35717),n=r(24189),o=r(89509).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=Array(80);function u(){this.init(),this._w=s,n.call(this,64,56)}function l(e){return e<<1|e>>>31}function c(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function h(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(u,n),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=l(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var p=0;p<80;++p){var d=~~(p/20),g=c(r)+h(d,i,n,o)+s+t[p]+a[d]|0;s=o,o=n,n=f(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},48432:function(e,t,r){var i=r(35717),n=r(67499),o=r(24189),a=r(89509).Buffer,s=Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}i(u,n),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},67499:function(e,t,r){var i=r(35717),n=r(24189),o=r(89509).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=Array(64);function u(){this.init(),this._w=s,n.call(this,64,56)}function l(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function d(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}i(u,n),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,o=0|this._d,s=0|this._e,u=0|this._f,g=0|this._g,b=0|this._h,y=0;y<16;++y)t[y]=e.readInt32BE(4*y);for(;y<64;++y)t[y]=d(t[y-2])+t[y-7]+p(t[y-15])+t[y-16]|0;for(var m=0;m<64;++m){var v=b+h(s)+l(s,u,g)+a[m]+t[m]|0,w=f(r)+c(r,i,n)|0;b=g,g=u,u=s,s=o+v|0,o=n,n=i,i=r,r=v+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=u+this._f|0,this._g=g+this._g|0,this._h=b+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},51686:function(e,t,r){var i=r(35717),n=r(87816),o=r(24189),a=r(89509).Buffer,s=Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}i(u,n),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},87816:function(e,t,r){var i=r(35717),n=r(24189),o=r(89509).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=Array(160);function u(){this.init(),this._w=s,n.call(this,128,112)}function l(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}i(u,n),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,i=0|this._bh,n=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,m=0|this._gh,v=0|this._hh,w=0|this._al,E=0|this._bl,_=0|this._cl,S=0|this._dl,I=0|this._el,P=0|this._fl,k=0|this._gl,T=0|this._hl,O=0;O<32;O+=2)t[O]=e.readInt32BE(4*O),t[O+1]=e.readInt32BE(4*O+4);for(;O<160;O+=2){var A=t[O-30],x=t[O-30+1],N=p(A,x),R=d(x,A);A=t[O-4],x=t[O-4+1];var B=g(A,x),C=b(x,A),U=t[O-14],M=t[O-14+1],j=t[O-32],L=t[O-32+1],K=R+M|0,D=N+U+y(K,R)|0;D=(D=D+B+y(K=K+C|0,C)|0)+j+y(K=K+L|0,L)|0,t[O]=D,t[O+1]=K}for(var H=0;H<160;H+=2){D=t[H],K=t[H+1];var z=c(r,i,n),F=c(w,E,_),V=f(r,w),q=f(w,r),W=h(s,I),G=h(I,s),X=a[H],Y=a[H+1],Z=l(s,u,m),$=l(I,P,k),J=T+G|0,Q=v+W+y(J,T)|0;Q=(Q=(Q=Q+Z+y(J=J+$|0,$)|0)+X+y(J=J+Y|0,Y)|0)+D+y(J=J+K|0,K)|0;var ee=q+F|0,et=V+z+y(ee,q)|0;v=m,T=k,m=u,k=P,u=s,P=I,s=o+Q+y(I=S+J|0,S)|0,o=n,S=_,n=i,_=E,i=r,E=w,r=Q+et+y(w=J+ee|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+E|0,this._cl=this._cl+_|0,this._dl=this._dl+S|0,this._el=this._el+I|0,this._fl=this._fl+P|0,this._gl=this._gl+k|0,this._hl=this._hl+T|0,this._ah=this._ah+r+y(this._al,w)|0,this._bh=this._bh+i+y(this._bl,E)|0,this._ch=this._ch+n+y(this._cl,_)|0,this._dh=this._dh+o+y(this._dl,S)|0,this._eh=this._eh+s+y(this._el,I)|0,this._fh=this._fh+u+y(this._fl,P)|0,this._gh=this._gh+m+y(this._gl,k)|0,this._hh=this._hh+v+y(this._hl,T)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},12267:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(58355);function n(e,t){let r=i("sha512",e);return t.forEach(e=>r.update(e)),r.digest()}function o(e,t){let r=i("sha256",e);return t.forEach(e=>r.update(e)),r.digest()}t.hmacSHA512=n,t.hmacSHA256=o},432:function(e,t,r){"use strict";var i=r(21876).Buffer;let n=r(2401),o=r(12267),a=i.from("Symmetric key seed"),s=i.from("SLIP-0077"),u=i.alloc(1,0);function l(e){return{fromSeed(t){n(n.anyOf("Buffer","String"),t);let r=i.isBuffer(t)?t:i.from(t,"hex"),l=o.hmacSHA512(a,[r]),f=o.hmacSHA512(l.slice(0,32),[u,s]);return new c(f.slice(32),f.slice(0,32),void 0,void 0,void 0,e)},fromMasterBlindingKey(t){n(n.anyOf("Buffer","String"),t);let r=i.isBuffer(t)?t:i.from(t,"hex");return new c(r,void 0,void 0,void 0,void 0,e)}}}t.e=l;class c{constructor(e,t,r,i,o,a){this._masterKey=e,this._extra=t,this._script=r,this._privateKey=i,this._publicKey=o,this._ecc=a,n(n.BufferN(32),e)}get masterKey(){return this._masterKey}get extra(){return this._extra}get script(){return this._script}get privateKey(){return this._privateKey}get publicKey(){return this._publicKey}derive(e){return f(this.masterKey,this.extra,e,this._ecc)}}function f(e,t,r,n){let a=i.isBuffer(r)?r:i.from(r,"hex"),s=o.hmacSHA256(e,[a]),u=n.pointFromScalar(s);return new c(e,t,a,s,u?i.from(u):void 0,n)}},32553:function(e,t,r){"use strict";var i=r(89509).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=d,this.end=g,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=b,this.end=y,t=3;break;default:this.write=m,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function u(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e,t,r){var i=t.length-1;if(i<r)return 0;var n=u(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=u(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=u(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}function c(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}function f(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function h(e,t){var r=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function d(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function b(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=h,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},96647:function(e,t,r){var i=r(30247);function n(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function o(e){return i.Nil(e)?"":n(e.constructor)}function a(e){return i.Function(e)?"":i.String(e)?JSON.stringify(e):e&&i.Object(e)?"":e}function s(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function u(e){return i.Function(e)?e.toJSON?e.toJSON():n(e):i.Array(e)?"Array":e&&i.Object(e)?"Object":void 0!==e?e:""}function l(e,t,r){var i=a(t);return"Expected "+u(e)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function c(e,t,r){r=r||o(t),this.message=l(e,t,r),s(this,c),this.__type=e,this.__value=t,this.__valueTypeName=r}function f(e,t,r,i,n){var o='" of type ';return"key"===t&&(o='" with key type '),l('property "'+u(r)+o+u(e),i,n)}function h(e,t,r,i,n){e?(n=n||o(i),this.message=f(e,r,t,i,n)):this.message='Unexpected property "'+t+'"',s(this,c),this.__label=r,this.__property=t,this.__type=e,this.__value=i,this.__valueTypeName=n}function p(e,t){return new c(e,{},t)}function d(e,t,r){return e instanceof h?(t=t+"."+e.__property,e=new h(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof c&&(e=new h(e.__type,t,r,e.__value,e.__valueTypeName)),s(e),e}c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,h.prototype=Object.create(Error.prototype),h.prototype.constructor=c,e.exports={TfTypeError:c,TfPropertyTypeError:h,tfCustomError:p,tfSubError:d,tfJSON:u,getValueTypeName:o}},74307:function(e,t,r){var i=r(21876).Buffer,n=r(30247),o=r(96647);function a(e){return i.isBuffer(e)}function s(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function u(e,t){var r=e.toJSON();function i(i){if(!e(i))return!1;if(i.length===t)return!0;throw o.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+i.length+")")}return i.toJSON=function(){return r},i}var l=u.bind(null,n.Array),c=u.bind(null,a),f=u.bind(null,s),h=u.bind(null,n.String),p=9007199254740991,d={ArrayN:l,Buffer:a,BufferN:c,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:s,HexN:f,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-p&&e<=p&&Math.floor(e)===e},Range:function(e,t,r){function i(i,n){return r(i,n)&&i>e&&i<t}return r=r||n.Number,i.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},i},StringN:h,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=p&&Math.floor(e)===e}};for(var g in d)d[g].toJSON=(function(e){return e}).bind(null,g);e.exports=d},2401:function(e,t,r){var i=r(96647),n=r(30247),o=i.tfJSON,a=i.TfTypeError,s=i.TfPropertyTypeError,u=i.tfSubError,l=i.getValueTypeName,c={arrayOf:function(e,t){function r(r,i){return!(!n.Array(r)||n.Nil(r))&&(void 0===t.minLength||!(r.length<t.minLength))&&(void 0===t.maxLength||!(r.length>t.maxLength))&&(void 0===t.length||r.length===t.length)&&r.every(function(t,r){try{return h(e,t,i)}catch(n){throw u(n,r)}})}return e=f(e),t=t||{},r.toJSON=function(){var r="["+o(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":(void 0!==t.minLength||void 0!==t.maxLength)&&(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,i){return n.Nil(r)||t(r,i,e)}return t=f(t),r.toJSON=function(){return"?"+o(t)},r},map:function(e,t){function r(r,i){if(!n.Object(r)||n.Nil(r))return!1;for(var o in r){try{t&&h(t,o,i)}catch(a){throw u(a,o,"key")}try{var s=r[o];h(e,s,i)}catch(l){throw u(l,o)}}return!0}return e=f(e),t&&(t=f(t)),t?r.toJSON=function(){return"{"+o(t)+": "+o(e)+"}"}:r.toJSON=function(){return"{"+o(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=f(e[r]);function i(e,r){if(!n.Object(e)||n.Nil(e))return!1;try{for(i in t){var i,o=t[i],a=e[i];h(o,a,r)}}catch(l){throw u(l,i)}if(r){for(i in e)if(!t[i])throw new s(void 0,i)}return!0}return i.toJSON=function(){return o(t)},i},anyOf:function(){var e=[].slice.call(arguments).map(f);function t(t,r){return e.some(function(e){try{return h(e,t,r)}catch(i){return!1}})}return t.toJSON=function(){return e.map(o).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(f);function t(t,r){return e.every(function(e){try{return h(e,t,r)}catch(i){return!1}})}return t.toJSON=function(){return e.map(o).join(" & ")},t},quacksLike:function(e){function t(t){return e===l(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(f);function t(t,r){return!(n.Nil(t)||n.Nil(t.length))&&(!r||t.length===e.length)&&e.every(function(e,i){try{return h(e,t[i],r)}catch(n){throw u(n,i)}})}return t.toJSON=function(){return"("+e.map(o).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function f(e){if(n.String(e))return"?"===e[0]?c.maybe(e.slice(1)):n[e]||c.quacksLike(e);if(e&&n.Object(e)){if(n.Array(e)){if(1!==e.length)throw TypeError("Expected compile() parameter of type Array of length 1");return c.arrayOf(e[0])}return c.object(e)}return n.Function(e)?e:c.value(e)}function h(e,t,r,i){if(n.Function(e)){if(e(t,r))return!0;throw new a(i||e,t)}return h(f(e),t,r)}for(var p in c.oneOf=c.anyOf,n)h[p]=n[p];for(p in c)h[p]=c[p];var d=r(74307);for(p in d)h[p]=d[p];h.compile=f,h.TfTypeError=a,h.TfPropertyTypeError=s,e.exports=h},30247:function(e){var t={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var r in t.Null=t.Nil,t)t[r].toJSON=(function(e){return e}).bind(null,r);e.exports=t},94927:function(e,t,r){function i(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}function n(e){try{if(!r.g.localStorage)return!1}catch(t){return!1}var i=r.g.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i},57795:function(e,t,r){"use strict";var i=r(89509).Buffer,n=9007199254740991;function o(e){if(e<0||e>n||e%1!=0)throw RangeError("value out of range")}function a(e,t,r){if(o(e),t||(t=i.allocUnsafe(u(e))),!i.isBuffer(t))throw TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),a.bytes=1):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),a.bytes=3):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),a.bytes=5):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),a.bytes=9),t}function s(e,t){if(!i.isBuffer(e))throw TypeError("buffer must be a Buffer instance");t||(t=0);var r=e.readUInt8(t);if(r<253)return s.bytes=1,r;if(253===r)return s.bytes=3,e.readUInt16LE(t+1);if(254===r)return s.bytes=5,e.readUInt32LE(t+1);s.bytes=9;var n=e.readUInt32LE(t+1),a=4294967296*e.readUInt32LE(t+5)+n;return o(a),a}function u(e){return o(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:a,decode:s,encodingLength:u}},37174:function(e,t,r){var i=r(21876).Buffer,n=r(58334);function o(e,t){if(void 0!==t&&e[0]!==t)throw Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw Error("Invalid WIF length");if(1!==e[33])throw Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function a(e,t,r){var n=new i(r?34:33);return n.writeUInt8(e,0),t.copy(n,1),r&&(n[33]=1),n}function s(e,t){return o(n.decode(e),t)}function u(e,t,r){return"number"==typeof e?n.encode(a(e,t,r)):n.encode(a(e.version,e.privateKey,e.compressed))}e.exports={decode:s,decodeRaw:o,encode:u,encodeRaw:a}},90482:function(e,t,r){"use strict";/*!
 *  decimal.js v10.4.2
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */ var i,n,o=9e15,a=1e9,s="0123456789abcdef",u="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",l="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",c={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},f=!0,h="[DecimalError] ",p=h+"Invalid argument: ",d=h+"Precision limit exceeded",g=h+"crypto unavailable",b="[object Decimal]",y=Math.floor,m=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,E=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,S=1e7,I=7,P=9007199254740991,k=u.length-1,T=l.length-1,O={toStringTag:b};function A(e){var t,r,i,n=e.length-1,o="",a=e[0];if(n>0){for(o+=a,t=1;t<n;t++)(r=I-(i=e[t]+"").length)&&(o+=H(r)),o+=i;(r=I-(i=(a=e[t])+"").length)&&(o+=H(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function x(e,t,r){if(e!==~~e||e<t||e>r)throw Error(p+e)}function N(e,t,r,i){var n,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=I,n=0):(n=Math.ceil((t+1)/I),t%=I),o=m(10,I-t),s=e[n]%o|0,null==i?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):a=(r<4&&s+1==o||r>3&&s+1==o/2)&&(e[n+1]/o/100|0)==m(10,t-2)-1||(s==o/2||0==s)&&(e[n+1]/o/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(i||r<4)&&9999==s||!i&&r>3&&4999==s):a=((i||r<4)&&s+1==o||!i&&r>3&&s+1==o/2)&&(e[n+1]/o/1e3|0)==m(10,t-3)-1,a}function R(e,t,r){for(var i,n,o=[0],a=0,u=e.length;a<u;){for(n=o.length;n--;)o[n]*=t;for(o[0]+=s.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(void 0===o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}function B(e,t){var r,i,n;if(t.isZero())return t;(i=t.d.length)<32?n=(1/J(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=$(e,1,t.times(n),new e(1));for(var o=r;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}O.absoluteValue=O.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),U(e)},O.ceil=function(){return U(new this.constructor(this),this.e+1,2)},O.clampedTo=O.clamp=function(e,t){var r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(p+t);return 0>r.cmp(e)?e:r.cmp(t)>0?t:new i(r)},O.comparedTo=O.cmp=function(e){var t,r,i,n,o=this,a=o.d,s=(e=new o.constructor(e)).d,u=o.s,l=e.s;if(!a||!s)return u&&l?u!==l?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-l:0;if(u!==l)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,r=(i=a.length)<(n=s.length)?i:n;t<r;++t)if(a[t]!==s[t])return a[t]>s[t]^u<0?1:-1;return i===n?0:i>n^u<0?1:-1},O.cosine=O.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+I,i.rounding=1,r=B(i,Q(i,r)),i.precision=e,i.rounding=t,U(2==n||3==n?r.neg():r,e,t,!0)):new i(1):new i(NaN)},O.cubeRoot=O.cbrt=function(){var e,t,r,i,n,o,a,s,u,l,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(f=!1,(o=c.s*m(c.s*c,1/3))&&Math.abs(o)!=1/0?i=new h(o.toString()):(r=A(c.d),(o=((e=c.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=m(r,1/3),e=y((e+1)/3)-(e%3==(e<0?-1:2)),r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e,(i=new h(r)).s=c.s),a=(e=h.precision)+3;;)if(l=(u=(s=i).times(s).times(s)).plus(c),i=C(l.plus(c).times(s),l.plus(u),a+2,1),A(s.d).slice(0,a)===(r=A(i.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(U(i,e+1,1),t=!i.times(i).times(i).eq(c));break}if(!n&&(U(s,e+1,0),s.times(s).times(s).eq(c))){i=s;break}a+=4,n=1}return f=!0,U(i,e,h.rounding,t)},O.decimalPlaces=O.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-y(this.e/I))*I,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},O.dividedBy=O.div=function(e){return C(this,new this.constructor(e))},O.dividedToIntegerBy=O.divToInt=function(e){var t=this,r=t.constructor;return U(C(t,new r(e),0,1,1),r.precision,r.rounding)},O.equals=O.eq=function(e){return 0===this.cmp(e)},O.floor=function(){return U(new this.constructor(this),this.e+1,3)},O.greaterThan=O.gt=function(e){return this.cmp(e)>0},O.greaterThanOrEqualTo=O.gte=function(e){var t=this.cmp(e);return 1==t||0===t},O.hyperbolicCosine=O.cosh=function(){var e,t,r,i,n,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.precision,i=a.rounding,a.precision=r+Math.max(o.e,o.sd())+4,a.rounding=1,(n=o.d.length)<32?t=(1/J(4,e=Math.ceil(n/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=$(a,1,o.times(t),new a(1),!0);for(var u,l=e,c=new a(8);l--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return U(o,a.precision=r,a.rounding=i,!0)},O.hyperbolicSine=O.sinh=function(){var e,t,r,i,n=this,o=n.constructor;if(!n.isFinite()||n.isZero())return new o(n);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(n.e,n.sd())+4,o.rounding=1,(i=n.d.length)<3)n=$(o,2,n,n,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,n=n.times(1/J(5,e)),n=$(o,2,n,n,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);e--;)a=n.times(n),n=n.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=t,o.rounding=r,U(n,t,r,!0)},O.hyperbolicTangent=O.tanh=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,C(r.sinh(),r.cosh(),i.precision=e,i.rounding=t)):new i(r.s)},O.inverseCosine=O.acos=function(){var e,t=this,r=t.constructor,i=t.abs().cmp(1),n=r.precision,o=r.rounding;return -1!==i?0===i?t.isNeg()?K(r,n,o):new r(0):new r(NaN):t.isZero()?K(r,n+4,o).times(.5):(r.precision=n+6,r.rounding=1,t=t.asin(),e=K(r,n+4,o).times(.5),r.precision=n,r.rounding=o,e.minus(t))},O.inverseHyperbolicCosine=O.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,f=!1,r=r.times(r).minus(1).sqrt().plus(r),f=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)},O.inverseHyperbolicSine=O.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,f=!1,r=r.times(r).plus(1).sqrt().plus(r),f=!0,i.precision=e,i.rounding=t,r.ln())},O.inverseHyperbolicTangent=O.atanh=function(){var e,t,r,i,n=this,o=n.constructor;return n.isFinite()?n.e>=0?new o(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=o.precision,t=o.rounding,Math.max(i=n.sd(),e)<-(2*n.e)-1)?U(new o(n),e,t,!0):(o.precision=r=i-n.e,n=C(n.plus(1),new o(1).minus(n),r+e,1),o.precision=e+4,o.rounding=1,n=n.ln(),o.precision=e,o.rounding=t,n.times(.5)):new o(NaN)},O.inverseSine=O.asin=function(){var e,t,r,i,n=this,o=n.constructor;return n.isZero()?new o(n):(t=n.abs().cmp(1),r=o.precision,i=o.rounding,-1!==t)?0===t?((e=K(o,r+4,i).times(.5)).s=n.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,n=n.div(new o(1).minus(n.times(n)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=i,n.times(2))},O.inverseTangent=O.atan=function(){var e,t,r,i,n,o,a,s,u,l=this,c=l.constructor,h=c.precision,p=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&h+4<=T)return(a=K(c,h+4,p).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(h+4<=T)return(a=K(c,h+4,p).times(.5)).s=l.s,a}for(c.precision=s=h+10,c.rounding=1,e=r=Math.min(28,s/I+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(f=!1,t=Math.ceil(s/I),i=1,u=l.times(l),a=new c(l),n=l;-1!==e;)if(n=n.times(u),o=a.minus(n.div(i+=2)),n=n.times(u),void 0!==(a=o.plus(n.div(i+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),f=!0,U(a,c.precision=h,c.rounding=p,!0)},O.isFinite=function(){return!!this.d},O.isInteger=O.isInt=function(){return!!this.d&&y(this.e/I)>this.d.length-2},O.isNaN=function(){return!this.s},O.isNegative=O.isNeg=function(){return this.s<0},O.isPositive=O.isPos=function(){return this.s>0},O.isZero=function(){return!!this.d&&0===this.d[0]},O.lessThan=O.lt=function(e){return 0>this.cmp(e)},O.lessThanOrEqualTo=O.lte=function(e){return 1>this.cmp(e)},O.logarithm=O.log=function(e){var t,r,i,n,o,a,s,u,l=this,c=l.constructor,h=c.precision,p=c.rounding,d=5;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new c(r&&!r[0]?-1/0:1!=l.s?NaN:r?0:1/0);if(t){if(r.length>1)o=!0;else{for(n=r[0];n%10==0;)n/=10;o=1!==n}}if(f=!1,N((u=C(a=W(l,s=h+d),i=t?L(c,s+10):W(e,s),s,1)).d,n=h,p))do if(s+=10,u=C(a=W(l,s),i=t?L(c,s+10):W(e,s),s,1),!o){+A(u.d).slice(n+1,n+15)+1==1e14&&(u=U(u,h+1,0));break}while(N(u.d,n+=10,p));return f=!0,U(u,h,p)},O.minus=O.sub=function(e){var t,r,i,n,o,a,s,u,l,c,h,p,d=this,g=d.constructor;if(e=new g(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new g(e.d||d.s!==e.s?d:NaN):e=new g(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(l=d.d,p=e.d,s=g.precision,u=g.rounding,!l[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!l[0])return new g(-0);e=new g(d)}return f?U(e,s,u):e}if(r=y(e.e/I),c=y(d.e/I),l=l.slice(),o=c-r){for((h=o<0)?(t=l,o=-o,a=p.length):(t=p,r=c,a=l.length),i=Math.max(Math.ceil(s/I),a)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for((h=(i=l.length)<(a=p.length))&&(a=i),i=0;i<a;i++)if(l[i]!=p[i]){h=l[i]<p[i];break}o=0}for(h&&(t=l,l=p,p=t,e.s=-e.s),a=l.length,i=p.length-a;i>0;--i)l[a++]=0;for(i=p.length;i>o;){if(l[--i]<p[i]){for(n=i;n&&0===l[--n];)l[n]=S-1;--l[n],l[i]+=S}l[i]-=p[i]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=j(l,r),f?U(e,s,u):e):new g(-0)},O.modulo=O.mod=function(e){var t,r=this,i=r.constructor;return(e=new i(e),r.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!r.d||r.d[0])?(f=!1,9==i.modulo?(t=C(r,e.abs(),0,3,1),t.s*=e.s):t=C(r,e,0,i.modulo,1),t=t.times(e),f=!0,r.minus(t)):U(new i(r),i.precision,i.rounding):new i(NaN)},O.naturalExponential=O.exp=function(){return q(this)},O.naturalLogarithm=O.ln=function(){return W(this)},O.negated=O.neg=function(){var e=new this.constructor(this);return e.s=-e.s,U(e)},O.plus=O.add=function(e){var t,r,i,n,o,a,s,u,l,c,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new p(e.d||h.s===e.s?h:NaN)):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,c=e.d,s=p.precision,u=p.rounding,!l[0]||!c[0])return c[0]||(e=new p(h)),f?U(e,s,u):e;if(o=y(h.e/I),i=y(e.e/I),l=l.slice(),n=o-i){for(n<0?(r=l,n=-n,a=c.length):(r=c,i=o,a=l.length),n>(a=(o=Math.ceil(s/I))>a?o+1:a+1)&&(n=a,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((a=l.length)-(n=c.length)<0&&(n=a,r=c,c=l,l=r),t=0;n;)t=(l[--n]=l[n]+c[n]+t)/S|0,l[n]%=S;for(t&&(l.unshift(t),++i),a=l.length;0==l[--a];)l.pop();return e.d=l,e.e=j(l,i),f?U(e,s,u):e},O.precision=O.sd=function(e){var t,r=this;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(p+e);return r.d?(t=D(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},O.round=function(){var e=this,t=e.constructor;return U(new t(e),e.e+1,t.rounding)},O.sine=O.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+I,i.rounding=1,r=Z(i,Q(i,r)),i.precision=e,i.rounding=t,U(n>2?r.neg():r,e,t,!0)):new i(NaN)},O.squareRoot=O.sqrt=function(){var e,t,r,i,n,o,a=this,s=a.d,u=a.e,l=a.s,c=a.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(f=!1,0==(l=Math.sqrt(+a))||l==1/0?(((t=A(s)).length+u)%2==0&&(t+="0"),l=Math.sqrt(t),u=y((u+1)/2)-(u<0||u%2),t=l==1/0?"5e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u,i=new c(t)):i=new c(l.toString()),r=(u=c.precision)+3;;)if(i=(o=i).plus(C(a,o,r+2,1)).times(.5),A(o.d).slice(0,r)===(t=A(i.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(U(i,u+1,1),e=!i.times(i).eq(a));break}if(!n&&(U(o,u+1,0),o.times(o).eq(a))){i=o;break}r+=4,n=1}return f=!0,U(i,u,c.rounding,e)},O.tangent=O.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(r=r.sin()).s=1,r=C(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,U(2==n||4==n?r.neg():r,e,t,!0)):new i(NaN)},O.times=O.mul=function(e){var t,r,i,n,o,a,s,u,l,c=this,h=c.constructor,p=c.d,d=(e=new h(e)).d;if(e.s*=c.s,!p||!p[0]||!d||!d[0])return new h(e.s&&(!p||p[0]||d)&&(!d||d[0]||p)?p&&d?0*e.s:e.s/0:NaN);for(r=y(c.e/I)+y(e.e/I),(u=p.length)<(l=d.length)&&(o=p,p=d,d=o,a=u,u=l,l=a),o=[],i=a=u+l;i--;)o.push(0);for(i=l;--i>=0;){for(t=0,n=u+i;n>i;)s=o[n]+d[i]*p[n-i-1]+t,o[n--]=s%S|0,t=s/S|0;o[n]=(o[n]+t)%S|0}for(;!o[--a];)o.pop();return t?++r:o.shift(),e.d=o,e.e=j(o,r),f?U(e,h.precision,h.rounding):e},O.toBinary=function(e,t){return ee(this,2,e,t)},O.toDecimalPlaces=O.toDP=function(e,t){var r=this,i=r.constructor;return(r=new i(r),void 0===e)?r:(x(e,0,a),void 0===t?t=i.rounding:x(t,0,8),U(r,e+r.e+1,t))},O.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=M(i,!0):(x(e,0,a),void 0===t?t=n.rounding:x(t,0,8),r=M(i=U(new n(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},O.toFixed=function(e,t){var r,i,n=this,o=n.constructor;return void 0===e?r=M(n):(x(e,0,a),void 0===t?t=o.rounding:x(t,0,8),r=M(i=U(new o(n),e+n.e+1,t),!1,e+i.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},O.toFraction=function(e){var t,r,i,n,o,a,s,u,l,c,h,d,g=this,b=g.d,y=g.constructor;if(!b)return new y(g);if(l=r=new y(1),i=u=new y(0),a=(o=(t=new y(i)).e=D(b)-g.e-1)%I,t.d[0]=m(10,a<0?I+a:a),null==e)e=o>0?t:l;else{if(!(s=new y(e)).isInt()||s.lt(l))throw Error(p+s);e=s.gt(t)?o>0?t:l:s}for(f=!1,s=new y(A(b)),c=y.precision,y.precision=o=b.length*I*2;h=C(s,t,0,1,1),1!=(n=r.plus(h.times(i))).cmp(e);)r=i,i=n,n=l,l=u.plus(h.times(n)),u=n,n=t,t=s.minus(h.times(n)),s=n;return n=C(e.minus(r),i,0,1,1),u=u.plus(n.times(l)),r=r.plus(n.times(i)),u.s=l.s=g.s,d=1>C(l,i,o,1).minus(g).abs().cmp(C(u,r,o,1).minus(g).abs())?[l,i]:[u,r],y.precision=c,f=!0,d},O.toHexadecimal=O.toHex=function(e,t){return ee(this,16,e,t)},O.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),null==e){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:x(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(f=!1,r=C(r,e,0,t,1).times(e),f=!0,U(r)):(e.s=r.s,r=e),r},O.toNumber=function(){return+this},O.toOctal=function(e,t){return ee(this,8,e,t)},O.toPower=O.pow=function(e){var t,r,i,n,o,a,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(m(+s,l));if((s=new u(s)).eq(1))return s;if(i=u.precision,o=u.rounding,e.eq(1))return U(s,i,o);if((t=y(e.e/I))>=e.d.length-1&&(r=l<0?-l:l)<=P)return n=z(u,s,r,i),e.s<0?new u(1).div(n):U(n,i,o);if((a=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(r=m(+s,l))&&isFinite(r)?new u(r+"").e:y(l*(Math.log("0."+A(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(f=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(n=q(e.times(W(s,i+r)),i)).d&&N((n=U(n,i+5,1)).d,i,o)&&(t=i+10,+A((n=U(q(e.times(W(s,t+r)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(n=U(n,i+1,0))),n.s=a,f=!0,u.rounding=o,U(n,i,o))},O.toPrecision=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=M(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(x(e,1,a),void 0===t?t=n.rounding:x(t,0,8),r=M(i=U(new n(i),e,t),e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r},O.toSignificantDigits=O.toSD=function(e,t){var r=this,i=r.constructor;return void 0===e?(e=i.precision,t=i.rounding):(x(e,1,a),void 0===t?t=i.rounding:x(t,0,8)),U(new i(r),e,t)},O.toString=function(){var e=this,t=e.constructor,r=M(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},O.truncated=O.trunc=function(){return U(new this.constructor(this),this.e+1,1)},O.valueOf=O.toJSON=function(){var e=this,t=e.constructor,r=M(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var C=function(){function e(e,t,r){var i,n=0,o=e.length;for(e=e.slice();o--;)i=e[o]*t+n,e[o]=i%r|0,n=i/r|0;return n&&e.unshift(n),e}function t(e,t,r,i){var n,o;if(r!=i)o=r>i?1:-1;else for(n=o=0;n<r;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,o,a,s,u,l){var c,f,h,p,d,g,b,m,v,w,E,_,P,k,T,O,A,x,N,R,B=n.constructor,C=n.s==o.s?1:-1,M=n.d,j=o.d;if(!M||!M[0]||!j||!j[0])return new B(n.s&&o.s&&(M?!j||M[0]!=j[0]:j)?M&&0==M[0]||!j?0*C:C/0:NaN);for(l?(d=1,f=n.e-o.e):(l=S,d=I,f=y(n.e/d)-y(o.e/d)),N=j.length,A=M.length,w=(v=new B(C)).d=[],h=0;j[h]==(M[h]||0);h++);if(j[h]>(M[h]||0)&&f--,null==a?(k=a=B.precision,s=B.rounding):k=u?a+(n.e-o.e)+1:a,k<0)w.push(1),g=!0;else{if(k=k/d+2|0,h=0,1==N){for(p=0,j=j[0],k++;(h<A||p)&&k--;h++)T=p*l+(M[h]||0),w[h]=T/j|0,p=T%j|0;g=p||h<A}else{for((p=l/(j[0]+1)|0)>1&&(j=e(j,p,l),M=e(M,p,l),N=j.length,A=M.length),O=N,_=(E=M.slice(0,N)).length;_<N;)E[_++]=0;(R=j.slice()).unshift(0),x=j[0],j[1]>=l/2&&++x;do p=0,(c=t(j,E,N,_))<0?(P=E[0],N!=_&&(P=P*l+(E[1]||0)),(p=P/x|0)>1?(p>=l&&(p=l-1),m=(b=e(j,p,l)).length,_=E.length,1==(c=t(b,E,m,_))&&(p--,r(b,N<m?R:j,m,l))):(0==p&&(c=p=1),b=j.slice()),(m=b.length)<_&&b.unshift(0),r(E,b,_,l),-1==c&&(_=E.length,(c=t(j,E,N,_))<1&&(p++,r(E,N<_?R:j,_,l))),_=E.length):0===c&&(p++,E=[0]),w[h++]=p,c&&E[0]?E[_++]=M[O]||0:(E=[M[O]],_=1);while((O++<A||void 0!==E[0])&&k--);g=void 0!==E[0]}w[0]||w.shift()}if(1==d)v.e=f,i=g;else{for(h=1,p=w[0];p>=10;p/=10)h++;v.e=h+f*d-1,U(v,u?a+v.e+1:a,s,g)}return v}}();function U(e,t,r,i){var n,o,a,s,u,l,c,h,p,d=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(n=1,s=h[0];s>=10;s/=10)n++;if((o=t-n)<0)o+=I,a=t,u=(c=h[p=0])/m(10,n-a-1)%10|0;else if(p=Math.ceil((o+1)/I),s=h.length,p>=s){if(i){for(;s++<=p;)h.push(0);c=u=0,n=1,o%=I,a=o-I+1}else break e}else{for(n=1,c=s=h[p];s>=10;s/=10)n++;o%=I,u=(a=o-I+n)<0?0:c/m(10,n-a-1)%10|0}if(i=i||t<0||void 0!==h[p+1]||(a<0?c:c%m(10,n-a-1)),l=r<4?(u||i)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||i||6==r&&(o>0?a>0?c/m(10,n-a):0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=m(10,(I-t%I)%I),e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=p,s=1,p--):(h.length=p+1,s=m(10,I-o),h[p]=a>0?(c/m(10,n-a)%m(10,a)|0)*s:0),l)for(;;){if(0==p){for(o=1,a=h[0];a>=10;a/=10)o++;for(a=h[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,h[0]==S&&(h[0]=1));break}if(h[p]+=s,h[p]!=S)break;h[p--]=0,s=1}for(o=h.length;0===h[--o];)h.pop()}return f&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function M(e,t,r){if(!e.isFinite())return G(e);var i,n=e.e,o=A(e.d),a=o.length;return t?(r&&(i=r-a)>0?o=o.charAt(0)+"."+o.slice(1)+H(i):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):n<0?(o="0."+H(-n-1)+o,r&&(i=r-a)>0&&(o+=H(i))):n>=a?(o+=H(n+1-a),r&&(i=r-n-1)>0&&(o=o+"."+H(i))):((i=n+1)<a&&(o=o.slice(0,i)+"."+o.slice(i)),r&&(i=r-a)>0&&(n+1===a&&(o+="."),o+=H(i))),o}function j(e,t){var r=e[0];for(t*=I;r>=10;r/=10)t++;return t}function L(e,t,r){if(t>k)throw f=!0,r&&(e.precision=r),Error(d);return U(new e(u),t,1,!0)}function K(e,t,r){if(t>T)throw Error(d);return U(new e(l),t,r,!0)}function D(e){var t=e.length-1,r=t*I+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function H(e){for(var t="";e--;)t+="0";return t}function z(e,t,r,i){var n,o=new e(1),a=Math.ceil(i/I+4);for(f=!1;;){if(r%2&&et((o=o.times(t)).d,a)&&(n=!0),0===(r=y(r/2))){r=o.d.length-1,n&&0===o.d[r]&&++o.d[r];break}et((t=t.times(t)).d,a)}return f=!0,o}function F(e){return 1&e.d[e.d.length-1]}function V(e,t,r){for(var i,n=new e(t[0]),o=0;++o<t.length;)if((i=new e(t[o])).s)n[r](i)&&(n=i);else{n=i;break}return n}function q(e,t){var r,i,n,o,a,s,u,l=0,c=0,h=0,p=e.constructor,d=p.rounding,g=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(f=!1,u=g):u=t,s=new p(.03125);e.e>-2;)e=e.times(s),h+=5;for(u+=i=Math.log(m(2,h))/Math.LN10*2+5|0,r=o=a=new p(1),p.precision=u;;){if(o=U(o.times(e),u,1),r=r.times(++c),A((s=a.plus(C(o,r,u,1))).d).slice(0,u)===A(a.d).slice(0,u)){for(n=h;n--;)a=U(a.times(a),u,1);if(null!=t)return p.precision=g,a;if(!(l<3&&N(a.d,u-i,d,l)))return U(a,p.precision=g,d,f=!0);p.precision=u+=10,r=o=s=new p(1),c=0,l++}a=s}}function W(e,t){var r,i,n,o,a,s,u,l,c,h,p,d=1,g=10,b=e,y=b.d,m=b.constructor,v=m.rounding,w=m.precision;if(b.s<0||!y||!y[0]||!b.e&&1==y[0]&&1==y.length)return new m(y&&!y[0]?-1/0:1!=b.s?NaN:y?0:b);if(null==t?(f=!1,c=w):c=t,m.precision=c+=g,i=(r=A(y)).charAt(0),!(15e14>Math.abs(o=b.e)))return l=L(m,c+2,w).times(o+""),b=W(new m(i+"."+r.slice(1)),c-g).plus(l),m.precision=w,null==t?U(b,w,v,f=!0):b;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=A((b=b.times(e)).d)).charAt(0),d++;for(o=b.e,i>1?(b=new m("0."+r),o++):b=new m(i+"."+r.slice(1)),h=b,u=a=b=C(b.minus(1),b.plus(1),c,1),p=U(b.times(b),c,1),n=3;;){if(a=U(a.times(p),c,1),A((l=u.plus(C(a,new m(n),c,1))).d).slice(0,c)===A(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(L(m,c+2,w).times(o+""))),u=C(u,new m(d),c,1),null!=t)return m.precision=w,u;if(!N(u.d,c-g,v,s))return U(u,m.precision=w,v,f=!0);m.precision=c+=g,l=a=b=C(h.minus(1),h.plus(1),c,1),p=U(b.times(b),c,1),n=s=1}u=l,n+=2}}function G(e){return String(e.s*e.s/0)}function X(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);i++);for(n=t.length;48===t.charCodeAt(n-1);--n);if(t=t.slice(i,n)){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%I,r<0&&(i+=I),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=I;i<n;)e.d.push(+t.slice(i,i+=I));i=I-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";e.d.push(+t),f&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Y(e,t){var r,i,n,o,a,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),_.test(t))return X(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(w.test(t))r=16,t=t.toLowerCase();else if(v.test(t))r=2;else if(E.test(t))r=8;else throw Error(p+t);for((o=t.search(/p/i))>0?(u=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),a=(o=t.indexOf("."))>=0,i=e.constructor,a&&(o=(s=(t=t.replace(".","")).length)-o,n=z(i,new i(r),o,2*o)),o=c=(l=R(t,r,S)).length-1;0===l[o];--o)l.pop();return o<0?new i(0*e.s):(e.e=j(l,c),e.d=l,f=!1,a&&(e=C(e,n,4*s)),u&&(e=e.times(54>Math.abs(u)?m(2,u):eF.pow(2,u))),f=!0,e)}function Z(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:$(e,2,t,t);r=(r=1.4*Math.sqrt(i))>16?16:0|r,t=t.times(1/J(5,r)),t=$(e,2,t,t);for(var n,o=new e(5),a=new e(16),s=new e(20);r--;)n=t.times(t),t=t.times(o.plus(n.times(a.times(n).minus(s))));return t}function $(e,t,r,i,n){var o,a,s,u,l=e.precision,c=Math.ceil(l/I);for(f=!1,u=r.times(r),s=new e(i);;){if(a=C(s.times(u),new e(t++*t++),l,1),s=n?i.plus(a):i.minus(a),i=C(a.times(u),new e(t++*t++),l,1),void 0!==(a=s.plus(i)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=i,i=a,a=o}return f=!0,a.d.length=c+1,a}function J(e,t){for(var r=e;--t;)r*=e;return r}function Q(e,t){var r,i=t.s<0,o=K(e,e.precision,1),a=o.times(.5);if((t=t.abs()).lte(a))return n=i?4:1,t;if((r=t.divToInt(o)).isZero())n=i?3:2;else{if((t=t.minus(r.times(o))).lte(a))return n=F(r)?i?2:3:i?4:1,t;n=F(r)?i?1:4:i?3:2}return t.minus(o).abs()}function ee(e,t,r,n){var o,u,l,c,f,h,p,d,g,b=e.constructor,y=void 0!==r;if(y?(x(r,1,a),void 0===n?n=b.rounding:x(n,0,8)):(r=b.precision,n=b.rounding),e.isFinite()){for(l=(p=M(e)).indexOf("."),y?(o=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):o=t,l>=0&&(p=p.replace(".",""),(g=new b(1)).e=p.length-l,g.d=R(M(g),10,o),g.e=g.d.length),u=f=(d=R(p,10,o)).length;0==d[--f];)d.pop();if(d[0]){if(l<0?u--:((e=new b(e)).d=d,e.e=u,d=(e=C(e,g,r,n,0,o)).d,u=e.e,h=i),l=d[r],c=o/2,h=h||void 0!==d[r+1],h=n<4?(void 0!==l||h)&&(0===n||n===(e.s<0?3:2)):l>c||l===c&&(4===n||h||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,h)for(;++d[--r]>o-1;)d[r]=0,r||(++u,d.unshift(1));for(f=d.length;!d[f-1];--f);for(l=0,p="";l<f;l++)p+=s.charAt(d[l]);if(y){if(f>1){if(16==t||8==t){for(l=16==t?4:3,--f;f%l;f++)p+="0";for(f=(d=R(p,o,t)).length;!d[f-1];--f);for(l=1,p="1.";l<f;l++)p+=s.charAt(d[l])}else p=p.charAt(0)+"."+p.slice(1)}p=p+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)p="0"+p;p="0."+p}else if(++u>f)for(u-=f;u--;)p+="0";else u<f&&(p=p.slice(0,u)+"."+p.slice(u))}else p=y?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=G(e);return e.s<0?"-"+p:p}function et(e,t){if(e.length>t)return e.length=t,!0}function er(e){return new this(e).abs()}function ei(e){return new this(e).acos()}function en(e){return new this(e).acosh()}function eo(e,t){return new this(e).plus(t)}function ea(e){return new this(e).asin()}function es(e){return new this(e).asinh()}function eu(e){return new this(e).atan()}function el(e){return new this(e).atanh()}function ec(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,o=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?K(this,i,n):new this(0)).s=e.s:!e.d||t.isZero()?(r=K(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(C(e,t,o,1)),t=K(this,o,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(C(e,t,o,1)):(r=K(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ef(e){return new this(e).cbrt()}function eh(e){return U(e=new this(e),e.e+1,2)}function ep(e,t,r){return new this(e).clamp(t,r)}function ed(e){if(!e||"object"!=typeof e)throw Error(h+"Object expected");var t,r,i,n=!0===e.defaults,s=["precision",1,a,"rounding",0,8,"toExpNeg",-o,0,"toExpPos",0,o,"maxE",0,o,"minE",-o,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],n&&(this[r]=c[r]),void 0!==(i=e[r])){if(y(i)===i&&i>=s[t+1]&&i<=s[t+2])this[r]=i;else throw Error(p+r+": "+i)}if(r="crypto",n&&(this[r]=c[r]),void 0!==(i=e[r])){if(!0===i||!1===i||0===i||1===i){if(i){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(g)}else this[r]=!1}else throw Error(p+r+": "+i)}return this}function eg(e){return new this(e).cos()}function eb(e){return new this(e).cosh()}function ey(e){var t,r,i;function n(e){var t,r,i,o=this;if(!(o instanceof n))return new n(e);if(o.constructor=n,e_(e)){o.s=e.s,f?!e.d||e.e>n.maxE?(o.e=NaN,o.d=null):e.e<n.minE?(o.e=0,o.d=[0]):(o.e=e.e,o.d=e.d.slice()):(o.e=e.e,o.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){o.s=1/e<0?-1:1,o.e=0,o.d=[0];return}if(e<0?(e=-e,o.s=-1):o.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;f?t>n.maxE?(o.e=NaN,o.d=null):t<n.minE?(o.e=0,o.d=[0]):(o.e=t,o.d=[e]):(o.e=t,o.d=[e]);return}if(0*e!=0){e||(o.s=NaN),o.e=NaN,o.d=null;return}return X(o,e.toString())}if("string"!==i)throw Error(p+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),o.s=-1):(43===r&&(e=e.slice(1)),o.s=1),_.test(e)?X(o,e):Y(o,e)}if(n.prototype=O,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=ed,n.clone=ey,n.isDecimal=e_,n.abs=er,n.acos=ei,n.acosh=en,n.add=eo,n.asin=ea,n.asinh=es,n.atan=eu,n.atanh=el,n.atan2=ec,n.cbrt=ef,n.ceil=eh,n.clamp=ep,n.cos=eg,n.cosh=eb,n.div=em,n.exp=ev,n.floor=ew,n.hypot=eE,n.ln=eS,n.log=eI,n.log10=ek,n.log2=eP,n.max=eT,n.min=eO,n.mod=eA,n.mul=ex,n.pow=eN,n.random=eR,n.round=eB,n.sign=eC,n.sin=eU,n.sinh=eM,n.sqrt=ej,n.sub=eL,n.sum=eK,n.tan=eD,n.tanh=eH,n.trunc=ez,void 0===e&&(e={}),e&&!0!==e.defaults)for(t=0,i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return n.config(e),n}function em(e,t){return new this(e).div(t)}function ev(e){return new this(e).exp()}function ew(e){return U(e=new this(e),e.e+1,3)}function eE(){var e,t,r=new this(0);for(e=0,f=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return f=!0,new this(1/0);r=t}return f=!0,r.sqrt()}function e_(e){return e instanceof eF||e&&e.toStringTag===b||!1}function eS(e){return new this(e).ln()}function eI(e,t){return new this(e).log(t)}function eP(e){return new this(e).log(2)}function ek(e){return new this(e).log(10)}function eT(){return V(this,arguments,"lt")}function eO(){return V(this,arguments,"gt")}function eA(e,t){return new this(e).mod(t)}function ex(e,t){return new this(e).mul(t)}function eN(e,t){return new this(e).pow(t)}function eR(e){var t,r,i,n,o=0,s=new this(1),u=[];if(void 0===e?e=this.precision:x(e,1,a),i=Math.ceil(e/I),this.crypto){if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));o<i;)(n=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);o<i;)(n=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(u.push(n%1e7),o+=4);o=i/4}else throw Error(g)}else for(;o<i;)u[o++]=1e7*Math.random()|0;for(i=u[--o],e%=I,i&&e&&(n=m(10,I-e),u[o]=(i/n|0)*n);0===u[o];o--)u.pop();if(o<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=I)u.shift();for(i=1,n=u[0];n>=10;n/=10)i++;i<I&&(r-=I-i)}return s.e=r,s.d=u,s}function eB(e){return U(e=new this(e),e.e+1,this.rounding)}function eC(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function eU(e){return new this(e).sin()}function eM(e){return new this(e).sinh()}function ej(e){return new this(e).sqrt()}function eL(e,t){return new this(e).sub(t)}function eK(){var e=0,t=arguments,r=new this(t[e]);for(f=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return f=!0,U(r,this.precision,this.rounding)}function eD(e){return new this(e).tan()}function eH(e){return new this(e).tanh()}function ez(e){return U(e=new this(e),e.e+1,1)}O[Symbol.for("nodejs.util.inspect.custom")]=O.toString,O[Symbol.toStringTag]="Decimal";var eF=O.constructor=ey(c);u=new eF(u),l=new eF(l)},4690:function(e,t,r){"use strict";r.a(e,async function(e,i){try{r.r(t),r.d(t,{__initializeContext:function(){return A},isPoint:function(){return x},isPointCompressed:function(){return N},isPrivate:function(){return B},isXOnlyPoint:function(){return R},pointAdd:function(){return C},pointAddScalar:function(){return U},pointCompress:function(){return M},pointFromScalar:function(){return j},pointMultiply:function(){return D},privateAdd:function(){return H},privateNegate:function(){return F},privateSub:function(){return z},recover:function(){return Z},sign:function(){return W},signRecoverable:function(){return G},signSchnorr:function(){return X},verify:function(){return Y},verifySchnorr:function(){return $},xOnlyPointAddTweak:function(){return V},xOnlyPointAddTweakCheck:function(){return q},xOnlyPointFromPoint:function(){return K},xOnlyPointFromScalar:function(){return L}});var n=r(95193),o=r(97136),a=r(75337),s=e([a]);a=(s.then?(await s)():s)[0];let u=new Uint8Array(a.Z.memory.buffer),l=a.Z.PRIVATE_INPUT.value,c=a.Z.PUBLIC_KEY_INPUT.value,f=a.Z.PUBLIC_KEY_INPUT2.value,h=a.Z.X_ONLY_PUBLIC_KEY_INPUT.value,p=a.Z.X_ONLY_PUBLIC_KEY_INPUT2.value,d=a.Z.TWEAK_INPUT.value,g=a.Z.HASH_INPUT.value,b=a.Z.EXTRA_DATA_INPUT.value,y=a.Z.SIGNATURE_INPUT.value,m=u.subarray(l,l+o.Yl),v=u.subarray(c,c+o.Bl),w=u.subarray(f,f+o.Bl),E=u.subarray(h,h+o.Vt),_=u.subarray(p,p+o.Vt),S=u.subarray(d,d+o.jx),I=u.subarray(g,g+o.ZM),P=u.subarray(b,b+o.P0),k=u.subarray(y,y+o.fJ);function T(e,t){return void 0===e?void 0!==t?t.length:o.XM:e?o.XM:o.Bl}function O(e){try{return v.set(e),1===a.Z.isPoint(e.length)}finally{v.fill(0)}}function A(){a.Z.initializeContext()}function x(e){return o.DV(e)&&O(e)}function N(e){return o.rH(e)&&O(e)}function R(e){return o.vC(e)&&O(e)}function B(e){return o.hv(e)}function C(e,t,r){o.yE(e),o.yE(t);let i=T(r,e);try{return v.set(e),w.set(t),1===a.Z.pointAdd(e.length,t.length,i)?v.slice(0,i):null}finally{v.fill(0),w.fill(0)}}function U(e,t,r){o.yE(e),o.Cm(t);let i=T(r,e);try{return v.set(e),S.set(t),1===a.Z.pointAddScalar(e.length,i)?v.slice(0,i):null}finally{v.fill(0),S.fill(0)}}function M(e,t){o.yE(e);let r=T(t,e);try{return v.set(e),a.Z.pointCompress(e.length,r),v.slice(0,r)}finally{v.fill(0)}}function j(e,t){o.bl(e);let r=T(t);try{return m.set(e),1===a.Z.pointFromScalar(r)?v.slice(0,r):null}finally{m.fill(0),v.fill(0)}}function L(e){o.bl(e);try{return m.set(e),a.Z.xOnlyPointFromScalar(),E.slice(0,o.Vt)}finally{m.fill(0),E.fill(0)}}function K(e){o.yE(e);try{return v.set(e),a.Z.xOnlyPointFromPoint(e.length),E.slice(0,o.Vt)}finally{v.fill(0),E.fill(0)}}function D(e,t,r){o.yE(e),o.Cm(t);let i=T(r,e);try{return v.set(e),S.set(t),1===a.Z.pointMultiply(e.length,i)?v.slice(0,i):null}finally{v.fill(0),S.fill(0)}}function H(e,t){o.bl(e),o.Cm(t);try{return m.set(e),S.set(t),1===a.Z.privateAdd()?m.slice(0,o.Yl):null}finally{m.fill(0),S.fill(0)}}function z(e,t){if(o.bl(e),o.Cm(t),o.Fr(t))return new Uint8Array(e);try{return m.set(e),S.set(t),1===a.Z.privateSub()?m.slice(0,o.Yl):null}finally{m.fill(0),S.fill(0)}}function F(e){o.bl(e);try{return m.set(e),a.Z.privateNegate(),m.slice(0,o.Yl)}finally{m.fill(0)}}function V(e,t){o.$Q(e),o.Cm(t);try{E.set(e),S.set(t);let r=a.Z.xOnlyPointAddTweak();return -1!==r?{parity:r,xOnlyPubkey:E.slice(0,o.Vt)}:null}finally{E.fill(0),S.fill(0)}}function q(e,t,r,i){o.$Q(e),o.$Q(r),o.Cm(t);let s=void 0!==i;s&&o.Y6(i);try{if(E.set(e),_.set(r),S.set(t),s)return 1===a.Z.xOnlyPointAddTweakCheck(i);{a.Z.xOnlyPointAddTweak();let u=E.slice(0,o.Vt);return 0===(0,n.qu)(u,r)}}finally{E.fill(0),_.fill(0),S.fill(0)}}function W(e,t,r){o.ax(e),o.bl(t),o.IB(r);try{return I.set(e),m.set(t),void 0!==r&&P.set(r),a.Z.sign(void 0===r?0:1),k.slice(0,o.fJ)}finally{I.fill(0),m.fill(0),void 0!==r&&P.fill(0),k.fill(0)}}function G(e,t,r){o.ax(e),o.bl(t),o.IB(r);try{I.set(e),m.set(t),void 0!==r&&P.set(r);let i=a.Z.signRecoverable(void 0===r?0:1),n=k.slice(0,o.fJ);return{signature:n,recoveryId:i}}finally{I.fill(0),m.fill(0),void 0!==r&&P.fill(0),k.fill(0)}}function X(e,t,r){o.ax(e),o.bl(t),o.IB(r);try{return I.set(e),m.set(t),void 0!==r&&P.set(r),a.Z.signSchnorr(void 0===r?0:1),k.slice(0,o.fJ)}finally{I.fill(0),m.fill(0),void 0!==r&&P.fill(0),k.fill(0)}}function Y(e,t,r,i=!1){o.ax(e),o.yE(t),o.pB(r);try{return I.set(e),v.set(t),k.set(r),1===a.Z.verify(t.length,!0===i?1:0)}finally{I.fill(0),v.fill(0),k.fill(0)}}function Z(e,t,r,i=!1){o.ax(e),o.pB(t),o.XS(t),2&r&&o.K7(t),o.yT(()=>R(t.subarray(0,32)));let n=T(i);try{return I.set(e),k.set(t),1===a.Z.recover(n,r)?v.slice(0,n):null}finally{I.fill(0),k.fill(0),v.fill(0)}}function $(e,t,r){o.ax(e),o.$Q(t),o.pB(r);try{return I.set(e),E.set(t),k.set(r),1===a.Z.verifySchnorr()}finally{I.fill(0),E.fill(0),k.fill(0)}}i()}catch(J){i(J)}})},50612:function(e,t,r){"use strict";function i(){let e=new Uint8Array(4);return window.crypto.getRandomValues(e),e}function n(){let e=i();return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]}r.d(t,{L:function(){return n}})},97136:function(e,t,r){"use strict";r.d(t,{$Q:function(){return N},Bl:function(){return a},Cm:function(){return R},DV:function(){return E},Fr:function(){return y},IB:function(){return C},K7:function(){return L},P0:function(){return c},Vt:function(){return s},XM:function(){return o},XS:function(){return j},Y6:function(){return O},Yl:function(){return n},ZM:function(){return l},ax:function(){return B},bl:function(){return A},fJ:function(){return f},hv:function(){return m},jx:function(){return u},pB:function(){return U},rH:function(){return _},vC:function(){return w},yE:function(){return x},yT:function(){return M}});var i=r(99612);let n=32,o=33,a=65,s=32,u=32,l=32,c=32,f=64,h=new Uint8Array(32),p=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function g(e){return e instanceof Uint8Array}function b(e,t){for(let r=0;r<32;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function y(e){return 0===b(e,h)}function m(e){return g(e)&&e.length===n&&b(e,h)>0&&0>b(e,p)}function v(e){return g(e)&&(e.length===o||e.length===a||e.length===s)}function w(e){return g(e)&&e.length===s}function E(e){return g(e)&&(e.length===o||e.length===a)}function _(e){return g(e)&&e.length===o}function S(e){return g(e)&&e.length===u&&0>b(e,p)}function I(e){return g(e)&&e.length===l}function P(e){return void 0===e||g(e)&&e.length===c}function k(e){return g(e)&&64===e.length&&0>b(e.subarray(0,32),p)&&0>b(e.subarray(32,64),p)}function T(e){return g(e)&&64===e.length&&0>b(e.subarray(0,32),d)}function O(e){0!==e&&1!==e&&(0,i._y)(i.al)}function A(e){m(e)||(0,i._y)(i.Y2)}function x(e){v(e)||(0,i._y)(i.Gy)}function N(e){w(e)||(0,i._y)(i.Gy)}function R(e){S(e)||(0,i._y)(i.NQ)}function B(e){I(e)||(0,i._y)(i.AI)}function C(e){P(e)||(0,i._y)(i.B6)}function U(e){k(e)||(0,i._y)(i.bf)}function M(e){e()||(0,i._y)(i.bf)}function j(e){y(e.subarray(0,32))&&(0,i._y)(i.bf),y(e.subarray(32,64))&&(0,i._y)(i.bf)}function L(e){T(e)||(0,i._y)(i.X2)}},99612:function(e,t,r){"use strict";r.d(t,{AI:function(){return a},B6:function(){return u},Gy:function(){return n},NQ:function(){return o},X2:function(){return c},Y2:function(){return i},_y:function(){return h},al:function(){return l},bf:function(){return s}});let i=0,n=1,o=2,a=3,s=4,u=5,l=6,c=7,f={[i.toString()]:"Expected Private",[n.toString()]:"Expected Point",[o.toString()]:"Expected Tweak",[a.toString()]:"Expected Hash",[s.toString()]:"Expected Signature",[u.toString()]:"Expected Extra Data (32 bytes)",[l.toString()]:"Expected Parity (1 | 0)",[c.toString()]:"Bad Recovery Id"};function h(e){let t=f[e.toString()]||`Unknow error code: ${e}`;throw TypeError(t)}},75337:function(e,t,r){"use strict";r.a(e,async function(e,i){try{var n=r(8914),o=e([n]);n=(o.then?(await o)():o)[0],t.Z=n,i()}catch(a){i(a)}})},95193:function(e,t,r){"use strict";r.d(t,{qu:function(){return n}});let i="0123456789abcdefABCDEF";function n(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return e.length===t.length?0:e.length>t.length?1:-1}i.split("").map(e=>e.codePointAt(0)),Array(256).fill(!0).map((e,t)=>{let r=String.fromCodePoint(t),n=i.indexOf(r);return n<0?void 0:n<16?n:n-6}),new TextEncoder,new TextDecoder("ascii")},88593:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},46996:function(e){"use strict";e.exports=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]')},4262:function(e){"use strict";e.exports=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]')},40032:function(e){"use strict";e.exports=JSON.parse('["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"]')},24573:function(e){"use strict";e.exports=JSON.parse('["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]')},11848:function(e){"use strict";e.exports=JSON.parse('["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","academie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquerir","acronyme","acteur","actif","actuel","adepte","adequat","adhesif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aerer","aeronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agreable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algebre","algue","aliener","aliment","alleger","alliage","allouer","allumer","alourdir","alpaga","altesse","alveole","amateur","ambigu","ambre","amenager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","aneantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","aperitif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arteriel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","banniere","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","belier","belote","benefice","berceau","berger","berline","bermuda","besace","besogne","betail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","breche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafeine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","camera","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cedille","ceinture","celeste","cellule","cendrier","censurer","central","cercle","cerebral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chequier","chercher","cheval","chien","chiffre","chignon","chimere","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinema","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohesion","coiffer","coincer","colere","colibri","colline","colmater","colonel","combat","comedie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortege","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","creature","crediter","cremeux","creuser","crevette","cribler","crier","cristal","critere","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillere","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","debattre","debiter","deborder","debrider","debutant","decaler","decembre","dechirer","decider","declarer","decorer","decrire","decupler","dedale","deductif","deesse","defensif","defiler","defrayer","degager","degivrer","deglutir","degrafer","dejeuner","delice","deloger","demander","demeurer","demolir","denicher","denouer","dentelle","denuder","depart","depenser","dephaser","deplacer","deposer","deranger","derober","desastre","descente","desert","designer","desobeir","dessiner","destrier","detacher","detester","detourer","detresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","differer","digerer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","eblouir","ecarter","echarpe","echelle","eclairer","eclipse","eclore","ecluse","ecole","economie","ecorce","ecouter","ecraser","ecremer","ecrivain","ecrou","ecume","ecureuil","edifier","eduquer","effacer","effectif","effigie","effort","effrayer","effusion","egaliser","egarer","ejecter","elaborer","elargir","electron","elegant","elephant","eleve","eligible","elitisme","eloge","elucider","eluder","emballer","embellir","embryon","emeraude","emission","emmener","emotion","emouvoir","empereur","employer","emporter","emprise","emulsion","encadrer","enchere","enclave","encoche","endiguer","endosser","endroit","enduire","energie","enfance","enfermer","enfouir","engager","engin","englober","enigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","enumerer","envahir","enviable","envoyer","enzyme","eolien","epaissir","epargne","epatant","epaule","epicerie","epidemie","epier","epilogue","epine","episode","epitaphe","epoque","epreuve","eprouver","epuisant","equerre","equipe","eriger","erosion","erreur","eruption","escalier","espadon","espece","espiegle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","etagere","etaler","etanche","etatique","eteindre","etendoir","eternel","ethanol","ethique","ethnie","etirer","etoffer","etoile","etonnant","etourdir","etrange","etroit","etude","euphorie","evaluer","evasion","eventail","evidence","eviter","evolutif","evoquer","exact","exagerer","exaucer","exceller","excitant","exclusif","excuse","executer","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expedier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","febrile","feconder","federer","felin","femme","femur","fendoir","feodal","fermer","feroce","ferveur","festival","feuille","feutre","fevrier","fiasco","ficeler","fictif","fidele","figure","filature","filetage","filiere","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fleau","fleche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougere","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fregate","freiner","frelon","fremir","frenesie","frere","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","geant","gelatine","gelule","gendarme","general","genie","genou","gentil","geologie","geometre","geranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyere","guepard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","helium","hematome","herbe","herisson","hermine","heron","hesiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogene","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiene","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","imperial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inedit","ineptie","inexact","infini","infliger","informer","infusion","ingerer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irreel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvenile","kayak","kimono","kiosque","label","labial","labourer","lacerer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","legal","leger","legume","lessive","lettre","levier","lexique","lezard","liasse","liberer","libre","licence","licorne","liege","lievre","ligature","ligoter","ligue","limer","limite","limonade","limpide","lineaire","lingot","lionceau","liquide","lisiere","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumiere","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","malefice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","materiel","matiere","matraque","maudire","maussade","mauve","maximal","mechant","meconnu","medaille","medecin","mediter","meduse","meilleur","melange","melodie","membre","memoire","menacer","mener","menhir","mensonge","mentor","mercredi","merite","merle","messager","mesure","metal","meteore","methode","metier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mineral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murene","murmure","muscle","museum","musicien","mutation","muter","mutuel","myriade","myrtille","mystere","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nebuleux","nectar","nefaste","negation","negliger","negocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numero","nuptial","nuque","nutritif","obeir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","ocean","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onereux","onirique","opale","opaque","operer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygene","ozone","paisible","palace","palmares","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pasteque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pelican","pelle","pelouse","peluche","pendule","penetrer","penible","pensif","penurie","pepite","peplum","perdrix","perforer","periode","permuter","perplexe","persil","perte","peser","petale","petit","petrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","piece","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poesie","poete","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponderer","poney","portique","position","posseder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","precieux","predire","prefixe","prelude","prenom","presence","pretexte","prevoir","primitif","prince","prison","priver","probleme","proceder","prodige","profond","progres","proie","projeter","prologue","promener","propre","prospere","proteger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quietude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","reactif","reagir","realiser","reanimer","recevoir","reciter","reclamer","recolter","recruter","reculer","recycler","rediger","redouter","refaire","reflexe","reformer","refrain","refuge","regalien","region","reglage","regulier","reiterer","rejeter","rejouer","relatif","relever","relief","remarque","remede","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","reserve","resineux","resoudre","respect","rester","resultat","retablir","retenir","reticule","retomber","retracer","reunion","reussir","revanche","revivre","revolte","revulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","riviere","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scelerat","scenario","sceptre","schema","science","scinder","score","scrutin","sculpter","seance","secable","secher","secouer","secreter","sedatif","seduire","seigneur","sejour","selectif","semaine","sembler","semence","seminal","senateur","sensible","sentence","separer","sequence","serein","sergent","serieux","serrure","serum","service","sesame","sevir","sevrage","sextuple","sideral","siecle","sieger","siffler","sigle","signal","silence","silicium","simple","sincere","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","special","sphere","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succes","sucre","suffixe","suggerer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symetrie","synapse","syntaxe","systeme","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","temoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tetine","texte","theme","theorie","therapie","thorax","tibia","tiede","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolerant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trefle","tremper","tresor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","vegetal","vehicule","veinard","veloce","vendredi","venerer","venger","venimeux","ventouse","verdure","verin","vernir","verrou","verser","vertu","veston","veteran","vetuste","vexant","vexer","viaduc","viande","victoire","vidange","video","vignette","vigueur","vilain","village","vinaigre","violon","vipere","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xenon","yacht","zebre","zenith","zeste","zoologie"]')},72841:function(e){"use strict";e.exports=JSON.parse('["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"]')},94472:function(e){"use strict";e.exports=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]')},8013:function(e){"use strict";e.exports=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]')},71945:function(e){"use strict";e.exports=JSON.parse('["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"]')},80659:function(e){"use strict";e.exports=JSON.parse('["abaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accion","aceite","acelga","acento","aceptar","acido","aclarar","acne","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aereo","afectar","aficion","afinar","afirmar","agil","agitar","agonia","agosto","agotar","agregar","agrio","agua","agudo","aguila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacran","alambre","alarma","alba","album","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodon","aliado","aliento","alivio","alma","almeja","almibar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ambar","ambito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","anden","anemia","angulo","anillo","animo","anis","anotar","antena","antiguo","antojo","anual","anular","anuncio","anadir","anejo","ano","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","arana","arar","arbitro","arbol","arbusto","archivo","arco","arder","ardilla","arduo","area","arido","aries","armonia","arnes","aroma","arpa","arpon","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","aspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","atico","atleta","atomo","atraer","atroz","atun","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avion","aviso","ayer","ayuda","ayuno","azafran","azar","azote","azucar","azufre","azul","baba","babor","bache","bahia","baile","bajar","balanza","balcon","balde","bambu","banco","banda","bano","barba","barco","barniz","barro","bascula","baston","basura","batalla","bateria","batir","batuta","baul","bazar","bebe","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsai","borde","borrar","bosque","bote","botin","boveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufon","buho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzon","caballo","cabeza","cabina","cabra","cacao","cadaver","cadena","caer","cafe","caida","caiman","caja","cajon","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cancer","candil","canela","canguro","canica","canto","cana","canon","caoba","caos","capaz","capitan","capote","captar","capucha","cara","carbon","carcel","careta","carga","carino","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","celebre","celoso","celula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","cesped","cetro","chacal","chaleco","champu","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclon","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipres","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clinica","cobre","coccion","cochino","cocina","coco","codigo","codo","cofre","coger","cohete","cojin","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","comodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazon","corbata","corcho","cordon","corona","correr","coser","cosmos","costa","craneo","crater","crear","crecer","creido","crema","cria","crimen","cripta","crisis","cromo","cronica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupon","cupula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","datil","deber","debil","decada","decir","dedo","defensa","definir","dejar","delfin","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvio","detalle","detener","deuda","dia","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","dificil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseno","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragon","droga","ducha","duda","duelo","dueno","dulce","duo","duque","durar","dureza","duro","ebano","ebrio","echar","eco","ecuador","edad","edicion","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","elite","elixir","elogio","eludir","embudo","emitir","emocion","empate","empeno","empleo","empresa","enano","encargo","enchufe","encia","enemigo","enero","enfado","enfermo","engano","enigma","enlace","enorme","enredo","ensayo","ensenar","entero","entrar","envase","envio","epoca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espia","esposa","espuma","esqui","estar","este","estilo","estufa","etapa","eterno","etica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","exito","experto","explicar","exponer","extremo","fabrica","fabula","fachada","facil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraon","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fertil","fervor","festin","fiable","fianza","fiar","fibra","ficcion","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","fluor","fobia","foca","fogata","fogon","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fragil","franja","frase","fraude","freir","freno","fresa","frio","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcion","funda","furgon","furia","fusil","futbol","futuro","gacela","gafas","gaita","gajo","gala","galeria","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilan","gemelo","gemir","gen","genero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","grafico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grua","grueso","grumo","grupo","guante","guapo","guardia","guerra","guia","guino","guion","guiso","guitarra","gusano","gustar","haber","habil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazana","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","heroe","hervir","hielo","hierro","higado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","humedo","humilde","humo","hundir","huracan","hurto","icono","ideal","idioma","idolo","iglesia","iglu","igual","ilegal","ilusion","imagen","iman","imitar","impar","imperio","imponer","impulso","incapaz","indice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interes","intimo","intuir","inutil","invierno","ira","iris","ironia","isla","islote","jabali","jabon","jamon","jarabe","jardin","jarra","jaula","jazmin","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","jupiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladron","lagarto","lagrima","laguna","laico","lamer","lamina","lampara","lana","lancha","langosta","lanza","lapiz","largo","larva","lastima","lata","latex","latir","laurel","lavar","lazo","leal","leccion","leche","lector","leer","legion","legumbre","lejano","lengua","lento","lena","leon","leopardo","lesion","letal","letra","leve","leyenda","libertad","libro","licor","lider","lidiar","lienzo","liga","ligero","lima","limite","limon","limpio","lince","lindo","linea","lingote","lino","linterna","liquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locion","loco","locura","logica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maiz","maldad","maleta","malla","malo","mama","mambo","mamut","manco","mando","manejar","manga","maniqui","manjar","mano","manso","manta","manana","mapa","maquina","mar","marco","marea","marfil","margen","marido","marmol","marron","martes","marzo","masa","mascara","masivo","matar","materia","matiz","matriz","maximo","mayor","mazorca","mecha","medalla","medio","medula","mejilla","mejor","melena","melon","memoria","menor","mensaje","mente","menu","mercado","merengue","merito","mes","meson","meta","meter","metodo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millon","mimo","mina","minero","minimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocion","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mono","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","movil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muneca","mural","muro","musculo","museo","musgo","musica","muslo","nacar","nacion","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","nausea","naval","nave","navidad","necio","nectar","negar","negocio","negro","neon","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","ninez","nino","nitido","nivel","nobleza","noche","nomina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nucleo","nudillo","nudo","nuera","nueve","nuez","nulo","numero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oceano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oido","oir","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcion","opera","opinar","oponer","optar","optica","opuesto","oracion","orador","oral","orbita","orca","orden","oreja","organo","orgia","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadia","oscuro","osezno","oso","ostra","otono","otro","oveja","ovulo","oxido","oxigeno","oyente","ozono","pacto","padre","paella","pagina","pago","pais","pajaro","palabra","palco","paleta","palido","palma","paloma","palpar","pan","panal","panico","pantera","panuelo","papa","papel","papilla","paquete","parar","parcela","pared","parir","paro","parpado","parque","parrafo","parte","pasar","paseo","pasion","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peaton","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldano","pelea","peligro","pellejo","pelo","peluca","pena","pensar","penon","peon","peor","pepino","pequeno","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pesimo","pestana","petalo","petroleo","pez","pezuna","picar","pichon","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pina","piojo","pipa","pirata","pisar","piscina","piso","pista","piton","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesia","poeta","polen","policia","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcion","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","principe","prision","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","proximo","prueba","publico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmon","pulpo","pulso","puma","punto","punal","puno","pupa","pupila","pure","quedar","queja","quemar","querer","queso","quieto","quimica","quince","quitar","rabano","rabia","rabo","racion","radical","raiz","rama","rampa","rancho","rango","rapaz","rapido","rapto","rasgo","raspa","rato","rayo","raza","razon","reaccion","realidad","rebano","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refran","refugio","regalo","regir","regla","regreso","rehen","reino","reir","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reves","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rigido","rigor","rincon","rinon","rio","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sabado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmon","salon","salsa","salto","salud","salvar","samba","sancion","sandia","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarten","sastre","satan","sauna","saxofon","seccion","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","senal","senor","separar","sepia","sequia","ser","serie","sermon","servir","sesenta","sesion","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","silaba","silbar","silencio","silla","simbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","solido","soltar","solucion","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sosten","sotano","suave","subir","suceso","sudor","suegra","suelo","sueno","suerte","sufrir","sujeto","sultan","sumar","superar","suplir","suponer","supremo","sur","surco","sureno","surgir","susto","sutil","tabaco","tabique","tabla","tabu","taco","tacto","tajo","talar","talco","talento","talla","talon","tamano","tambor","tango","tanque","tapa","tapete","tapia","tapon","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazon","teatro","techo","tecla","tecnica","tejado","tejer","tejido","tela","telefono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoria","terapia","terco","termino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburon","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","timido","timo","tinta","tio","tipico","tipo","tira","tiron","titan","titere","titulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","torax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","toxico","trabajo","tractor","traer","trafico","trago","traje","tramo","trance","trato","trauma","trazar","trebol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberia","tubo","tuerto","tumba","tumor","tunel","tunica","turbina","turismo","turno","tutor","ubicar","ulcera","umbral","unidad","unir","universo","uno","untar","una","urbano","urbe","urgente","urna","usar","usuario","util","utopia","uva","vaca","vacio","vacuna","vagar","vago","vaina","vajilla","vale","valido","valle","valor","valvula","vampiro","vara","variar","varon","vaso","vecino","vector","vehiculo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","via","viaje","vibrar","vicio","victima","vida","video","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vinedo","violin","viral","virgo","virtud","visor","vispera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcan","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"]')},18597:function(e){"use strict";e.exports={i8:"6.5.4"}},8914:function(e,t,r){"use strict";var i=r(50612),n=r(99612);e.exports=r.v(t,e.id,"58f8246e38f31f3d",{"./rand.js":{generateInt32:i.L},"./validate_error.js":{throwError:n._y}})}}]);